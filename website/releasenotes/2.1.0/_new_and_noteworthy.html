<html>
<head>
<style type="text/css" title="text/css" media="screen">
td  {
	border-top: 1px solid #D4D4DD;
	text-align: left;
	vertical-align: top;
	font-weight: normal;
	padding: 5pt;
	width: 425px;
}

td.entry_cell {
	font-weight: bold;
	width: 30%
}

td.change {
	font-style: italic;
	color: red;
}

table {
    border-top-style: none;
 	border-collapse: collapse;
}

h2 {
	border-bottom: none;
}

img {
	max-width: 425px;
}

</style>
</head>
<body>
<h1>Whats new in Xtext 2.1</h1>
<p>Xtext 2.1 offers a lot of new features and improvements. All in all, 
<a href="https://bugs.eclipse.org/bugs/buglist.cgi?chfieldto=Now;query_format=advanced;chfieldfrom=2011-06-01;bug_status=RESOLVED;bug_status=VERIFIED;bug_status=CLOSED;component=Xtext;resolution=FIXED;classification=Modeling;product=TMF;target_milestone=SR1;target_milestone=SR2">over 250 bug reports and feature requests</a> 
have been solved since Xtext 2.0. Here is a summary of the most significant enhancements:</p>
<ul>
  <li><a href="#Xtext">Changes to Xtext</a></li>
  <li><a href="#Xtend">Changes to Xtend</a></li>
</ul>
<h2>Changes to Xtext</h2>
<table>
	<tr>
		<td class="entry_cell">Embed expressions easily</td>
		<td>
		<p>
			Embedding the expression language Xbase in your own language has become very simple. For most cases
			it is enough to specify how your language concepts relate to the JVM typesystem. The framework then derives 
			all other services such as scoping or even the code generator from this mapping automatically. 
		</p>
		<img alt="Embedding Xbase - Xtext editor" src="./images/xtext-xbase-1.png">
		<hr/>
		<img alt="Embedding Xbase - Xtend editor" src="./images/xtext-xbase-4.png">
		</td>	
	</tr>
	<tr>
		<td class="entry_cell">Editor Improvements</td>
		<td>
		<p>
			Selection can now be enlarged/shrinked with regard to the semantics by using CTRL-SHIFT-[LEFT|RIGHT]. 
			Upper case letters are matched to camel case names in content assist. The outline view shows better
			defaults.
		</p>
		<img alt="Camel Case Content assist" src="./images/xtext-camel-ca.png">
		</td>	
	</tr>
	<tr>
		<td class="entry_cell">Refactoring</td>
		<td>
		<p>
			Rename refactoring has been revised and allows you to reliably rename elements and references
			across language and resource boundaries. Saving and inline editing can be configured in the 
			preferences.
		</p>
		<img alt="Refactoring preferences" src="./images/xtext-refactoring-props.png">
		</td>	
	</tr>
	<tr>
		<td class="entry_cell">Builder Performance</td>
		<td>
		<p>
			The performance of the builder has had special attention. It not only runs less often now, but it 
			also adapts better to files with different sizes. The resource loading can be parallelized to 
			further minimize build times.   
		</p>
		<img alt="Builder performance" src="./../helios/images/speed.png">
		</td>	
	</tr>
	<tr>
		<td class="entry_cell">Enhancements for Xbase Expressions</td>
		<td>
		<p>
			A couple of additions to the syntax allow you to simplify Xbase expressions even further:
			<ul>
			<li>
				We have introduced a second implicit variable named <em>it</em>. As opposed to the existing 
				<em>this</em>, you can declare and override <em>it</em>, e.g. as a function parameter. 
			</li>
			<li>
				If the last argument of a function call is a closure it can now be specified after the 
				feature call. This way you can provide extension libraries that look like new statements. 
				In combination with <em>it</em> and procedures you can for example create object trees using
				a very elegant syntax.
			</li>
			</ul>
		</p>
		<img alt="Syntactic sugar" src="./images/syntactic-sugar.png">
		</td>	
	</tr>
	<tr>
		<td class="entry_cell">Testing Framework Enhancements</td>
		<td>
		<p>
			A new experimental extension to the testing framework allows JUnit4-Tests to be parameterized
			with DSL files. Expectations can be configured right within the DSL files using comments.
		</p>
		</td>	
	</tr>
	
</table>
<h2 id="Xtend">Changes to Xtend</h2>
<h3>Language Improvements</h3>
<table>
	<tr>
		<td class="entry_cell">More Syntactic Sugar for Expressions</td>
		<td>
		<p>
			The following additions to the syntax allow you to simplify Xtend expressions even further:
			<ul>
			<li>
				We have introduced a second implicit variable named <em>it</em>. As opposed to the existing 
				<em>this</em>, you can declare and override <em>it</em>, e.g. as a function parameter. 
				Use <em>it</em> to omit a single parameter in closures or as the default variable in create 
				extensions.
			</li>
			<li>
				Xtend now supports procedures. If a closure does not return a value you don't have to specify 
				it.
			</li>
			<li>
				If the last argument of a function call is a closure it can now be specified after the 
				feature call. This way you can provide extension libraries that look like new statements. 
				In combination with <em>it</em> and procedures you can for example create object trees using
				a very elegant syntax.
			</li>
			</ul>
		</p>
		<img alt="Syntactic sugar" src="./images/syntactic-sugar.png">
		</td>	
	</tr>
	<tr>
		<td class="entry_cell">Visibility</td>
		<td>
		<p>
			Members of Xtend classes can now be defined as 'private', 'protected' or 'public'. The 
			default visibility stays 'public' for classes and methods and 'private' for fields. The 
			visibility of a derived dispatcher method is inferred from its dispatch methods. 
		</p>
		<img alt="Visibility" src="./images/visibility.png">
		</td>	
	</tr>
	<tr>
		<td class="entry_cell">Unnamed @Inject Extensions</td>
		<td>
		<p>
			The name of an field can be omitted, if the field is injected as an extension. Its features
			stay accessible via the extension call syntax.   
		</p>
		<img alt="Inject Extensions" src="./images/inject-extension.png">
		</td>	
		</td>	
	</tr>
	<tr>
		<td class="entry_cell">Improved Type Inference</td>
		<td>
		<p>
			The type inference for generic types and arrays has been improved, such that you can skip
			explicit type declarations in even more cases.
		</p>
		<img alt="Inference for generic types" src="./images/infer-generics.png">
		</td>	
		</td>	
	</tr>
</table>
<h3>Tool Improvements</h3>
<table>
	<tr>
		<td class="entry_cell">Organize Imports</td>
		<td>
		<p>
			Import statements in Xtend files can now be organized as in JDT: Unused imports are marked and can 
			be automatically pruned using the "Organize Imports" action. Wildcard imports have been deprecated.
		</p>
		<img alt="Organize Imports" src="./images/organize-imports.png">
		</td>	
	</tr>
	<tr>
		<td class="entry_cell">Editor Look and Feel</td>
		<td>
		<p>
			Editing Xtend has become more comfortable: You can now enlarge/shrink the selection based on the 
			semantics using CTRL-SHIFT-[LEFT|RIGHT]. Content assist matches upper case letters to camel case 
			prefixes. Xtend files are colored semantically to better highlight extension calls, deprecation etc.
			We have added more validation rules to help the user writing correct Xtend code.
		</p>
		<img alt="Camel Case Content assist" src="./images/camelcase-ca.png">
		</td>	
	</tr>
	<tr>
		<td class="entry_cell">Editor Navigation</td>
		<td>
		<p>
			An go to Xtend source hyperlink has been added for generated java types, which directly opens the source
			xtend file. By default, the hyperlink appears when you hold down the Ctrl key while hovering over
			a generated java type.
		</p>
		<img alt="Go to declaration" src="./images/goto-declaration.png">
		</td>	
	</tr>
	<tr>
		<td class="entry_cell">Improved Java Code Generation</td>
		<td>
		<p>
			The code generator translates comments from Xtend artifacts to JavaDoc in the generated Java code. 
		</p>
		<img alt="Comment To Javadoc" src="./images/javadoc.png">
		</td>	
	</tr>
	<tr>
		<td class="entry_cell">Refactoring</td>
		<td>
		<p>
			Rename refactoring has been revised to integrate seamlessly with JDT. Declarations and references 
			are correctly updated in Java as well as in Xtend code, no matter where the refactoring has been 
			triggered.
		</p>
		<img alt="Rename refactoring" src="./images/rename.png">
		</td>	
	</tr>
</table>


</body>
</html>