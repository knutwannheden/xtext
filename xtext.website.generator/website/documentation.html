<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Xtext - Language Development Made Easy!</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description"
		content="The website of Eclipse Xtext, an open-source framework for development of programming langauges and domain-specific languages">
	<meta name="author" content="Sven Efftinge">
	<!--  styles -->
	<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	
	<!-- Le fav and touch icons -->
	
	<link rel="shortcut icon" href="images/favicon.png">
	
	<link href="css/bootstrap.css" rel="stylesheet" type='text/css'>
	<link href="css/bootstrap-responsive.css" rel="stylesheet" type='text/css'>
	<link href="css/style.css" rel="stylesheet" type='text/css'>
	<link href="css/shield-responsive.css" rel="stylesheet" type='text/css'>
	<link href='css/fonts.css' rel='stylesheet' type='text/css'>
	<link href="css/prettyPhoto.css" rel="stylesheet" media="screen" type='text/css'>
	<link href="google-code-prettify/prettify.css" type="text/css" rel="stylesheet"/>
	<!--[if lt IE 9]>
	<link href="css/iebugs.css" rel="stylesheet" type='text/css'>
	<![endif]-->
	<script src="js/twitter.js" type="text/javascript"></script>
	<script src="js/jquery-1.7.1.min.js"></script>
	<script src="js/jquery.prettyPhoto.js" type="text/javascript"></script>
		<script type="text/javascript">
	     $(document).ready(function() {
			prettyPrint();
			$('a[data-rel]').each(function() {
				$(this).attr('rel', $(this).data('rel'));
			});
			
			$("a[rel^='prettyPhoto']").prettyPhoto({
				animation_speed: 'fast',
				slideshow: 5000,
				autoplay_slideshow: false,
				opacity: 0.80,
				show_title: true,
				theme: 'ligh_square',
				overlay_gallery: false,
				social_tools: false
			});
			$('#nav-outline > li > a').live('click', function() {        
				$(this).parent().find('ul').slideToggle();      
			});
			$('.has-popover').popover();
			getTwitters('tweet', { 
				id: 'xtext', 
				count: 5,
				includeRT: true,
				enableLinks: true, 
				clearContents: true,
				template : '"%text%" - %time% by <a href="http://twitter.com/%user_screen_name%/statuses/%id_str%/">@%user_screen_name%</a><br/><br/>'
			});
			var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
			po.src = 'https://apis.google.com/js/plusone.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
	     });
		</script>
	<script type="text/javascript">
		var _gaq = _gaq || [];	
	  	_gaq.push([ '_setAccount', 'UA-2429174-3' ]);
		_gaq.push([ '_trackPageview' ]);
		(function() {
			var ga = document.createElement('script');
			ga.type = 'text/javascript';
			ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl'
					: 'http://www')
					+ '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0];
			s.parentNode.insertBefore(ga, s);
		})();
	</script>
</head>
<body>
	<!-- Navbar -->
	<div class="navbar navbar-fixed-top"
		style="border-bottom: 1px solid #000;">
		<div class="navbar-inner">
			<div class="container">
				<a class="btn btn-navbar" data-toggle="collapse"
					data-target=".nav-collapse"> <span class="icon-bar"></span> <span
					class="icon-bar"></span> <span class="icon-bar"></span>
				</a> <a class="brand" href="index.html"></a>
				<div class="nav-collapse collapse" style="height: 0px;">
					<ul class="nav">
						<li ><a href="news.html">News</a></li>
						<li ><a href="download.html">Download</a></li>
						<li ><a href="7languages.html">7 Languages</a></li>
						<li class="active"><a href="documentation.html">Documentation</a></li>
						<li ><a href="community.html">Community</a></li>
						<li ><a href="http://xtend-lang.org">Xtend</a></li>
						<li ><a href="http://www.eclipse.org">Eclipse.org</a></li>
					</ul>
				</div>
				<!--/.nav-collapse -->
		        <div class="btn-group pull-right">
		          <g:plusone href="http://www.xtext.org"></g:plusone>
		        </div>
	
			</div>
		</div>
	</div>
	<!-- Navbar End -->
<!--Container-->
<div id="header_wrapper" class="container">
	<ul id="nav-outline">
		<li>&nbsp;</li>
		<li style="color : #333;">Getting Started</li>
		<li><a href="#FirstFiveMinutes">5 Minutes Tutorial</a>
	<ul>	<li><a href="#NewProject">Creating A New Xtext Project</a></li>
		<li><a href="#RunWorkflow">Generating The Language Infrastructure</a></li>
		<li><a href="#TestingTheEditor">Try The Editor</a></li>
		<li><a href="#Conclusion">Conclusion</a></li>
	</ul>	</li>
		<li><a href="#DomainModelWalkThrough">15 Minutes Tutorial</a>
	<ul>	<li><a href="#_0">Create A New Xtext Project</a></li>
		<li><a href="#_1">Write Your Own Grammar</a></li>
		<li><a href="#_2">Generate Language Artifacts</a></li>
		<li><a href="#_3">Run the Generated IDE Plug-in</a></li>
		<li><a href="#_4">Second Iteration: Adding Packages and Imports</a></li>
	</ul>	</li>
		<li><a href="#DomainmodelNextSteps">15 Minutes Tutorial - Extended</a>
	<ul>	<li><a href="#TutorialCodeGeneration">Writing a Code Generator With Xtend</a></li>
		<li><a href="#TutorialUnitTests">Unit Testing the Language</a></li>
		<li><a href="#TutorialValidation">Creating Custom Validation Rules</a></li>
	</ul>	</li>
		<li><a href="#JvmDomainmodel">Five simple steps to your JVM language</a>
	<ul>	<li><a href="#_5">Step One: Create A New Xtext Project</a></li>
		<li><a href="#_6">Step Two: Write the Grammar</a></li>
		<li><a href="#_7">Step Three: Generate Language Artifacts</a></li>
		<li><a href="#_8">Step Four: Define the Mapping to JVM Concepts</a></li>
		<li><a href="#_9">Step Five : Try the Editor!</a></li>
	</ul>	</li>
		<li>&nbsp;</li>
		<li style="color : #333;">Reference Documentation</li>
		<li><a href="#Overview">Overview</a>
	<ul>	<li><a href="#_10">What is Xtext?</a></li>
		<li><a href="#_11">How Does It Work?</a></li>
		<li><a href="#_12">Xtext is Highly Configurable</a></li>
		<li><a href="#_13">Who Uses Xtext?</a></li>
		<li><a href="#_14">Who is Behind Xtext?</a></li>
		<li><a href="#DSL">What is a Domain-Specific Language</a></li>
	</ul>	</li>
		<li><a href="#grammarLanguage">The Grammar Language</a>
	<ul>	<li><a href="#statemachine">A First Example</a></li>
		<li><a href="#syntax">The Syntax</a></li>
		<li><a href="#metamodelInference">Ecore Model Inference</a></li>
		<li><a href="#grammarMixins">Grammar Mixins</a></li>
		<li><a href="#_15">Common Terminals</a></li>
	</ul>	</li>
		<li><a href="#configuration">Configuration</a>
	<ul>	<li><a href="#generator">The Language Generator</a></li>
		<li><a href="#dependencyInjection">Dependency Injection in Xtext with Google Guice</a></li>
	</ul>	</li>
		<li><a href="#runtime_concepts">Runtime Concepts</a>
	<ul>	<li><a href="#runtimeSetup">Runtime Setup (ISetup)</a></li>
		<li><a href="#equinoxSetup">Setup within Eclipse-Equinox (OSGi)</a></li>
		<li><a href="#_16">Logging</a></li>
		<li><a href="#validation">Validation</a></li>
		<li><a href="#linking">Linking</a></li>
		<li><a href="#scoping">Scoping</a></li>
		<li><a href="#valueconverter">Value Converter</a></li>
		<li><a href="#serialization">Serialization</a></li>
		<li><a href="#formatting">Formatting (Pretty Printing)</a></li>
		<li><a href="#fragmentProvider">Fragment Provider (Referencing Xtext Models From Other EMF Artifacts)</a></li>
		<li><a href="#encoding">Encoding in Xtext</a></li>
	</ul>	</li>
		<li><a href="#ide_concepts">IDE Concepts</a>
	<ul>	<li><a href="#labelProvider">Label Provider</a></li>
		<li><a href="#contentAssist">Content Assist</a></li>
		<li><a href="#quickfixes">Quick Fixes</a></li>
		<li><a href="#templates">Template Proposals</a></li>
		<li><a href="#outline">Outline View</a></li>
		<li><a href="#hyperlinking">Hyperlinking</a></li>
		<li><a href="#highlighting">Syntax Coloring</a></li>
		<li><a href="#refactoring">Rename Refactoring</a></li>
	</ul>	</li>
		<li><a href="#Xbase">Xtext and Java</a>
	<ul>	<li><a href="#_17">Plug-in Setup</a></li>
		<li><a href="#jvmtypes">Referring to Java Elements using JVM Types</a></li>
		<li><a href="#xbaseJavaReferences">Referring to Java Types Using Xbase</a></li>
		<li><a href="#xbaseInferredType">Inferring a JVM Model</a></li>
		<li><a href="#xbaseExpressions">Using Xbase Expressions</a></li>
		<li><a href="#xbaseLanguageRef_Introduction">Xbase Language Reference</a></li>
	</ul>	</li>
		<li><a href="#MWE2">MWE2</a>
	<ul>	<li><a href="#MWE2Exampe">Examples</a></li>
		<li><a href="#MWE2LanguageReference">Language Reference</a></li>
		<li><a href="#MWE2SyntaxReference">Syntax Reference</a></li>
	</ul>	</li>
		<li><a href="#emf_integration">Integration with EMF and Other EMF Editors</a>
	<ul>	<li><a href="#model_metamodel">Model, Ecore Model, and Ecore</a></li>
		<li><a href="#emf_codegen">EMF Code Generation</a></li>
		<li><a href="#xtext_resource">XtextResource Implementation</a></li>
		<li><a href="#gmf_integration">Integration with GMF Editors</a></li>
	</ul>	</li>
		<li>&nbsp;</li>
		<li style="color : #333;">Appendix</li>
		<li><a href="#migrating_from_1_0_x">Migrating from Xtext 1.0.x to 2.0</a>
	<ul>	<li><a href="#_18">Take the Shortcut</a></li>
		<li><a href="#_19">Migrating Step By Step</a></li>
		<li><a href="#_20">Now go for then new features</a></li>
	</ul>	</li>
		<li><a href="#migrating_from_0_7">Migrating from Xtext 0.7.x to 1.0</a>
	<ul>	<li><a href="#_21">Migrating Step By Step</a></li>
	</ul>	</li>
		<li>&nbsp;</li>
		<li style="color : #333;">Additional Resources
		<li><a href="documentation/2.3.0/Documentation.pdf">Documentation <img src="images/pdf_icon.gif"></a>
		<li><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/">API Documentation (JavaDoc)</a>
	</ul>
</div>
<div id="page">  
	<div class="inner">
		<div id="maincontainer" class="container">
			<!-- chapter -->
			<section id="FirstFiveMinutes" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							5 Minutes Tutorial
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							In this chapter you will learn how to create a new Xtext project, generate a fully working language infrastructure
							and how to start a new Eclipse instance in order to test the editor. But before we get started, make sure you have 
							Eclipse Xtext properly installed.
						</p>
						<!--  section -->
						<section id="NewProject" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Creating A New Xtext Project</h2>
						<p>
							The first step is to create a new Xtext project by choosing <strong>File -&gt; New -&gt; Project...</strong>. The dialog
							offers a couple of different project types. Select <strong>New Xtext Project</strong> from the category <strong>Xtext</strong> and
							finish the wizard with the default settings. You will find 3 new projects in your workspace which are mostly
							empty. The Xtext grammar editor will be opened and show the definition of a very simple <strong>Hello World</strong> language.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.xtext.example.mydsl.MyDsl with 
                                      org.eclipse.xtext.common.Terminals

generate myDsl "http://www.xtext.org/example/mydsl/MyDsl"

Model:
  greetings+=Greeting*;
  
Greeting:
  'Hello' name=ID '!';</pre>
							<p>
						</p>
						<p>
							The only thing this language does, is to allow to write down a list of greetings. The following would
							be proper input: 
							</p>
							<pre class="prettyprint lang-mydsl linenums">
Hello Xtext!
Hello World!</pre>
							<p>
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/FiveMinTutorial_FreshProject.png" alt="" width="880" height="684">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="RunWorkflow" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Generating The Language Infrastructure</h2>
						<p>
							In order to test drive this language, you will have to generate the respective language infrastructure.
							Therefore, choose <strong>Run As -&gt; Generate Xtext Artifacts</strong> from the context menu of the grammar editor.
							A new Java process will be spawned and afterwards you will find a couple of new files in the projects that
							were created in the first step. What you see now is a runnable language infrastructure with a powerful Eclipse editor
							for a brain-dead language :-).
						</p>
						</section>
						<!--  section -->
						<section id="TestingTheEditor" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Try The Editor</h2>
						<p>
							Let's give the editor a try. If you select <strong>Run As -&gt; Eclipse Application</strong> from the project's context menu, you can
							create a new Eclipse Application. A new Eclipse instance will be launched and allows to test drive the
							editor.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/FiveMinTutorial_LaunchConfig.png" alt="" width="862" height="626">
							</div>
							<p>
						</p>
						<p>
							Before you can create a file for the sample language, you will have to create a sample project. Select
							<strong>File -&gt; New -&gt; Project...</strong>
							and choose a project type of your choice, e.g. <strong>Java Project</strong>, name it <strong>Sample</strong> and create a new file
							in the <strong>src</strong> folder of the project: From the context menu of the folder choose <strong>New -&gt; File</strong>, call
							it <strong>Sample.mydsl</strong> and hit <strong>Finish</strong>. The newly created editor will open for your language and ask you in
							a dialog, whether you want to add the Xtext nature to your project, which should be confirmed. You can now
							give the editor a try, e.g. use content assist (<strong>Ctrl+Space</strong>) to insert the keyword <code class="prettyprint lang-mydsl">Hello</code> 
							and see how the input is validated immediately.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/FiveMinTutorial_Editor.png" alt="" width="767" height="505">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="Conclusion" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Conclusion</h2>
						<p>
							In your first five minutes with Xtext, you have learned how to create a new set of projects. You have run
							Xtext's code generation in order to get a fully working language infrastructure, and finally learned
							how to test the generated editor.
						</p>
						<p>
							Next up you should go through the more comprehensive <a href="#DomainModelWalkThrough">Domain
							Model Example</a>. It explains the different concepts of the Xtext grammar language and illustrates how
							to customize various aspects of the language.
						</p>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="DomainModelWalkThrough" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							15 Minutes Tutorial
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							In this tutorial we will implement a small domain-specific language to model entities and properties
							similar to what you may know from Rails, Grails or Spring Roo. The syntax is very suggestive :
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
datatype String

entity Blog {
  title: String
  many posts: Post
}

entity HasAuthor {
  author: String
}

entity Post extends HasAuthor {
  title: String
  content: String
  many comments: Comment
}

entity Comment extends HasAuthor {
  content: String
}</pre>
							<p>
						</p>
						<p>
							After you have installed Xtext on your machine, start Eclipse and set up a fresh workspace.
						</p>
						<!--  section -->
						<section id="_0" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Create A New Xtext Project</h2>
						<p>
							In order to get started we first need to create some Eclipse projects. Use the Eclipse wizard to do so:
						</p>
						<p>
							<strong>File -&gt; New -&gt; Project...  -&gt; Xtext -&gt; Xtext project</strong>
						</p>
						<p>
							Choose a meaningful project name, language name and file extension, e.g.
						</p>
						<p>
							</p>
							<table class="table table-bordered table-condensed">
							<tr><td><strong>Main project name:</strong></td>
							<td>org.example.domainmodel</td>
							</tr>
							<tr><td><strong>Language name:</strong></td>
							<td>org.example.domainmodel.Domainmodel</td>
							</tr>
							<tr><td><strong>DSL-File extension:</strong></td>
							<td>dmodel</td>
							</tr>
							</table>
							<p>
						</p>
						<p>
							Click on <strong>Finish</strong> to create the projects.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_wizard.png" alt="" width="633" height="547">
							</div>
							<p>
						</p>
						<p>
							After you have successfully finished the wizard, you will find three new projects in your workspace.
						</p>
						<p>
							</p>
							<table class="table table-bordered table-condensed">
							<tr><td>org.example.domainmodel</td>
							<td>Contains the grammar definition and all runtime components (parser, lexer, linker, validation, etc.)</td>
							</tr>
							<tr><td>org.example.domainmodel.tests</td>
							<td>Unit tests go here.</td>
							</tr>
							<tr><td>org.example.domainmodel.ui</td>
							<td>The Eclipse editor and all the other workbench related functionality.</td>
							</tr>
							</table>
							<p>
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_initialprojectlayout.png" alt="" width="912" height="544">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_1" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Write Your Own Grammar</h2>
						<p>
							The wizard will automatically open the grammar file 
							<strong>Domainmodel.xtext</strong> in the editor. As you can see that it already contains a simple <strong>Hello World</strong> grammar:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.example.domainmodel.Domainmodel with
                                      org.eclipse.xtext.common.Terminals

generate domainmodel "http://www.example.org/domainmodel/Domainmodel"

Model:
  greetings+=Greeting*;
  
Greeting:
  'Hello' name=ID '!';</pre>
							<p>
						</p>
						<p>
							Let's now just replace that grammar definition with the one for our domain model language:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.example.domainmodel.Domainmodel with
                                      org.eclipse.xtext.common.Terminals

generate domainmodel "http://www.example.org/domainmodel/Domainmodel"

Domainmodel :
  elements += Type*
;
  
Type:
  DataType | Entity
;
  
DataType:
  'datatype' name = ID
;
 
Entity:
  'entity' name = ID ('extends' superType = [Entity])? '{'
     features += Feature*
  '}'
;
 
Feature:
  many?='many'? name = ID ':' type = [Type]
;</pre>
							<p>
						</p>
						<p>
							Let's have a more detailed look at what the different grammar rules mean:
						</p>
						<p>
							</p>
							<ol>
								<li>The first rule in a grammar is always used as the entry or start rule.  
								<pre class="prettyprint lang-xtext linenums">
Domainmodel :
  elements += Type*
;</pre>
								    
								    It says that a <strong>Domainmodel</strong> contains an arbitrary number (<code class="prettyprint lang-xtext">*</code>) of <strong>Type</strong>s which will be added (<code class="prettyprint lang-xtext">+=</code>)
								    to a feature called <code class="prettyprint lang-xtext">elements</code>.</li>
								<li>The rule <strong>Type</strong> delegates to either the rule <strong>DataType</strong> or (<code class="prettyprint lang-xtext">|</code>) the rule <strong>Entity</strong>.
								      
								<pre class="prettyprint lang-xtext linenums">
Type:
  DataType | Entity
;</pre></li>
								<li>The rule <strong>DataType</strong> starts with a keyword <code class="prettyprint lang-xtext">'datatype'</code>, followed by an identifier
								    which is parsed by a rule called <strong>ID</strong>. The rule <strong>ID</strong> is defined in the super grammar
								<strong>org.eclipse.xtext.common.Terminals</strong> and parses a single word, a.k.a identifier. You can navigate
								    to the declaration by using <strong>F3</strong> on the rule call.
								    The value returned by the call to <strong>ID</strong> is assigned (<code class="prettyprint lang-xtext">=</code>) to the feature <strong>name</strong>.
								      
								<pre class="prettyprint lang-xtext linenums">
DataType:
  'datatype' name = ID
;</pre></li>
								<li>The rule <strong>Entity</strong> again starts with the definition of a keyword followed by a name.
								    
								<pre class="prettyprint lang-xtext linenums">
Entity :
  'entity' name = ID ('extends' superType = [Entity])? '{'
    features += Feature*
  '}'
;</pre>
								    
								    Next up there is the extends clause which is parenthesized and optional (<code class="prettyprint lang-xtext">?</code>). 
								    Since the feature named <strong>superType</strong> is a cross reference (note the square brackets),
								    the parser rule <strong>Entity</strong> is not called here, but only a single identifier (the <strong>ID</strong>-rule) is parsed.
								    The actual <strong>Entity</strong> will be resolved during the linking phase.
								    Finally between curly braces there can be any number of <strong>Features</strong>, which invokes the next rule.</li>
								<li>Last but not least, the rule <strong>Feature</strong> is defined as follows:
								    
								<pre class="prettyprint lang-xtext linenums">
Feature:
  (many ?= 'many')? name = ID ':' type = [Type] 
;</pre>
								    
								    The keyword <code class="prettyprint lang-domainexample">many</code> is used to model a multi valued feature in the domain model
								    DSL. The assignment operator (<code class="prettyprint lang-xtext">?=</code>) implies that the feature <strong>many</strong> is of type <strong>boolean</strong>. You are already familiar with
								    the other syntax elements in this parser rule.</li>
							</ol>
							<p>
						</p>
						<p>
							This domain model grammar already uses the most important concepts of Xtext's grammar language. 
							you have learned that keywords are written as string literals and a simple assignment uses a plain equal sign (<code class="prettyprint lang-xtext">=</code>) 
							where the multi value assignment used a plus-equals (<code class="prettyprint lang-xtext">+=</code>). We have also seen the boolean assignment
							operator (<code class="prettyprint lang-xtext">?=</code>). Furthermore we saw how a cross reference can be declared and learned about
							different cardinalities (<code class="prettyprint lang-xtext">?</code> = optional, <code class="prettyprint lang-xtext">*</code> = any number, <code class="prettyprint lang-xtext">+</code> = at
							least once).  Please consult the <a href="#grammarLanguage">Grammar Language Reference</a> for more details.
							Let's now have a look what you can do with such a language description.
						</p>
						</section>
						<!--  section -->
						<section id="_2" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Generate Language Artifacts</h2>
						<p>
							Now that we have the grammar in place and defined we need to execute the code generator that will derive the
							various language components. To do so, locate the file <strong>GenerateDomainmodel.mwe2</strong> file next to the grammar 
							file in the package explorer view. From its context menu, choose
						</p>
						<p>
							<strong>Run As -&gt; MWE2 Workflow</strong>.
						</p>
						<p>
							This will trigger the Xtext language generator. It generates the parser and 
							serializer and some additional infrastructure code. You will see its logging 
							messages in the Console View.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_rungenerator.png" alt="" width="601" height="510">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_3" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Run the Generated IDE Plug-in</h2>
						<p>
							We are now able to test the IDE integration. If you select <strong>Run -&gt; Run Configurations...</strong> from the Eclipse menu, you can
							choose <strong>Eclipse Application -&gt; Launch Runtime Eclipse</strong>. This preconfigured launch shortcut already has appropriate
							memory settings and parameters set. Now you can hit <strong>Run</strong> to start a new Eclipse.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_launchconfiguration.png" alt="" width="1074" height="780">
							</div>
							<p>
						</p>
						<p>
							This will spawn a new Eclipse workbench with your newly developed plug-ins installed. 
							In the new workbench, create a new project of your choice, e.g.
							<strong>File -&gt; New -&gt; Project...  -&gt; Java Project</strong> and therein a new file 
							with the file extension you chose in the beginning (<strong>*.dmodel</strong>). This will open
							the generated entity editor. Try it and discover the default 
							functionality for code completion, syntax highlighting, syntactic validation, linking errors, 
							the outline view, find references etc.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_editor.png" alt="" width="879" height="637">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_4" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Second Iteration: Adding Packages and Imports</h2>
						<p>
							After you have created the your first DSL and had a look at the editor, the language should be refined
							and incrementally enhanced. The Domain Model language should support the notion of <strong>Package</strong>s in order to avoid name
							clashes and to better fit with the target environment (Java). A <strong>Package</strong> may contain <strong>Types</strong> and other packages. 
							In order to allow fort names in references, we will also add a way to declare imports.
						</p>
						<p>
							In the end we want to be able to split the previously used model into to distinct files :
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
// datatypes.dmodel

datatype String</pre>
							<p>
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
// commons.dmodel

package my.company.common {
  
  entity HasAuthor {
    author: String
  }
}</pre>
							<p>
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
// blogs.dmodel

package my.company.blog {
  
  import my.company.common.*
    
  entity Blog {
    title: String
    many posts: Post
  }
  
  entity Post extends my.company.common.HasAuthor {
    title: String
    content: String
    many comments: Comment
  }
  
  entity Comment extends HasAuthor {
    content: String
  }
}</pre>
							<p>
						</p>
						<p>
							Let's start enhancing the grammar.
						</p>
						<p>
							</p>
							<ol>
								<li>Since a <strong>Domainmodel</strong> no longer contains types but packages, too,
								    the entry rule has to be modified. Furthermore, a common super type for <strong>Packages</strong> and <strong>Types</strong>
								    should be introduced: the <strong>AbstractElement</strong>.
								        
								<pre class="prettyprint lang-xtext linenums">
Domainmodel:
  (elements += AbstractElement)*
;

AbstractElement:
  PackageDeclaration | Type
;</pre></li>
								<li>A <code class="prettyprint lang-xtext">PackageDeclaration</code> in turn looks pretty much as expected. It contains a number
								    of <strong>Imports</strong> and <strong>AbstractElements</strong>. Since <strong>Imports</strong> should be allowed for the root-Domainmodel,
								    too, we add them as an alternative to the rule <code class="prettyprint lang-xtext">AbstractElement</code>.
								    
								<pre class="prettyprint lang-xtext linenums">
PackageDeclaration:
  'package' name = QualifiedName '{'
    (elements += AbstractElement)*
  '}'
;

AbstractElement:
  PackageDeclaration | Type | Import
;

QualifiedName:
  ID ('.' ID)*
;</pre>
								    
								    The <code class="prettyprint lang-xtext">QualifiedName</code> is a little special. It does not contain any assignments. Therefore,
								    it serves as a data type rule, which returns a String. So the feature <strong>name</strong> of a <strong>Package</strong> is still of
								    type <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html"><abbr title="java.lang.String">String</abbr></a>.</li>
								<li>Imports can be defined in a very convenient way with Xtext. If you use the name <strong>importedNamespace</strong>
								    in a parser rule, the framework will treat the value as an import. It even supports wildcard
								    and handles them as expected:
								    
								<pre class="prettyprint lang-xtext linenums">
Import:
  'import' importedNamespace = QualifiedNameWithWildcard
;
											  
QualifiedNameWithWildcard:
  QualifiedName '.*'?
;</pre>
								    
								    Similar to the rule <code class="prettyprint lang-xtext">QualifiedName</code>, <code class="prettyprint lang-xtext">QualifiedNameWithWildcard</code> returns
								    a plain string.</li>
								<li>The last step is to allow fully qualified names in cross references, too. Otherwise one could
								    not refer to an entity without adding an import statement.
								    
								<pre class="prettyprint lang-xtext linenums">
Entity:
  'entity' name = ID 
              ('extends' superType = [Entity | QualifiedName])?
  '{'
    (features += Feature)*
  '}'
;
 
Feature:
  (many ?= 'many')? name = ID ':' type = [Type | QualifiedName]
;</pre>
								    
								<strong>Please note that the bar (<code class="prettyprint lang-xtend">|</code>) is not an alternative in the context of a cross reference,
								    but used to specify the syntax of the parsed string.</strong></li>
							</ol>
							<p>
						</p>
						<p>
							That's all for the grammar. It should now read as
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.example.domainmodel.Domainmodel with
                                      org.eclipse.xtext.common.Terminals

generate domainmodel "http://www.example.org/domainmodel/Domainmodel"

Domainmodel:
  (elements += AbstractElement)*
;

PackageDeclaration:
  'package' name = QualifiedName '{'
    (elements += AbstractElement)*
  '}'
;

AbstractElement:
  PackageDeclaration | Type | Import
;

QualifiedName:
  ID ('.' ID)*
;

Import:
  'import' importedNamespace = QualifiedNameWithWildcard
;
  
QualifiedNameWithWildcard:
  QualifiedName '.*'?
;
  
Type:
  DataType | Entity
;
  
DataType:
  'datatype' name=ID
;
 
Entity:
  'entity' name = ID 
              ('extends' superType = [Entity | QualifiedName])?
  '{'
    (features += Feature)*
  '}'
;
 
Feature:
  (many ?= 'many')? name = ID ':' type = [Type | QualifiedName]
;</pre>
							<p>
						</p>
						<p>
							You should regenerate the language infrastructure as described in the 
							previous section, and give the editor another try. You can even split up your model 
							into smaller parts and have cross-references across file boundaries.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_multipleeditors.png" alt="" width="978" height="448">
							</div>
							<p>
						</p>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="DomainmodelNextSteps" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							15 Minutes Tutorial - Extended
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							After you have developed you first own DSL, the question arises, how the behavior and the semantics of
							the language can be customized. Therefore a couple of mini-tutorials are available, that illustrate common
							use cases when crafting an own DSL.
						</p>
						<p>
							These lessons are independent from each other. Each of them will be based on the language that
							was build in the first <a href="#DomainModelWalkThrough">domain model tutorial</a>.
						</p>
						<p>
							That is, the syntax and the grammar for the language look like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
package java.lang {
  datatype String
}

package my.company.blog {
  import java.lang.*
  import my.company.common.*
    
  entity Blog {
    title: String
    many posts: Post
  }
  
  entity HasAuthor {
    author: String
  }
  
  entity Post extends HasAuthor {
    title: String
    content: String
    many comments: Comment
  }
  
  entity Comment extends HasAuthor {
    content: String
  }
}</pre>
							<p>
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.eclipse.xtext.example.Domainmodel with
                                      org.eclipse.xtext.common.Terminals

generate domainmodel "http://www.eclipse.org/xtext/example/Domainmodel"

Domainmodel:
  (elements += AbstractElement)*
;

PackageDeclaration:
  'package' name = QualifiedName '{'
    (elements += AbstractElement)*
  '}'
;

AbstractElement:
  PackageDeclaration | Type | Import
;

QualifiedName:
  ID ('.' ID)*
;

Import:
  'import' importedNamespace = QualifiedNameWithWildcard
;
  
QualifiedNameWithWildcard:
  QualifiedName '.*'?
;
  
Type:
  DataType | Entity
;
  
DataType:
  'datatype' name=ID
;
 
Entity:
  'entity' name = ID 
              ('extends' superType = [Entity | QualifiedName])?
  '{'
    (features += Feature)*
  '}'
;
 
Feature:
  (many ?= 'many')? name = ID ':' type = [Type | QualifiedName]
;</pre>
							<p>
						</p>
						<!--  section -->
						<section id="TutorialCodeGeneration" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Writing a Code Generator With Xtend</h2>
						<p>
							As soon as you generate the Xtext artifacts for a grammar, a code generator stub will be put into the
							runtime project of your language. Let's dive into Xtend and see how you can integrate your own code generator
							with Eclipse.
						</p>
						<p>
							In this lesson you will generate Java Beans for entities that are defined in the domain model DSL. For
							each <strong>Entity</strong>, a Java class is generated and each <strong>Feature</strong> will lead to a private field in that class and
							public getters and setters. For the sake of simplicity, we will use fully qualified names all over
							the generated code.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
package my.company.blog;

public class HasAuthor {
  private java.lang.String author;
  
  public java.lang.String getAuthor() {
    return author;
  }
  
  public void setAuthor(java.lang.String author) {
    this.author = author;
  }
}</pre>
							<p>
						</p>
						<p>
							First of all, locate the file <strong>DomainmodelGenerator.xtend</strong> in the package <strong>org.eclipse.xtext.example.generator</strong>.
							This Xtend class is used to generate code for your models in the standalone scenario and in the interactive
							Eclipse environment.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtend linenums">
package org.eclipse.xtext.example.generator

import org.eclipse.emf.ecore.resource.Resource
import org.eclipse.xtext.generator.IGenerator
import org.eclipse.xtext.generator.IFileSystemAccess

class DomainmodelGenerator implements IGenerator {
  override void doGenerate(Resource resource, IFileSystemAccess fsa) {
  }
}</pre>
							<p>
						</p>
						<p>
							Let's make the implementation more meaningful and start writing the code generator. The strategy is to find
							all entities within a resource and trigger code generation for each one.
						</p>
						<p>
							</p>
							<ol>
								<li>First of all, you will have to filter the contents of the resource down to the defined entities. Therefore
								    we need to iterate a resource with all its deeply nested elements. This can be achieved with the method
								<code class="prettyprint lang-xtend">getAllContents()</code>. To use the resulting <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/TreeIterator.html"><abbr title="org.eclipse.emf.common.util.TreeIterator">TreeIterator</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/TreeIterator.java">(src)</a> in
								    a for loop, we use the extension method <code class="prettyprint lang-java">toIterable()</code> from the built-in library class
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/lib/IteratorExtensions.html"><abbr title="org.eclipse.xtext.xbase.lib.IteratorExtensions">IteratorExtensions</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/IteratorExtensions.java">(src)</a>.
								    
								<pre class="prettyprint lang-xtend linenums">
class DomainmodelGenerator implements IGenerator {
  override void doGenerate(Resource resource, IFileSystemAccess fsa) {
    for(e: resource.allContents.toIterable.filter(typeof(Entity))) {
      ...
    }
  }
}</pre></li>
								<li>Now let's answer the question, how we determine the file name of the Java class, that each <strong>Entity</strong>
								    should yield. This information should be derived from the qualified name of the <strong>Entity</strong> since
								    Java enforces this pattern. The qualified name itself has to be obtained from a special service
								    that is available for each language. Fortunately, Xtend allows to reuse that one easily. We simply
								    inject the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/IQualifiedNameProvider.html"><abbr title="org.eclipse.xtext.naming.IQualifiedNameProvider">IQualifiedNameProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/IQualifiedNameProvider.java">(src)</a> into the generator.
								    
								<pre class="prettyprint lang-xtend linenums">
@Inject extension IQualifiedNameProvider</pre>
								    
								    This allows to ask for the name of an entity. It is straightforward to convert the name into
								    a file name:
								    
								<pre class="prettyprint lang-xtend linenums">
override void doGenerate(Resource resource, IFileSystemAccess fsa) {
  for(e: resource.allContents.toIterable.filter(typeof(Entity))) {
    fsa.generateFile(
      e.fullyQualifiedName.toString("/") + ".java",
      e.compile)
  }
}</pre></li>
								<li>The next step is to write the actual template code for an entity. For now, the function <code class="prettyprint lang-xtend">Entity.compile</code>
								    does not exist, but it is easy to create it:
								    
								<pre class="prettyprint lang-xtend linenums">
def compile(Entity e) '''
  package &laquo;e.eContainer.fullyQualifiedName&raquo;;
  
  public class &laquo;e.name&raquo; {
  }
'''</pre></li>
								<li>This small template is basically the first shot at a Java-Beans generator. However, it is currently
								    rather incomplete and will fail, if the <strong>Entity</strong> is not contained in a package. A small modification
								    fixes this. The <code class="prettyprint lang-java">package</code>-declaration has to be wrapped in an <code class="prettyprint lang-xtend">IF</code> expression:
								    
								<pre class="prettyprint lang-xtend linenums">
def compile(Entity e) '''
  &laquo;IF e.eContainer != null&raquo;
    package &laquo;e.eContainer.fullyQualifiedName&raquo;;
  &laquo;ENDIF&raquo;
  
  public class &laquo;e.name&raquo; {
  }
'''</pre>Let's handle the <strong>superType</strong> of an <strong>Entity</strong> gracefully, too by using another <code class="prettyprint lang-xtend">IF</code> expression:
								    
								<pre class="prettyprint lang-xtend linenums">
def compile(Entity e) ''' 
  &laquo;IF e.eContainer != null&raquo;
    package &laquo;e.eContainer.fullyQualifiedName&raquo;;
  &laquo;ENDIF&raquo;
  
  public class &laquo;e.name&raquo; &laquo;IF e.superType != null
          &raquo;extends &laquo;e.superType.fullyQualifiedName&raquo; &laquo;ENDIF&raquo;{
  }
'''</pre></li>
								<li>Even though the template will compile the <strong>Entities</strong> without any complains, it still lacks support
								    for the Java properties, that each of the declared features should yield.
								    
								    For that purpose, you have to create another Xtend function that compiles a single feature
								    to the respective Java code.
								    
								<pre class="prettyprint lang-xtend linenums">
def compile(Feature f) '''
  private &laquo;f.type.fullyQualifiedName&raquo; &laquo;f.name&raquo;;
  
  public &laquo;f.type.fullyQualifiedName&raquo; get&laquo;f.name.toFirstUpper&raquo;() {
    return &laquo;f.name&raquo;;
  }
  
  public void set&laquo;f.name.toFirstUpper&raquo;(&laquo;f.type.fullyQualifiedName&raquo; &laquo;f.name&raquo;) {
    this.&laquo;f.name&raquo; = &laquo;f.name&raquo;;
  }
'''</pre>
								    
								    As you can see, there is nothing fancy about this one. Last but not least, we have to make sure
								    that the function is actually used.
								    
								<pre class="prettyprint lang-xtend linenums">
def compile(Entity e) ''' 
  &laquo;IF e.eContainer != null&raquo;
    package &laquo;e.eContainer.fullyQualifiedName&raquo;;
  &laquo;ENDIF&raquo;
  
  public class &laquo;e.name&raquo; &laquo;IF e.superType != null
          &raquo;extends &laquo;e.superType.fullyQualifiedName&raquo; &laquo;ENDIF&raquo;{
    &laquo;FOR f:e.features&raquo;
      &laquo;f.compile&raquo;
    &laquo;ENDFOR&raquo;
  }
'''</pre></li>
							</ol>
							<p>
						</p>
						<p>
							The final code generator looks pretty much like the following code snippet. Now you can give it a try!
							Launch a new Eclipse Application (<strong>Run As -&gt; Eclipse Application</strong> on the Xtext project) and create a
							<strong>dmodel</strong> file in a Java Project. Now simply create a new source folder <strong>src-gen</strong> in the that project
							and see how the compiler will pick up your sample <strong>Entities</strong> and generate Java code for them.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtend linenums">
package org.eclipse.xtext.example.generator

import org.eclipse.emf.ecore.resource.Resource
import org.eclipse.xtext.generator.IGenerator
import org.eclipse.xtext.generator.IFileSystemAccess
import org.eclipse.xtext.example.domainmodel.Entity
import org.eclipse.xtext.example.domainmodel.Feature
import org.eclipse.xtext.naming.IQualifiedNameProvider

import com.google.inject.Inject

class DomainmodelGenerator implements IGenerator {

  @Inject extension IQualifiedNameProvider

  override void doGenerate(Resource resource, IFileSystemAccess fsa) {
    for(e: resource.allContents.toIterable.filter(typeof(Entity))) {
      fsa.generateFile(
        e.fullyQualifiedName.toString("/") + ".java",
        e.compile)
    }
  }

  def compile(Entity e) ''' 
    &laquo;IF e.eContainer != null&raquo;
      package &laquo;e.eContainer.fullyQualifiedName&raquo;;
    &laquo;ENDIF&raquo;
    
    public class &laquo;e.name&raquo; &laquo;IF e.superType != null
            &raquo;extends &laquo;e.superType.fullyQualifiedName&raquo; &laquo;ENDIF&raquo;{
      &laquo;FOR f:e.features&raquo;
        &laquo;f.compile&raquo;
      &laquo;ENDFOR&raquo;
    }
  '''

  def compile(Feature f) '''
    private &laquo;f.type.fullyQualifiedName&raquo; &laquo;f.name&raquo;;
    
    public &laquo;f.type.fullyQualifiedName&raquo; get&laquo;f.name.toFirstUpper&raquo;() {
      return &laquo;f.name&raquo;;
    }
    
    public void set&laquo;f.name.toFirstUpper&raquo;(&laquo;f.type.fullyQualifiedName&raquo; &laquo;f.name&raquo;) {
      this.&laquo;f.name&raquo; = &laquo;f.name&raquo;;
    }
  '''
}</pre>
							<p>
						</p>
						<p>
							If you want to play around with Xtend, you can try to use the Xtend tutorial which can be materialized
							into your workspace. Simply choose <strong>New -&gt; Example -&gt; Xtend Examples -&gt; Xtend Introductory
							Examples</strong> and have a look at Xtend's features.
							As a small exercise, you could implement support for the <strong>many</strong> attribute of a <strong>Feature</strong> or enforce
							naming conventions, e.g. field names should start with an underscore.
						</p>
						</section>
						<!--  section -->
						<section id="TutorialUnitTests" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Unit Testing the Language</h2>
						<p>
							Automated tests are crucial for the maintainability and the quality of a software product. That is why
							it is strongly recommended to write unit tests for your language, too. The Xtext project wizard creates
							a test project for that purpose. It simplifies the setup procedure both for the Eclipse agnostic tests and the UI
							tests for Junit4.
						</p>
						<p>
							This tutorial is about testing the parser and the linker for the <strong>Domainmodel</strong>. It leverages Xtend to
							write the test case.
						</p>
						<p>
							</p>
							<ol>
								<li>First of all, a new Xtend class has to be created. Therefore, choose the src folder of the test
								    plugin, and select <strong>New -&gt; Xtend Class</strong> from the context menu. Provide a meaningful name and
								    enter the package before you hit finish.
								    
								    The core of the test infrastructure is the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/junit4/XtextRunner.html"><abbr title="org.eclipse.xtext.junit4.XtextRunner">XtextRunner</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.junit4/src/org/eclipse/xtext/junit4/XtextRunner.java">(src)</a> and
								    the language specific <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/junit4/IInjectorProvider.html"><abbr title="org.eclipse.xtext.junit4.IInjectorProvider">IInjectorProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.junit4/src/org/eclipse/xtext/junit4/IInjectorProvider.java">(src)</a>. Both have to be provided
								    by means of class annotations:  
								 
								<pre class="prettyprint lang-xtend linenums">
import org.eclipse.xtext.junit4.XtextRunner
import org.eclipse.xtext.example.domainmodel.DomainmodelInjectorProvider

@InjectWith(typeof(DomainmodelInjectorProvider))
@RunWith(typeof(XtextRunner))
class ParserTest {
}</pre></li>
								<li>The actual test case is pretty straight forward with Xtend. The utility class 
								<strong>org.eclipse.xtext.junit4.util.ParseHelper</strong> allows to parse an arbitrary string into a
								<strong>Domainmodel</strong>. The model itself can be traversed and checked afterwards. A static import of
								<a href="http://junit.sourceforge.net/javadoc/org/junit/Assert.html"><abbr title="org.junit.Assert">Assert</abbr></a> leads to concise and readable test cases.
								    
								<pre class="prettyprint lang-xtend linenums">
import org.eclipse.xtext.junit4.util.ParseHelper
import static org.junit.Assert.*

...
											    
@Inject
ParseHelper&lt;Domainmodel&gt; parser

@Test 
def void parseDomainmodel() {
  val model = parser.parse(
    "entity MyEntity {
      parent: MyEntity
    }")
  val entity = model.elements.head as Entity
  assertSame(entity, entity.features.head.type)
}</pre></li>
								<li>After saving the Xtend file, it is time to run the test. Please locate the generated java class
								    in the <strong>xtend-gen</strong> folder and select <strong>Run As -&gt; JUnit Test</strong> from the context menu.</li>
							</ol>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="TutorialValidation" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Creating Custom Validation Rules</h2>
						<p>
							One of the main advantages of DSLs is the possibility to statically validate domain specific constraints.
							This can be achieved by means of static analysis. Because this is a common use case,
							Xtext provides a dedicated hook for this kind of validation rules. In this lesson, we want to ensure
							that the name of an <strong>Entity</strong> starts with an upper-case letter and that all features have distinct names
							across the inheritance relationship of an <strong>Entity</strong>.
						</p>
						<p>
							Try to locate the class <strong>DomainmodelJavaValidator</strong> in the package <strong>org.eclipse.xtext.example.validation</strong>.
							It can be found in the language plug-in. Defining the constraint itself is only a matter of a few lines
							of code:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Check
public void checkNameStartsWithCapital(Entity entity) {
  if (!Character.isUpperCase(entity.getName().charAt(0))) {
    warning("Name should start with a capital", 
      DomainmodelPackage.Literals.TYPE__NAME);
  }
}</pre>
							<p>
						</p>
						<p>
							Any name for the method will do. The important thing is the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/Check.html"><abbr title="org.eclipse.xtext.validation.Check">@Check</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/Check.java">(src)</a>
							annotation that advises the framework to use the method as a validation rule. If the name starts with
							a lower case letter, a warning will be attached to the name of the <strong>Entity</strong>.
						</p>
						<p>
							The second validation rule is straight-forward, too. We traverse the inheritance hierarchy of the <strong>Entity</strong>
							and look for features with equal names.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Check
public void checkFeatureNameIsUnique(Feature f) {
  Entity superEntity = ((Entity) f.eContainer()).getSuperType();
  while(superEntity != null) {
    for(Feature other: superEntity.getFeatures()) {
      if (f.getName().equals(other.getName())) {
        error("Feature names have to be unique",
            DomainmodelPackage.Literals.FEATURE__NAME);
        return;
      }
    }
    superEntity = superEntity.getSuperType();
  }
}</pre>
							<p>
						</p>
						<p>
							The sibling features, that are defined in the same entity, are automatically validated by the Xtext framework.
							Therefore, they do not have to be checked twice.
						</p>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="JvmDomainmodel" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							Five simple steps to your JVM language
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							In this tutorial we will basically implement the domain model language again, but this time we will make use of
							the special JVM support shipped with Xtext 2.x. This kind of language really is a sweet spot for DSLs,
							so feel free to use this as a blueprint and add your project specific features later on.
						</p>
						<p>
							The revised domain model language supports expressions and cross links to Java types. It is directly
							translated to Java source code. The syntax should look very familiar. Here is an example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
import java.util.List

package my.model {

  entity Person {
    name: String
    firstName: String
    friends: List&lt;Person&gt;
    address : Address
    op getFullName() : String {
      return firstName + " " + name;
    }
    
    op getFriendsSortedByFullName() : List&lt;Person&gt; {
      return friends.sortBy[ f | f.fullName ]
    }
  }
  
  entity Address {
    street: String
    zip: String
    city: String
  }
}</pre>
							<p>
						</p>
						<p>
							As you can see, it supports all kinds of advanced features such as Java generics and full expressions
							even including lambda expressions. Don't panic you will not have to implement these concepts on your own but will
							reuse a lot of helpful infrastructure to build the language.
						</p>
						<p>
							We will now walk through the <strong>five!</strong> little steps needed to get this language fully working including
							its compiler.
						</p>
						<p>
							After you have installed Xtext on your machine, start Eclipse and set up a fresh workspace.
						</p>
						<!--  section -->
						<section id="_5" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Step One: Create A New Xtext Project</h2>
						<p>
							In order to get started we first need to create some Eclipse projects. Use the Eclipse wizard to do so:
						</p>
						<p>
							<strong>File -&gt; New -&gt; Project...  -&gt; Xtext -&gt; Xtext Project</strong>
						</p>
						<p>
							Choose a meaningful project name, language name and file extension, e.g.
						</p>
						<p>
							</p>
							<table class="table table-bordered table-condensed">
							<tr><td><strong>Main project name:</strong></td>
							<td>org.example.domainmodel</td>
							</tr>
							<tr><td><strong>Language name:</strong></td>
							<td>org.example.domainmodel.Domainmodel</td>
							</tr>
							<tr><td><strong>DSL-File extension:</strong></td>
							<td>dmodel</td>
							</tr>
							</table>
							<p>
						</p>
						<p>
							Click on <strong>Finish</strong> to create the projects.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_wizard.png" alt="" width="633" height="547">
							</div>
							<p>
						</p>
						<p>
							After you have successfully finished the wizard, you will find three new projects in your workspace.
						</p>
						<p>
							</p>
							<table class="table table-bordered table-condensed">
							<tr><td>org.example.domainmodel</td>
							<td>Contains the grammar definition and all runtime components (parser, lexer, linker, validation, etc.)</td>
							</tr>
							<tr><td>org.example.domainmodel.tests</td>
							<td>Unit tests go here.</td>
							</tr>
							<tr><td>org.example.domainmodel.ui</td>
							<td>The Eclipse editor and all the other workbench related functionality.</td>
							</tr>
							</table>
							<p>
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_initialprojectlayout.png" alt="" width="912" height="544">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_6" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Step Two: Write the Grammar</h2>
						<p>
							The wizard will automatically open the grammar file 
							<strong>Domainmodel.xtext</strong> in the editor. As you can see it already contains a simple <strong>Hello World</strong> grammar:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.example.domainmodel.Domainmodel with
                                      org.eclipse.xtext.common.Terminals

generate domainmodel "http://www.example.org/domainmodel/Domainmodel"

Model:
  greetings+=Greeting*;
  
Greeting:
  'Hello' name=ID '!';</pre>
							<p>
						</p>
						<p>
							Please replace that grammar definition with the one for our language:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.example.domainmodel.Domainmodel with
                                      org.eclipse.xtext.xbase.Xbase

generate domainmodel "http://www.example.org/domainmodel/Domainmodel"

Domainmodel:
  elements+=AbstractElement*;

AbstractElement:
  PackageDeclaration | Entity | Import;

PackageDeclaration:
  'package' name=QualifiedName '{'
    elements+=AbstractElement*
  '}';

Import:
  'import' importedNamespace=QualifiedNameWithWildCard;

QualifiedNameWithWildCard :
  QualifiedName  ('.' '*')?;

Entity:
  'entity' name=ValidID 
    ('extends' superType=JvmTypeReference)? '{'
    features+=Feature*
  '}';

Feature:
  Property | Operation;

Property:
  name=ValidID ':' type=JvmTypeReference;

Operation:
  'op' name=ValidID 
    '('(params+=FullJvmFormalParameter 
      (',' params+=FullJvmFormalParameter)*)?')'
    ':' type=JvmTypeReference 
    body=XBlockExpression;</pre>
							<p>
						</p>
						<p>
							Let's have a look at what the different grammar constructs mean:
						</p>
						<p>
							</p>
							<ol>
								<li><pre class="prettyprint lang-xtext linenums">
grammar org.example.domainmodel.Domainmodel with
              org.eclipse.xtext.xbase.Xbase</pre>
								    The first thing to note is that instead of inheriting from the usual <strong>org.eclipse.xtext.common.Terminals</strong>
								    grammar, we make use of <strong>org.eclipse.xtext.xbase.Xbase</strong>. 
								    
								    Xbase allows us to easily reuse and embed modern, statically typed expressions as well as Java type signatures in our language.</li>
								<li><pre class="prettyprint lang-xtext linenums">
Domainmodel:
  elements+=AbstractElement*;</pre>
								    
								    The first rule in a grammar is always used as the entry or start rule.  
								    
								    It says that a <strong>Domainmodel</strong> contains an arbitrary number (<code class="prettyprint lang-xtext">*</code>) of <strong>AbstractElement</strong>s which will be added (<code class="prettyprint lang-xtext">+=</code>)
								    to a feature called <code class="prettyprint lang-xtext">elements</code>.</li>
								<li><pre class="prettyprint lang-xtext linenums">
AbstractElement:
  PackageDeclaration | Entity | Import;</pre>
								    The rule <strong>AbstractElement</strong> delegates to either the rule <strong>PackageDeclaration</strong>, the rule <strong>Entity</strong> or the rule <strong>Import</strong>.</li>
								<li><pre class="prettyprint lang-xtext linenums">
PackageDeclaration:
  'package' name=QualifiedName '{'
    elements+=AbstractElement*
  '}';</pre>
								    A <strong>PackageDeclaration</strong> is used to declare a name space which can again contain any number
								    of <strong>AbstractElement</strong>s.  
								    
								    Xtext has built-in support for qualified names and scoping based on the hierarchy
								    of the produced model. The default
								    implementation will add the package names as the prefix to contained entities and nested packages.
								    The qualified name of an <strong>Entity</strong> 'Baz' which is contained in a <strong>PackageDeclaration</strong> 'foo.bar'
								    will be 'foo.bar.Baz'. In case you do not like the default behavior you will need
								    to use a different implementation of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/IQualifiedNameProvider.html"><abbr title="org.eclipse.xtext.naming.IQualifiedNameProvider">IQualifiedNameProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/IQualifiedNameProvider.java">(src)</a>.</li>
								<li><pre class="prettyprint lang-xtext linenums">
Import:
  'import' importedNamespace=QualifiedNameWithWildCard;

QualifiedNameWithWildCard :
  QualifiedName  ('.' '*')?;</pre>
								    The rule <strong>Import</strong> makes use of the <a href="#namespaceImports">namespace support</a>, too. It basically allows you to get full-blown
								    import functionality as you are used to from Java, just by having these two rules in place.</li>
								<li><pre class="prettyprint lang-xtext linenums">
Entity:
  'entity' name=ValidID 
    ('extends' superType=JvmTypeReference)? '{'
    features+=Feature*
  '}';</pre>
								    The rule <strong>Entity</strong> starts with the definition of a keyword followed by a name.
								    
								    The <strong>extends</strong> clause which is parenthesized and optional (note the trailing <code class="prettyprint lang-xtext">?</code>) makes use of the rule
								<strong>JvmTypeReference</strong> which is defined in a super grammar. <strong>JvmTypeReference</strong> defines the
								    syntax for full Java-like type names. That is everything from simple names, over fully qualified
								    names to fully-fledged generics, including wildcards, lower bounds and upper bounds.
								    
								    Finally between curly braces there can be any number of <strong>Features</strong>, which leads us to the next rule.</li>
								<li><pre class="prettyprint lang-xtext linenums">
Feature:
  Property | Operation;</pre>
								    
								    The rule <strong>Feature</strong> delegates to either a <strong>Property</strong> or an <strong>Operation</strong>.</li>
								<li><pre class="prettyprint lang-xtext linenums">
Property:
  name=ValidID ':' type=JvmTypeReference;</pre>
								    A <strong>Property</strong> has a name and makes again use of the inherited rule <strong>JvmTypeReference</strong>.</li>
								<li><pre class="prettyprint lang-xtext linenums">
Operation:
  'op' name=ValidID 
  '('(params+=FullJvmFormalParameter 
    (',' params+=FullJvmFormalParameter)*)?')'
  ':' type=JvmTypeReference 
  body=XBlockExpression;</pre>
								<strong>Operation</strong>s also have a signature as expected. Note that also for formal parameters we can
								    reuse a rule from the super grammar.The <strong>Operation</strong>'s body, that is the actual implementation is defined by the rule <strong>XBlockExpression</strong>
								    which is one of the most often used entry rules from Xbase. A block consist of any
								    number of expressions between curly braces such as:
								<pre class="prettyprint lang-xbase linenums">
{
  return "Hello World" + "!"
}</pre></li>
							</ol>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_7" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Step Three: Generate Language Artifacts</h2>
						<p>
							Now that we have the grammar in place and defined we need to execute the code generator that will derive the
							various language components. To do so right click in the grammar editor. From the opened context menu, choose
						</p>
						<p>
							<strong>Run As -&gt; Generate Xtext Artifacts</strong>.
						</p>
						<p>
							This will trigger the Xtext language generator. It generates the parser and 
							serializer and some additional infrastructure code. You will see its logging 
							messages in the Console View.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/JvmTutorial_RunGenerator.png" alt="" width="770" height="575">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_8" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Step Four: Define the Mapping to JVM Concepts</h2>
						<p>
							The syntax alone is not enough to make the language work. We need to map the domain specific concepts to some other language
							in order to tell Xtext how it is executed. Usually you define a code generator or an interpreter for that matter,
							but languages using Xbase can omit this step and make use of the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelInferrer">IJvmModelInferrer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.java">(src)</a>.
						</p>
						<p>
							The idea is that you translate your language concepts to any number of Java types (<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmDeclaredType.html"><abbr title="org.eclipse.xtext.common.types.JvmDeclaredType">JvmDeclaredType</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmDeclaredType.java">(src)</a>). 
							Such a type can be a Java class, Java interface, Java annotation type or a Java enum and may contain
							any valid members. In the end you as a language developer are responsible to create a correct model
							according to the Java language.
						</p>
						<p>
							By mapping your language concepts to Java elements, you implicitly tell Xtext in what kind of scopes
							the various expressions live and what return types are expected from them. Xtext 2.x also comes with
							a code generator which can translate that Java model into readable Java code, including the expressions.
						</p>
						<p>
							If you have already triggered the 'Generate Xtext Artifacts' action, you should find a stub called 
							<strong>org/example/domainmodel/jvmmodel/DomainmodelJvmModelInferrer.xtend</strong>
							in the src folder. Please replace its contents with the following :
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtend linenums">
package org.example.domainmodel.jvmmodel

import com.google.inject.Inject
import org.example.domainmodel.domainmodel.Entity
import org.example.domainmodel.domainmodel.Operation
import org.example.domainmodel.domainmodel.Property
import org.eclipse.xtext.naming.IQualifiedNameProvider
import org.eclipse.xtext.xbase.jvmmodel.AbstractModelInferrer
import org.eclipse.xtext.xbase.jvmmodel.IJvmDeclaredTypeAcceptor
import org.eclipse.xtext.xbase.jvmmodel.JvmTypesBuilder

class DomainmodelJvmModelInferrer extends AbstractModelInferrer {

  /**
   * a builder API to programmatically create Jvm elements 
   * in readable way.
   */
  @Inject extension JvmTypesBuilder
  
  @Inject extension IQualifiedNameProvider
  
  def dispatch void infer(Entity element, 
                IJvmDeclaredTypeAcceptor acceptor, 
                boolean isPrelinkingPhase) {
      acceptor.accept(
      element.toClass( element.fullyQualifiedName )
    ).initializeLater [
      documentation = element.documentation
      if (element.superType != null)
        superTypes += element.superType.cloneWithProxies
      for (feature : element.features) {
        switch feature {
      
          Property : {
            members += feature.toField(feature.name, feature.type)
            members += feature.toGetter(feature.name, feature.type)
            members += feature.toSetter(feature.name, feature.type)
          }
      
          Operation : {
            members += feature.toMethod(feature.name, feature.type) [
              documentation = feature.documentation
              for (p : feature.params) {
                parameters += p.toParameter(p.name, p.parameterType)
              }
              body = feature.body
            ]
          }
        }
      }
    ]
  }
}</pre>
							<p>
						</p>
						<p>
							Let's go through the code to get an idea of what is going on. (Please also refer to the JavaDoc of the involved API
							for details, especially the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.JvmTypesBuilder">JvmTypesBuilder</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.java">(src)</a>).
						</p>
						<p>
							</p>
							<ol>
								<li><pre class="prettyprint lang-xtend linenums">
def dispatch void infer(Entity element, 
          IAcceptor&lt;JvmDeclaredType&gt; acceptor, 
          boolean isPrelinkingPhase) {</pre>
								    Using the dispatch keyword makes sure that the method is called for instances of type <strong>Entity</strong>
								    only. Have a look at <a href="http://www.xtend-lang.org/documentation">the Xtend documentation</a> on polymorphic dispatch to 
								    understand Xtend's dispatch functions. Extending <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/AbstractModelInferrer.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.AbstractModelInferrer">AbstractModelInferrer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/AbstractModelInferrer.java">(src)</a> makes 
								    sure we don't have to walk the syntax model on our own.</li>
								<li><pre class="prettyprint lang-xtend linenums">
acceptor.accept(element.toClass(element.fullyQualifiedName)  
...</pre>
								  Every <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmDeclaredType.html"><abbr title="org.eclipse.xtext.common.types.JvmDeclaredType">JvmDeclaredType</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmDeclaredType.java">(src)</a> you create in the model inference needs
								  to be passed to the <strong>acceptor</strong> in order to get recognized.
								  
								  The extension method <strong>toClass</strong> comes from <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.JvmTypesBuilder">JvmTypesBuilder</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.java">(src)</a>.
								  That class provides a lot of convenient extension methods, which help making the code extremely readable and concise.
								  
								  Most of the methods accept initializer blocks as the last argument, in which the currently created model element is bound
								  to the implicit variable <code class="prettyprint lang-xtend">it</code>. Therein you can further initialize the created Java element.</li>
								<li><pre class="prettyprint lang-xtend linenums">
).initializeLater [</pre>
								    The type inference has two phases. The first phase happens before linking. Only the empty types have to be created
								    and be passed to the <strong>acceptor</strong>.
								    The types' features are created in the second phase. The actions in this phase are specified in the lambda
								    expression passed to <code class="prettyprint lang-xtend">initializeLater</code>. Think of it as an anonymous class.</li>
								<li><pre class="prettyprint lang-xtend linenums">
documentation = element.documentation</pre>
								    Here for instance we assign some JavaDoc to the newly created element. The assignment is translated
								    to an invocation of the method 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.JvmTypesBuilder">JvmTypesBuilder</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.java">(src)</a><strong>#setDocumentation(<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmIdentifiableElement.html"><abbr title="org.eclipse.xtext.common.types.JvmIdentifiableElement">JvmIdentifiableElement</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmIdentifiableElement.java">(src)</a> element,String documentation)</strong>
								    and <code class="prettyprint lang-xtend">element.documentation</code> is in fact calling the extension method  
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.JvmTypesBuilder">JvmTypesBuilder</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.java">(src)</a><strong>#getDocumentation(<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> element)</strong>
								    
								    Xtend's extension methods are explained in detail on the <a href="http://www.xtend-lang.org/documentation">Xtend website</a>.</li>
								<li><pre class="prettyprint lang-xtend linenums">
if (element.superType != null)
   superTypes += entity.superType.cloneWithProxies</pre>
								    Set the <strong>superType</strong> on the inferred element. Note that we have to clone the type reference from
								    the <strong>element.superType</strong>. If we did not do that, the type reference would be automatically removed 
								    from the <strong>element</strong>, as <strong>superType</strong> is an EMF containment reference.</li>
								<li><pre class="prettyprint lang-xtend linenums">
for (feature : element.features) {
  switch feature {
    Property : {
      // ...
    }
    Operation : {
      // ...
    }
  }
}</pre>
								    When iterating over a list of heterogeneous types, the switch expression with its type guards comes in handy.
								    If <strong>feature</strong> is of type <strong>Property</strong> the first block is executed. If it is an <strong>Operation</strong> the
								    second block is executed. Note that the variable <strong>feature</strong> will be implicitly casted to the respective
								    type within the blocks.</li>
								<li><pre class="prettyprint lang-xtend linenums">
Property : {
  members += feature.toField(feature.name, feature.type)
  members += feature.toSetter(feature.name, feature.type)
  members += feature.toGetter(feature.name, feature.type)
}</pre>
								    For each <strong>Property</strong> we create a field as well as a corresponding getter and setter.</li>
								<li><pre class="prettyprint lang-xtend linenums">
Operation : {
  members += feature.toMethod(feature.name, feature.type) [
    documentation = feature.documentation
    for (p : feature.params) {
      parameters += p.toParameter(p.name, p.parameterType)
    }
    body = feature.body
  ]
}</pre>
								    
								<strong>Operations</strong> are being mapped to a corresponding Java method. The documentation is translated and
								    the parameters are added within the initializer.
								    
								    The line <code class="prettyprint lang-xtend">body = feature.body</code> registers the <strong>Operation</strong>'s expression as the body of
								    the newly created Java method. This defines the scope of the expression. The frameworks deduces the
								    visible fields and parameters as well as the expected return type from that information.</li>
							</ol>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_9" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Step Five : Try the Editor!</h2>
						<p>
							We are now able to test the IDE integration, by spawning a new Eclipse using our plug-ins. To do so just
							use the launch shortcut called "Launch Runtime Eclipse", clicking on the green play button in the tool
							bar.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/JvmTutorial_LaunchEditor.png" alt="" width="635" height="176">
							</div>
							<p>
						</p>
						<p>
							In the new workbench, create a Java project (<strong>File -&gt; New -&gt; Project...  -&gt; Java Project</strong>.
							Xbase relies on a small runtime library on the class path. To add this, right-click on the project and
							go to <strong>Java Build Path -&gt; Libraries -&gt; Add Library</strong> and choose <strong>Xtend Library</strong>. The create a new file 
							with the file extension you chose in the beginning (<strong>*.dmodel</strong>) in the source folder of the Java project.
							This will open the generated entity editor. Try it and discover the rich functionality it provides. You 
							should also have a look at the preferences of your language to find out what can be individually configured 
							to your users needs.
						</p>
						<p>
							Have fun!
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/JvmTutorial_Editor.png" alt="" width="673" height="486">
							</div>
							<p>
						</p>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="Overview" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							Overview
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<!--  section -->
						<section id="_10" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">What is Xtext?</h2>
						<p>
							No matter if you want to create a small textual domain-specific language (DSL) or you want to implement 
							a full-blown general purpose programming language. 
							With Xtext you can create your very own languages in a snap. Also if you already have an existing 
							language but it lacks decent tool support, you can use Xtext to create 
							a sophisticated Eclipse-based development environment providing editing experience known from modern 
							Java IDEs in a surprisingly short amount of time. We call Xtext a language development framework.
						</p>
						</section>
						<!--  section -->
						<section id="_11" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">How Does It Work?</h2>
						<p>
							Xtext provides you with a set of domain-specific languages and modern APIs to describe the different 
							aspects of your programming language. 
							Based on that information it gives you a full implementation of that language running on the JVM. 
							The compiler components of your language are independent of Eclipse or OSGi and can be used in any Java environment.
							They include such things as the parser, the type-safe abstract syntax tree (AST), the serializer and 
							code formatter, the scoping framework and the linking, compiler checks and static analysis aka validation 
							and last but not least a code generator or interpreter. These runtime components integrate with and 
							are based on the Eclipse Modeling Framework (EMF), which effectively allows you to 
							use Xtext together with other EMF frameworks like for instance the Graphical Modeling Project GMF.
						</p>
						<p>
							In addition to this nice runtime architecture, you will get a full blown Eclipse-IDE specifically tailored 
							for your language. It already provides great default functionality for 
							all aspects and again comes with DSLs and APIs that allow to configure or change the most common things 
							very easily. And if that's not flexible enough there is Guice to replace the default behavior with
							your own implementations.
						</p>
						</section>
						<!--  section -->
						<section id="_12" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Xtext is Highly Configurable</h2>
						<p>
							Xtext uses the lightweight dependency injection (DI) framework Google Guice to wire up the whole language 
							as well as the IDE infrastructure. A central, external module is used to configure the DI container. 
							As already mentioned, Xtext comes with decent default implementations and DSLs and APIs for the aspect that 
							are common sweet spots for customization. But if you need something completely different, 
							Google Guice gives you the power to exchange every little class in a non-invasive way.
						</p>
						</section>
						<!--  section -->
						<section id="_13" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Who Uses Xtext?</h2>
						<p>
							Xtext is used in many different industries. It is used in the field of mobile devices, automotive development, 
							embedded systems or Java enterprise software projects and game development. 
							People use Xtext-based languages to drive code generators that target Java, C, C++, C#, Objective C, Python, or Ruby code. 
							Although the language infrastructure itself runs on the JVM, you can compile Xtext languages to any 
							existing platform.
							Xtext-based languages are developed for well known Open-Source projects such as Maven, Eclipse B3, 
							the Eclipse Webtools platform or Google's Protocol Buffers and the framework is also widely used in research projects.
						</p>
						</section>
						<!--  section -->
						<section id="_14" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Who is Behind Xtext?</h2>
						<p>
							Xtext is a professional Open-Source project. We, the main developers and the project lead, work for 
							itemis, 
							which is a well known consulting company specialized on model-based development.
							Therefore we are able to work almost full-time on the project. Xtext is an Eclipse.org project. 
							Besides many other advantages this means that you don't have to fear any IP issues, because the Eclipse Foundation 
							has their own lawyers who take care that no intellectual property is violated.
						</p>
						<p>
							You may ask: Where does the money for Open-Source development come from? Well, we provide professional 
							services around Xtext. Be it training or on-site consulting, be it development of prototypes or 
							implementation of full-blown IDEs for programming languages. We do not only know the framework very well 
							but we are also experts in programming and domain-specific language design. Don't hesitate to get in 
							contact with us (<a href="http://xtext.itemis.com">www.itemis.com</a>).
						</p>
						</section>
						<!--  section -->
						<section id="DSL" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">What is a Domain-Specific Language</h2>
						<p>
							A <strong>Domain-Specific Language (DSL)</strong> is a small programming language, which focuses on a particular domain.
							Such a domain can be more or less anything. The idea is that its concepts and notation is as close as possible to
							what you have in mind when you think about a solution in that domain. Of course we are talking about problems which can
							be solved or processed by computers somehow.
						</p>
						<p>
							The opposite of a DSL is a so called <strong>GPL</strong>, a <strong>General Purpose Language</strong> such as Java or any other common programming language.
							With a GPL you can solve every computer problem, but it might not always be the best way to solve it.
						</p>
						<p>
							Imagine you want to remove the core from an apple. You could of course use a Swiss army knife to cut it out, 
							and this is reasonable if you have to do it just once or twice. But if you need to do that on a regular 
							basis it might be more efficient to use an apple corer.
						</p>
						<p>
							There are a couple of well-known examples of DSLs. For instance SQL is actually a DSL which focuses on 
							querying relational databases. Other DSLs are regular expressions or even languages provided by tools 
							like MathLab. Also most XML languages are actually domain-specific languages. The whole purpose of XML is 
							to allow for easy creation of new languages. Unfortunately, XML uses a fixed concrete syntax, which is 
							very verbose and yet not adapted to be read by humans. Into the bargain, a generic syntax for everything is a compromise.
						</p>
						<p>
							Xtext is a sophisticated framework that helps to implement your very own DSL with appropriate IDE support. 
							There is no such limitation as with XML, you are free to define your concrete syntax as you like. It may 
							be as concise and suggestive as possible being a best match for your particular domain. The hard task of 
							reading your model, working with it and writing it back to your syntax is greatly simplified by Xtext.
						</p>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="grammarLanguage" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							The Grammar Language
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							The <a href="http://git.eclipse.org/c/tmf/org.eclipse.xtext.git/tree/plugins/org.eclipse.xtext/src/org/eclipse/xtext/Xtext.xtext">grammar language</a> 
							is the corner stone of Xtext. It is a domain-specific language, carefully designed for the description of textual languages.
							The main idea is to describe the concrete syntax and how it is mapped to an in-memory representation
							- the semantic model. This model will be produced by the parser on-the-fly when it consumes an input file.
						</p>
						<!--  section -->
						<section id="statemachine" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">A First Example</h2>
						<p>
							To get an idea of how it works we'll start by implementing a <a href="http://martinfowler.com/bliki/SyntacticNoise.html">simple example</a> 
							introduced by Martin Fowler. It's mainly about describing state machines that are used as the (un)lock mechanism of secret compartments.
							People who have secret compartments control their access in a very old-school way, e.g. by opening a draw first and 
							turning on the light afterwards. Then the secret compartment, for instance a panel, opens up. One of those state machines 
							could look like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-fowlerexample linenums">
events
  doorClosed  D1CL
  drawOpened  D2OP
  lightOn     L1ON
  doorOpened  D1OP
  panelClosed PNCL
 end
 
resetEvents 
  doorOpened D1OP
end
 
commands
  unlockPanel PNUL
  lockPanel   PNLK
  lockDoor    D1LK
  unlockDoor  D1UL
end
 
state idle
  actions {unlockDoor lockPanel}
  doorClosed =&gt; active
end
 
state active
  drawOpened =&gt; waitingForLight
  lightOn    =&gt; waitingForDraw
end
 
state waitingForLight
  lightOn =&gt; unlockedPanel
end
 
state waitingForDraw
  drawOpened =&gt; unlockedPanel
end
 
state unlockedPanel
  actions {unlockPanel lockDoor}
  panelClosed =&gt; idle
end</pre>
							<p>
						</p>
						<p>
							What we have are a bunch of declared events, commands, and states. Some events are additionally marked
							as being reset events. Within states there are references to declared actions. Actions should be executed 
							when entering the state. Furthermore, there are transitions consisting of a reference to an event and a 
							state.
						</p>
						<p>
							The first thing that you have to do in order to implement this tiny state machine example with Xtext,
							is to provide a grammar. It could look like this example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.xtext.example.SecretCompartments 
   with org.eclipse.xtext.common.Terminals

generate secrets "http://www.eclipse.org/secretcompartment"
 
Statemachine :
  'events'
     (events+=Event)+
  'end'
  ('resetEvents'
     (resetEvents+=[Event])+
  'end')?
  'commands'
     (commands+=Command)+
  'end'
  (states+=State)+;
 
Event :
  name=ID code=ID;
 
Command :
  name=ID code=ID;
 
State :
  'state' name=ID
     ('actions' '{' (actions+=[Command])+ '}')?
     (transitions+=Transition)*
  'end';
 
Transition :
  event=[Event] '=&gt;' state=[State];</pre>
							<p>
						</p>
						<p>
							Martin Fowler uses this example throughout his book <a href="http://martinfowler.com/books.html#dsl">Domain
							Specific Languages</a> to implement external and internal DSLs using
							different technologies. Note, that none of his implementations is nearly as readable and concise as the description in
							Xtext's grammar language above. That is of course because the grammar language is designed to do just that, i.e. it is 
							specific to the domain of language descriptions.
						</p>
						</section>
						<!--  section -->
						<section id="syntax" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">The Syntax</h2>
						<p>
							In the following the different concepts and syntactical constructs of the grammar language are explained.
						</p>
						<!-- subsection -->
						<section id="_22" style="padding-top: 68px; margin-top: -68px;">
						<h3>Language Declaration</h3>
						<p>
							Each Xtext grammar starts with a header that defines some properties of the grammar.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.xtext.example.SecretCompartments
   with org.eclipse.xtext.common.Terminals</pre>
							<p>
						</p>
						<p>
							The first line declares the name of the language. Xtext leverages Java's class path mechanism. This means that the name 
							can be any valid Java qualifier. The file name needs to correspond to the language name and have the file 
							extension <code class="prettyprint lang-xtend">.xtext</code>. This means that the name has to be <strong>SecretCompartments.xtext</strong> and must be placed 
							in a package <strong>org.xtext.example</strong> on your project's class path. In other words, your <code class="prettyprint lang-xtend">.xtext</code> file
							has to reside in a Java source folder to be valid.
						</p>
						<p>
							The second aspect that can be deduced from the first line of the grammar is its relationship to other
							languages. An Xtext grammar can declare another existing grammar to be reused. The mechanism is called <a href="#grammarMixins">grammar mixin</a>).
						</p>
						</section>
						<!-- subsection -->
						<section id="package_declarations" style="padding-top: 68px; margin-top: -68px;">
						<h3>EPackage Declarations</h3>
						<p>
							Xtext parsers create in-memory object graphs while consuming text. Such object-graphs are 
							instances of EMF Ecore models. An Ecore model basically consists of an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> containing 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html">EClasses</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a>, 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EDataType.html">EDataTypes</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EDataType.java">(src)</a> and <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EEnum.html">EEnums</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EEnum.java">(src)</a> 
							(see the <a href="#model_metamodel">section on EMF</a> for more details) and describes
							the structure of the instantiated objects. Xtext can infer Ecore models from a grammar 
							(see <a href="#metamodelInference">Ecore model inference</a>) but it is also 
							possible to import existing Ecore models. You can even mix both approaches and use multiple existing Ecore models and 
							infer some others from a single grammar. This allows for easy reuse of existing abstractions while still
							having the advantage of short turnarounds with derived Ecore models.
						</p>
						<!-- subsection -->
						<section id="_23" style="padding-top: 68px; margin-top: -68px;">
						<h4>EPackage Generation</h4>
						<p>
							The easiest way to get started is to let Xtext infer the Ecore model from your grammar. This is what is done in the 
							secret compartment example. The <code class="prettyprint lang-xtext">generate</code> declaration in the grammar advises the framework
							to do so:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
generate secrets 'http://www.eclipse.org/secretcompartment'</pre>
							<p>
						</p>
						<p>
							That statement could actually be read as: generate an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> with the 
							<strong>name</strong> <code class="prettyprint lang-xtext">secrets</code> and the <strong>nsURI</strong> 
							<code class="prettyprint lang-xtext">"http://www.eclipse.org/secretcompartment"</code>. 
							Actually these are the mandatory properties that are necessary to create an empty <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a>.
							Xtext will then add <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html">EClasses</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a> with 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EAttribute.html">EAttributes</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EAttribute.java">(src)</a> and <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html">EReferences</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a> for the 
							different parser
							rules in your grammar, as described in <a href="#metamodelInference">Ecore model inference</a>.
						</p>
						</section>
						<!-- subsection -->
						<section id="ePackageImport" style="padding-top: 68px; margin-top: -68px;">
						<h4>EPackage Import</h4>
						<p>
							If you already have an existing <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a>, you can import it using its namespace URI or a resource URI. 
							An <a href="http://www.ietf.org/rfc/rfc2396.txt">URI</a> (Uniform Resource Identifier) provides a simple and extensible 
							means for identifying an abstract or physical resource. For all the nifty details about EMF URIs 
							please refer to its <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/URI.html">documentation</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">(src)</a>. It is strongly recommended
							to use the namespace URI instead of the resource uri because it is independent from the concrete location
							in the file system and much more portable across different machines, easier to configure in the workflow
							and works better with language mixins. The import via platform URIs or file URIs can be considered deprecated
							and is only supported for backwards compatibility reasons.
						</p>
						<!-- subsection -->
						<section id="_24" style="padding-top: 68px; margin-top: -68px;">
						<h5>Using Namespace URIs to Import Existing EPackages</h5>
						<p>
							You can use namespace URI in order to import existing <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a>. This is generally 
							preferable. The package will be read from the Xtext index and therefore your grammar is independent
							from the concrete location of the respective ecore file. You have to make sure though, that the ecore file is contained
							in a project, that is managed by Xtext. Therefore the project has to have to Xtext project nature attached.
							Ecore files that reside in referenced Java archives (JARs) are automatically picked up and indexed if
							the referencing project itself is an Xtext project.
						</p>
						<p>
							To import an EPackage, you have to state its namespace URI like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
import "http://www.xtext.org/example/Domainmodel" as dmodel</pre>
							<p>
						</p>
						<p>
							In order to be able to find the referenced package in the language generator, some configuration values
							have to be set. It is usually the easiest way to register the generated <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> 
							interface in the workflow.
							The <a href="http://download.eclipse.org/modeling/emft/mwe/javadoc/2.3/org/eclipse/emf/mwe/utils/StandaloneSetup.html"><abbr title="org.eclipse.emf.mwe.utils.StandaloneSetup">StandaloneSetup</abbr></a> <a href="https://github.com/eclipse/mwe/blob/v2.3.0/plugins/org.eclipse.emf.mwe.utils/src/org/eclipse/emf/mwe/utils/StandaloneSetup.java">(src)</a> offers the respective methods to achieve this.
							Simply state something like this in the workflow:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
bean = StandaloneSetup {
  platformUri = "${runtimeProject}/../.."
  scanClassPath = true
  registerGeneratedEPackage = 
   "org.eclipse.xtext.example.domainmodel.domainmodel.DomainmodelPackage"
  registerGenModelFile = 
   "platform:/resource/.../path/to/Domainmodel.genmodel"
}</pre>
							<p>
						</p>
						<p>
							The registered genmodel is necessary to tell the code generator how the referenced Java classes are named.
							Please see below for alternatives that allow to register the genmodel, too. They may be handy if you
							create the genmodel in the workflow itself.
						</p>
						<p>
							If the generated EPackage interface is not available when the language workflow is executed, you can
							use another approach to register the reference packages. This may happen if your want to generate EMF
							classes and the language infrastructure in one and the same workflow. The section in the workflow, that
							refers the your grammar, allows to set additional resources that should be loaded prior to loading the
							grammar file. The ecore files that contain the referenced EPackages are a good candidate for preloaded
							resources.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
language = {
  loadedResource = 
   "platform:/resource/.../path/to/Domainmodel.ecore"
  uri = grammarURI
}</pre>
							<p>
						</p>
						<p>
							You can use either platform URIs or class path URIs to list the required ecore files (see below for details
							on both URI schemes).
						</p>
						<p>
							Important note: EPackages have to refer to each other by means of platform-resource or platform-plugin
							URIs. Otherwise you'll get validation errors in the grammar editor. However, it'll provide quick fixes
							to update the ecore files accordingly. There is only one exception to the rule: If you refer to data
							types from the ecore package or directly to <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>, the namespace URI
							is valid, too. This is due to special assignability rules for these types. If you craft the EPackage
							manually, you'll usually face no problems due to these constraints since the reflective Ecore editor
							inserts platform URIs by default. The other cases and legacy packages (those that were tailored to match
							the restrictions of older Xtext versions) can be converted with the quick fixes in the grammar editor.
						</p>
						<p>
							If you used platform-plugin URIs in the ecore files and cannot use the generated <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a>
							in the workflow, you'll have to register URI mappings from platform-plugin to platform-resource.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
bean = StandaloneSetup {
  platformUri = "${runtimeProject}/../.."
  scanClassPath = true
  uriMap = {
    from = "platform:/plugin/some.plugin/model/File.ecore"
    to = "platform:/resource/some.plugin/model/File.ecore"
  }
  // assuming that Domainmodel.ecore uses 
  // platform:/plugin/some.plugin/model/File.ecore
  registerEcoreFile = 
   "platform:/resource/.../path/to/Domainmodel.ecore"
  registerGenModelFile = 
   "platform:/resource/.../path/to/Domainmodel.genmodel"
}</pre>
							<p>
						</p>
						<p>
							If you face problems with that approach, it may be necessary to explicitly load the referenced packages
							in the language configuration of the workflow. You may run into this as soon as you refer to elements
							from <strong>Ecore.ecore</strong> and want to generated the EMF classes from within the same workflow.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
language = {
  loadedResource = "platform:/resource/.../path/to/Domainmodel.ecore"
  loadedResource = "platform:/plugin/some.plugin/model/File.ecore"
  
  uri = "classpath:/.../path/to/Domainmodel.xtext"
  ..
}</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_25" style="padding-top: 68px; margin-top: -68px;">
						<h5>Using Resource URIs to Import Existing EPackages - Deprecated</h5>
						<p>
							In order to import an existing Ecore model, you'll have to have the *.ecore file describing the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> 
							you want to 
							use somewhere in your workspace. To refer to that file you make use of the <strong>platform:/resource</strong> scheme.
							Platform URIs are a special EMF concept which allow to reference elements in the workspace 
							independent of the physical location of the workspace. It is an abstraction that uses the Eclipse workspace
							concept as the logical root of each project.
						</p>
						<p>
							An import statement referring to an Ecore file by a <strong>platform:/resource/</strong>-URI looks like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
import 'platform:/resource/my.project/model/SecretCompartments.ecore'</pre>
							<p>
						</p>
						<p>
							If you want to mix generated and imported Ecore models you'll have to configure the generator fragment 
							in your MWE file responsible for <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/ecore/EcoreGeneratorFragment.html">generating the Ecore classes</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/ecore/EcoreGeneratorFragment.java">(src)</a> 
							with resource URIs that point to the <a href="#emf_codegen">generator models</a> of the referenced Ecore models.
						</p>
						<p>
							The <strong>*.genmodel</strong> provides all kind of generator configuration used by EMF's code generator. Xtext will automatically create
							a generator model for derived <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html">EPackages</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a>, but if it references an existing, imported Ecore
							model, the code generator needs to know how that code was generated in order to generate valid Java code.
						</p>
						<p>
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
fragment = org.eclipse.xtext.generator.ecore.EcoreGeneratorFragment {
  referencedGenModels =
    "platform:/resource/my.project/model/SecretCompartments.genmodel"
}</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_26" style="padding-top: 68px; margin-top: -68px;">
						<h5>Using Class Path URIs to Import Existing EPackages - Deprecated</h5>
						<p>
							We usually like to leverage Java's class path mechanism, because is is well understood and can be configured easily
							with Eclipse. Furthermore it allows us to package libraries as jars. If you want to reference an existing
							<strong>*.ecore</strong> file which is contained in a jar, you can make use of the 
							<strong>'classpath:'</strong> URI scheme we've introduced. For instance if you want to reference Java elements, you can use the JvmType Ecore model 
							which is shipped as part of Xtext.
						</p>
						<p>
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
import 'classpath:/model/JvmTypes.ecore' as types</pre>
							<p>
						</p>
						<p>
							As with platform resource URIs you'll also have to tell the generator where the corresponding <strong>*.genmodel</strong> can be found:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
fragment = org.eclipse.xtext.generator.ecore.EcoreGeneratorFragment {
  referencedGenModels =
    "classpath:/model/JvmTypes.genmodel"
}</pre>
							<p>
						</p>
						<p>
							See the section on <a href="#jvmtypes">Referring Java Types</a> for a full explanation of this useful feature.
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="_27" style="padding-top: 68px; margin-top: -68px;">
						<h4>Ecore Model Aliases for EPackages</h4>
						<p>
							If you want to use multiple <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html">EPackages</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> you need to specify aliases in the following way:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
generate secrets 'http://www.eclipse.org/secretcompartment'
import 'http://www.eclipse.org/anotherPackage' as another</pre>
							<p>
						</p>
						<p>
							When referring to a type somewhere in the grammar you need to qualify the reference using that 
							alias (example <code class="prettyprint lang-xtext">another::SomeType</code>). We'll see later where such type references occur.
						</p>
						<p>
							It is also supported to put multiple <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> imports into one alias. This is no problem as 
							long as there are not any two <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClassifier.html">EClassifiers</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClassifier.java">(src)</a> with the same name. 
							In that case none of them can be referenced. 
							It is even possible to <code class="prettyprint lang-xtext">import</code> multiple and <code class="prettyprint lang-xtext">generate</code> one Ecore model and declare all of them with 
							same alias. If you do so, for a reference to an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClassifier.html"><abbr title="org.eclipse.emf.ecore.EClassifier">EClassifier</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClassifier.java">(src)</a> first the imported <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html">EPackages</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> are 
							scanned before it is assumed that a type needs to be generated into the inferred package.
						</p>
						<p>
							Note, that using this feature is not recommended, because it might cause problems, which are hard to track down.
							For instance, a reference to <strong>classA</strong> would as well be linked to a newly created <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a>, because the 
							corresponding type in <strong>http://www.eclipse.org/packContainingClassA</strong> is spelled with a capital letter.
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="_28" style="padding-top: 68px; margin-top: -68px;">
						<h3>Rules</h3>
						<p>
							Basically parsing can be separated in the following phases.
						</p>
						<p>
							</p>
							<ol>
								<li>Lexing</li>
								<li>Parsing</li>
								<li>Linking</li>
								<li>Validation</li>
							</ol>
							<p>
						</p>
						<!-- subsection -->
						<section id="_29" style="padding-top: 68px; margin-top: -68px;">
						<h4>Terminal Rules</h4>
						<p>
							In the first stage called <strong>lexing</strong>, a sequence of characters (the text input) is transformed into a sequence of so 
							called tokens. In this context, a token is sort of a strongly typed part or region of the input sequence. It consists of one 
							or more characters and was matched by a particular terminal rule or keyword and therefore represents an atomic symbol.
							Terminal rules are also referred to as <strong>token rules</strong> or <strong>lexer rules</strong>. There is an informal naming convention that 
							names of terminal rules are all upper-case.
						</p>
						<p>
							In the secret compartments example there are no explicitly defined terminal rules, since it only uses the <strong>ID</strong> rule 
							which is inherited from the grammar <code class="prettyprint lang-xtext">org.eclipse.xtext.common.Terminals</code> (cf. <a href="#grammarMixins">Grammar Mixins</a>).
							Therein the <strong>ID</strong> rule is defined as follows:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal ID : 
  ('^')?('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*;</pre>
							<p>
						</p>
						<p>
							It says that a token <strong>ID</strong> starts with an optional <strong>'^'</strong> character (caret), followed by a letter <code class="prettyprint lang-xtext">('a'..'z'|'A'..'Z')</code> 
							or underscore <code class="prettyprint lang-xtext">'_'</code> followed by any number of letters, underscores and numbers <code class="prettyprint lang-xtext">('0'..'9')</code>.
						</p>
						<p>
							The caret is used to escape an identifier if there are conflicts with existing keywords. It is removed 
							by the <strong>ID</strong> rule's <a href="#valueconverter">ValueConverter</a>.
						</p>
						<p>
							This is the simplified formal definition of terminal rules:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
TerminalRule :
  'terminal' name=ID ('returns' type=TypeRef)? ':' 
    alternatives=TerminalAlternatives ';'
;</pre>
							<p>
						</p>
						<p>
							Note, that <strong>the order of terminal rules is crucial for your grammar</strong>, as they may shadow each other. 
							This is especially important for newly introduced rules in connection with imported rules from used grammars.
						</p>
						<p>
							It's almost in any case recommended to use data type rules instead. Let's assume you want to add a rule
							 to allow fully qualified names in addition to simple IDs. Since a qualified name with only one segment
							 looks like a plain ID, you should implement it as a <a href="#datatypeRules">data type rule</a>, instead of adding 
							 another terminal rule. The same rule of thumb applies to floating point literals, too.
						</p>
						<!-- subsection -->
						<section id="_30" style="padding-top: 68px; margin-top: -68px;">
						<h5>Return Types</h5>
						<p>
							Each terminal rule returns an atomic value (an <code class="prettyprint lang-xtend">Ecore EDataType</code>). By default, it's assumed that
							an instance of <code class="prettyprint lang-xtext">ecore::EString</code>) should be returned.
							However, if you want to provide a different type you can specify it. For instance, the rule <strong>INT</strong> is defined as:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal INT returns ecore::EInt : 
  ('0'..'9')+;</pre>
							<p>
						</p>
						<p>
							This means that the terminal rule <strong>INT</strong> returns instances of <code class="prettyprint lang-xtext">ecore::EInt</code>. It is possible to define any 
							kind of data type here, which just needs to be an instance of <code class="prettyprint lang-xtext">ecore::EDataType</code>. In order to tell the framework 
							how to convert the parsed string to a value of the declared data type, you need to provide your own 
							implementation of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/conversion/IValueConverterService.html"><abbr title="org.eclipse.xtext.conversion.IValueConverterService">IValueConverterService</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/conversion/IValueConverterService.java">(src)</a> (cf. 
							<a href="#valueconverter">value converters</a>). The value converter is also the service that allows to remove escape
							sequences or semantically unnecessary character like quotes from string literals or the caret <code class="prettyprint lang-xtext">'^'</code> from identifiers.
							 Its implementation needs to be registered as a service (cf. <a href="#dependencyInjection">Service Framework</a>).
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="_31" style="padding-top: 68px; margin-top: -68px;">
						<h4>Extended Backus-Naur Form Expressions</h4>
						<p>
							Terminal rules are described using <strong>Extended Backus-Naur Form</strong>-like (EBNF) expressions. The different expressions 
							are described in the following. Each of these expressions allows to define a cardinality.
							There are four different possible cardinalities:
						</p>
						<p>
							</p>
							<ol>
								<li>exactly one (the default, no operator)</li>
								<li>one or none (operator <strong>?</strong>)</li>
								<li>any (zero or more, operator <strong>*</strong>)</li>
								<li>one or more (operator <strong>+</strong>)</li>
							</ol>
							<p>
						</p>
						<!-- subsection -->
						<section id="Keywords" style="padding-top: 68px; margin-top: -68px;">
						<h5>Keywords / Characters</h5>
						<p>
							Keywords are a kind of terminal rule literals. 
							The <strong>ID</strong> rule in <code class="prettyprint lang-xtext">org.eclipse.xtext.common.Terminals</code> for instance starts with a keyword:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal ID : '^'? .... ;</pre>
							<p>
						</p>
						<p>
							The question mark sets the cardinality to <strong>none or one</strong> (i.e. optional) like explained above.
						</p>
						<p>
							Note that a keyword can have any length and contain arbitrary characters.
						</p>
						<p>
							The following standard Java notations for special characters are allowed: <strong>\n</strong>, <strong>\r</strong>,
							<strong>\t</strong>, <strong>\b</strong>, <strong>\f</strong> and the quoted unicode character notation, such as <strong>\u123</strong>.
						</p>
						</section>
						<!-- subsection -->
						<section id="_32" style="padding-top: 68px; margin-top: -68px;">
						<h5>Character Ranges</h5>
						<p>
							A character range can be declared using the <code class="prettyprint lang-xtext">..</code> operator.
						</p>
						<p>
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal INT returns ecore::EInt: ('0'..'9')+;</pre>
							<p>
						</p>
						<p>
							In this case an <strong>INT</strong> is comprised of one or more (note the <code class="prettyprint lang-xtext">+</code> operator) characters 
							between (and including) <code class="prettyprint lang-xtext">'0'</code> and <code class="prettyprint lang-xtext">'9'</code>.
						</p>
						</section>
						<!-- subsection -->
						<section id="_33" style="padding-top: 68px; margin-top: -68px;">
						<h5>Wildcard</h5>
						<p>
							If you want to allow any character you can simple write the wildcard operator <code class="prettyprint lang-xtext">.</code> (dot):
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal FOO : 'f' . 'o';</pre>
							<p>
						</p>
						<p>
							The rule above would allow expressions like <strong>foo</strong>, <strong>f0o</strong> or even <strong>f_o</strong>.
						</p>
						</section>
						<!-- subsection -->
						<section id="_34" style="padding-top: 68px; margin-top: -68px;">
						<h5>Until Token</h5>
						<p>
							With the until token it is possible to state that everything should be consumed until a certain token occurs.
							The multi-line comment is implemented this way:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal ML_COMMENT  : '/*' -&gt; '*/';</pre>
							<p>
						</p>
						<p>
							This is the rule for Java-style comments that begin with <code class="prettyprint lang-xtext">/*</code> and end with <code class="prettyprint lang-xtext">*/</code>.
						</p>
						</section>
						<!-- subsection -->
						<section id="_35" style="padding-top: 68px; margin-top: -68px;">
						<h5>Negated Token</h5>
						<p>
							All the tokens explained above can be inverted using a preceding exclamation mark:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal BETWEEN_HASHES  : '#' (!'#')* '#';</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="rule_calls" style="padding-top: 68px; margin-top: -68px;">
						<h5>Rule Calls</h5>
						<p>
							Rules can refer to other rules. This is simply done by using the name of the rule to be called.
							We refer to this as rule calls. Rule calls in terminal rules can only point to terminal rules.
						</p>
						<p>
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal DOUBLE : INT '.' INT;</pre>
							<p>
						</p>
						<p>
							<strong>Note: It is generally not a good idea to implement floating point literals with terminal rules. You
							should use data type rules instead for the above mentioned reasons.</strong>
						</p>
						</section>
						<!-- subsection -->
						<section id="Alternatives" style="padding-top: 68px; margin-top: -68px;">
						<h5>Alternatives</h5>
						<p>
							Alternatives allow to define multiple valid options in the input file. 
							For instance, the white space rule uses alternatives like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal WS : (' '|'\t'|'\r'|'\n')+;</pre>
							<p>
						</p>
						<p>
							That is a WS can be made of one or more white space characters (including <code class="prettyprint lang-xtext">' ', '\t', '\r', '\n'</code>).
						</p>
						</section>
						<!-- subsection -->
						<section id="Groups" style="padding-top: 68px; margin-top: -68px;">
						<h5>Groups</h5>
						<p>
							Finally, if you put tokens one after another, the whole sequence is referred to as a group.
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal ASCII : '0x' ('0'..'7') ('0'..'9'|'A'..'F');</pre>
							<p>
						</p>
						<p>
							That is the 2-digit hexadecimal code of ASCII characters.
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="terminal_fragment" style="padding-top: 68px; margin-top: -68px;">
						<h4>Terminal Fragments</h4>
						<p>
							Since terminal rules are used in a stateless context, it's not easily possible to reuse parts of their
							definition. Fragments solve this problem. They allow the same EBNF elements as terminal rules do but
							may not be consumed by the lexer. Instead, they have to be used by other terminal rules. This allows
							to extract repeating parts of a definition:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal fragment ESCAPED_CHAR : '\\' ('n'|'t'|'r'|'\\');
terminal STRING  : 
      '"' ( ESCAPED_CHAR | !('\\'|'"') )* '"' |
      "'" ( ESCAPED_CHAR | !('\\'|"'") )* "'"
;</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="eof" style="padding-top: 68px; margin-top: -68px;">
						<h4>EOF - End Of File</h4>
						<p>
							The EOF (End Of File) token may be used to describe that the end of the input stream is a valid situation
							at a certain point in a terminal rule. This allows to consume the complete remaining input of a file
							starting with a special delimiter.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal UNCLOSED_COMMENT : '/*' (!EOF)* EOF;</pre>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="parser_rules" style="padding-top: 68px; margin-top: -68px;">
						<h3>Parser Rules</h3>
						<p>
							The parser is fed with a sequence of terminals and walks through the so called parser rules. Hence a parser rule - 
							contrary to a terminal rule - does not produce a single atomic terminal token but a tree of non-terminal 
							and terminal tokens. They lead to a so called 
							 parse tree (in Xtext it is also referred 
							as node model). Furthermore, parser rules are handled as kind of a building plan for the creation of 
							the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html">EObjects</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> that form the semantic model (the linked abstract syntax graph or AST). Due to this 
							fact, parser rules are even called production or EObject rules. Different constructs like actions and 
							assignments are used to derive types and initialize the semantic objects accordingly.
						</p>
						<!-- subsection -->
						<section id="_36" style="padding-top: 68px; margin-top: -68px;">
						<h4>Extended Backus-Naur Form Expressions</h4>
						<p>
							Not all the expressions that are available in terminal rules can be used in parser rules. Character 
							ranges, wildcards, the until token and the negation as well as the EOF token are only available for terminal rules.
						</p>
						<p>
							The elements that are available in parser rules as well as in terminal rules are
						</p>
						<p>
							</p>
							<ol>
								<li><a href="#Groups">Groups</a>,</li>
								<li><a href="#Alternatives">Alternatives</a>,</li>
								<li><a href="#Keywords">Keywords</a> and</li>
								<li><a href="#rule_calls">Rule Calls</a>.</li>
							</ol>
							<p>
						</p>
						<p>
							In addition to these elements, there are some expressions used to direct how the AST 
							is constructed. They are listed and explained in the following.
						</p>
						<!-- subsection -->
						<section id="assignments" style="padding-top: 68px; margin-top: -68px;">
						<h5>Assignments</h5>
						<p>
							Assignments are used to assign the consumed information to a feature of the currently produced object. 
							The type of the current object, its <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a>, is specified by the return type of the parser 
							rule. If it is not explicitly stated it is implied that the type's name equals the rule's name. 
							The type of the assigned feature is inferred from the right hand side of the assignment.
						</p>
						<p>
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
State :
  'state' name=ID
    ('actions' '{' (actions+=[Command])+ '}')?
    (transitions+=Transition)*
  'end'
;</pre>
							<p>
						</p>
						<p>
							The syntactic declaration for states in the state machine example starts with a keyword <code class="prettyprint lang-fowlerexample">state</code> followed by an assignment:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
name=ID</pre>
							<p>
						</p>
						<p>
							The left hand side refers to a feature <strong>name</strong> of the current object (which has the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a> <strong>State</strong> in this case). 
							The right hand side can be a rule call, a keyword, a <a href="#cross_reference">cross-reference</a> or an alternative
							comprised by the former. The type of the feature 
							needs to be compatible with the type of the expression on the right. As <strong>ID</strong> returns an <strong>EString</strong> in this case, 
							the feature <strong>name</strong> needs to be of type <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html">EString</a> as well.
						</p>
						<p>
							<strong>Assignment Operators</strong>
						</p>
						<p>
							There are three different assignment operators, each with different semantics.
						</p>
						<p>
							</p>
							<ol>
								<li>The simple equal sign <code class="prettyprint lang-xtext">=</code> is the straight forward assignment, and used for features which take only one element.</li>
								<li>The <code class="prettyprint lang-xtext">+=</code> sign (the add operator) expects a multi-valued feature and adds the value on the right hand to that feature, which is a list feature.</li>
								<li>The <code class="prettyprint lang-xtext">?=</code> sign (boolean assignment operator) expects a feature of type <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Boolean.html">EBoolean</a> and sets it 
								to true if the right hand side was consumed independently from the concrete value of the right hand side.</li>
							</ol>
							<p>
						</p>
						<p>
							The used assignment operator does not influence the cardinality of the expected symbols on the right hand side.
						</p>
						</section>
						<!-- subsection -->
						<section id="cross_reference" style="padding-top: 68px; margin-top: -68px;">
						<h5>Cross-References</h5>
						<p>
							A unique feature of Xtext is the ability to declare cross-links in the grammar. In traditional compiler 
							construction the cross-links are not established during parsing but in a later linking phase. This is the 
							same in Xtext, but we allow to specify cross-link information in the grammar. This information is used by the linker.
							The syntax for cross-links is:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
CrossReference :
  '[' type=TypeRef ('|' ^terminal=CrossReferenceableTerminal )? ']'
;</pre>
							<p>
						</p>
						<p>
							For example, the transition is made up of two cross-references, pointing to an event and a state:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Transition :
  event=[Event] '=&gt;' state=[State]
;</pre>
							<p>
						</p>
						<p>
							It is important to understand that the text between the square brackets does not refer to another rule, but to an
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a> - which is a type and not a parser rule!
							This is sometimes confusing, because one usually uses the same name for the rules and the returned types.
							That is if we had named the type for events differently like in the following the cross-reference needs 
							to be adapted as well:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Transition :
  event=[MyEvent] '=&gt;' state=[State]
;
 
Event returns MyEvent : ....;</pre>
							<p>
						</p>
						<p>
							Looking at the syntax definition for cross-references, there is an optional part starting with a vertical 
							bar (pipe) followed by <strong>CrossReferenceableTerminal</strong>. This is the part describing the concrete text, from 
							which the cross-link later should be established. If the terminal is omitted, it is expected to be the rule
							with the name <strong>ID</strong> - if one can be found. The terminal is mandatory for languages that do not define a rule with the name <strong>ID</strong>.
						</p>
						<p>
							Have a look at the <a href="#linking">linking section</a> in order to understand how linking is done.
						</p>
						</section>
						<!-- subsection -->
						<section id="unordered_groups" style="padding-top: 68px; margin-top: -68px;">
						<h5>Unordered Groups</h5>
						<p>
							The elements of an unordered group can occur in any order but each element must appear once. Unordered 
							groups are separated by <code class="prettyprint lang-xtext">&amp;</code>. The following rule <code class="prettyprint lang-xtext">Modifier</code> allows to parse simplified
							modifiers of the Java language:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Modifier: 
  static?='static'? &amp; final?='final'? &amp; visibility=Visibility;

enum Visibility:
  PUBLIC='public' | PRIVATE='private' | PROTECTED='protected';</pre>
							<p>
						</p>
						<p>
							Therefore, the following sequences of tokens are valid:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public static final
static protected 
final private static
public</pre>
							<p>
						</p>
						<p>
							However, since no unordered groups are used in the rule <code class="prettyprint lang-xtext">Modifier</code>, the parser refuses to accept
							this input lines:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
static final static // ERROR: static appears twice
public static final private // ERROR: visibility appears twice
final // ERROR: visibility is missing</pre>
							<p>
						</p>
						<p>
							Note that if you want an element of an unordered group to appear once or not at all, 
							you have to choose a cardinality of <code class="prettyprint lang-xtext">?</code>. In the example, the visibility is mandatory, 
							while <code class="prettyprint lang-java">static</code> or <code class="prettyprint lang-java">final</code> are optional. Elements with a cardinality of <code class="prettyprint lang-xtext">*</code> or <code class="prettyprint lang-xtext">+</code>
							have to appear continuously without interruption, i.e.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Rule:
  values+=INT* &amp; name=ID;</pre>
							<p>
						</p>
						<p>
							will parse these lines
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
0 8 15 x
x 0 8 15</pre>
							<p>
						</p>
						<p>
							but not does not consume the following sequence without raising an error
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
0 x 8 15 // wrong, as values may be interrupted by a name (ID)</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_37" style="padding-top: 68px; margin-top: -68px;">
						<h5>Simple Actions</h5>
						<p>
							The object to be returned by a parser rule is usually created lazily on the first assignment. Its type is determined from the specified return type
							of the rule which may have been inferred from the rule's name if no explicit return type is specified.
						</p>
						<p>
							With Actions however, the creation of returned <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> can be made explicit. Xtext supports two kinds of Actions:
						</p>
						<p>
							</p>
							<ol>
								<li><strong>Simple</strong> Actions, and</li>
								<li><strong>Assigned</strong> Actions.</li>
							</ol>
							<p>
						</p>
						<p>
							If you want to enforce the creation of an instance with specific type you can use simple actions.
							In the following example <strong>TypeB</strong> must be a subtype of <strong>TypeA</strong>. An expression <strong>A ident</strong> should create an instance of 
							<strong>TypeA</strong>, whereas <strong>B ident</strong> should instantiate <strong>TypeB</strong>.
						</p>
						<p>
							If you don't use actions, you'll have to define an alternative and delegate rules to guide the parser
							to the right types for the to-be-instantiated objects:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
MyRule returns TypeA :
  "A" name=ID |
  MyOtherRule
; 
 
MyOtherRule returns TypeB :
  "B" name = ID
;</pre>
							<p>
						</p>
						<p>
							Actions however allow to make this explicit. Thereby they can improve the readability of grammars.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
MyRule returns TypeA :
  "A" name=ID |
  "B" {TypeB} name=ID
;</pre>
							<p>
						</p>
						<p>
							Generally speaking, the instance is created as soon as the parser hits the first assignment. However, actions 
							allow to explicitly instantiate any <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>. The notation <strong>{TypeB}</strong> will create an instance of TypeB and assign 
							it to the result of the parser rule. This allows to define parser rules without any assignment and to
							create objects without the need to introduce unnecessary delegate rules.
						</p>
						<p>
							<strong>Note: If a parser rule does not instantiate any object because it does not contain an Action and
							no mandatory Assignment, you'll likely end up with unexpected situations for valid input files. Xtext
							detects this situation and will raise a warning for the parser rules in question.</strong>
						</p>
						</section>
						<!-- subsection -->
						<section id="_38" style="padding-top: 68px; margin-top: -68px;">
						<h5>Unassigned Rule Calls</h5>
						<p>
							We previously explained, that the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> to be returned is created lazily when the first assignment occurs or 
							as soon as a simple action is evaluated. There is another to <strong>find</strong> the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> to be returned. The
							concept is called <strong>Unassigned Rule Call</strong>.
						</p>
						<p>
							Unassigned rule calls (the name suggests it) are rule calls to other parser rules, which are not used within an 
							assignment. The return value of the called rule becomes the return value of the calling parser rule if
							it is not assigned to a feature.
						</p>
						<p>
							With unassigned rule calls one can, for instance, create rules which just dispatch to other rules:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
AbstractToken :
  TokenA |
  TokenB |
  TokenC
;</pre>
							<p>
						</p>
						<p>
							As <code class="prettyprint lang-xtext">AbstractToken</code> could possibly return an instance of <strong>TokenA</strong>, <strong>TokenB</strong> or <strong>TokenC</strong> its type must be a 
							super type for all these types. Since the return value of the called rule becomes the result of the current
							rule, it is possible to further change the state of the AST 
							element by assigning additional features.
						</p>
						<p>
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
AbstractToken :
  ( TokenA |
    TokenB |
    TokenC ) (cardinality=('?'|'+'|'*'))?
;</pre>
							<p>
						</p>
						<p>
							This way the <strong>cardinality</strong> is optional (last question mark) and can be represented 
							by a question mark, a plus, or an asterisk. It will be assigned to either an 
							instance of type <strong>TokenA</strong>,  <strong>TokenB</strong>, or <strong>TokenC</strong> which are all subtypes of 
							<strong>AbstractToken</strong>. The rule in this example will never create an instance of <strong>AbstractToken</strong> directly
							but always return the instance that has been created by the invoked <strong>TokenX</strong> rule.
						</p>
						</section>
						<!-- subsection -->
						<section id="grammarActions" style="padding-top: 68px; margin-top: -68px;">
						<h5>Assigned Actions</h5>
						<p>
							Xtext leverages the powerful ANTLR parser which implements an <code class="prettyprint lang-xtend">LL(*)</code> algorithm. Even though <code class="prettyprint lang-xtend">LL</code>
							parsers have many advantages with respect to readability, debuggability and error recovery, there are
							also some drawbacks. The most important one is that it does not allow left recursive grammars.
							For instance, the following rule is not allowed in LL-based grammars, because <code class="prettyprint lang-xtext">Expression '+' Expression</code> is left recursive:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Expression :
  Expression '+' Expression |
  '(' Expression ')' |
  INT
;</pre>
							<p>
						</p>
						<p>
							Instead one has to rewrite such things by "left-factoring" it:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Expression :
  TerminalExpression ('+' TerminalExpression)?
;
 
TerminalExpression :
  '(' Expression ')' |
  INT
;</pre>
							<p>
						</p>
						<p>
							In practice this is always the same pattern and therefore not too difficult. 
							However, by simply applying the Xtext AST construction features we've covered so far, a grammar ...
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Expression :
  {Operation} left=TerminalExpression (op='+' right=TerminalExpression)?
;
 
TerminalExpression returns Expression:
  '(' Expression ')' |
  {IntLiteral} value=INT
;</pre>
							<p>
						</p>
						<p>
							... would result in unwanted elements in the AST.
							For instance the expression <code class="prettyprint lang-java">(42)</code> would result in a tree like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
Operation {
  left=Operation {
    left=IntLiteral {
      value=42
    }
  }
}</pre>
							<p>
						</p>
						<p>
							Typically one would only want to have one instance of <strong>IntLiteral</strong> instead.
						</p>
						<p>
							This problem can be solved by using a combination of unassigned rule calls and assigned actions:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Expression :
  TerminalExpression ({Operation.left=current} 
    op='+' right=Expression)?
;
 
TerminalExpression returns Expression:
  '(' Expression ')' |
  {IntLiteral} value=INT
;</pre>
							<p>
						</p>
						<p>
							In the example above <code class="prettyprint lang-xtext">{Operation.left=current}</code> is a so called tree rewrite action, which creates a new instance of the stated 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a>
							<strong>Operation</strong> and assigns the element currently to-be-returned (the <code class="prettyprint lang-xtext">current</code> variable) to a feature of the newly created object.
							The example uses the feature <strong>left</strong> of the <strong>Operation</strong> instance to store the previously returned <strong>Expression</strong>.
							In Java these semantics could be expressed as:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
Operation temp = new Operation();
temp.setLeft(current);
current = temp;</pre>
							<p>
						</p>
						</section>
						</section>
						</section>
						<!-- subsection -->
						<section id="hidden_terminals" style="padding-top: 68px; margin-top: -68px;">
						<h3>Hidden Terminal Symbols</h3>
						<p>
							Because parser rules describe not a single token, but a sequence of patterns in the input, it is necessary to define
							the interesting parts of the input. Xtext introduces the concept of hidden tokens to handle semantically unimportant
							things like white spaces, comments, etc. in the input sequence gracefully. It is possible to define a set of terminal 
							symbols, that are hidden from the parser rules and automatically skipped when they are recognized. Nevertheless, they 
							are transparently woven into the node model, but not relevant for the semantic model.
						</p>
						<p>
							Hidden terminals may optionally appear between any other terminals in any cardinality. They can be described per rule 
							or for the whole grammar. When <a href="#grammarMixins">reusing a single grammar</a> its definition of hidden tokens is reused,
							too. The grammar <code class="prettyprint lang-xtext">org.eclipse.xtext.common.Terminals</code> comes with a reasonable default and hides all comments and white
							space from the parser rules.
						</p>
						<p>
							If a rule defines hidden symbols, you can think of a kind of scope that is automatically introduced. Any rule that is
							 called transitively by the declaring rule uses the same hidden terminals as the calling rule, unless it defines hidden tokens itself.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Person hidden(WS, ML_COMMENT, SL_COMMENT): 
  name=Fullname age=INT ';'
;

Fullname: 
  (firstname=ID)? lastname=ID
;</pre>
							<p>
						</p>
						<p>
							The sample rule <strong>Person</strong> defines multiline comments (<code class="prettyprint lang-xtext">ML_COMMENT</code>), single-line comments (<code class="prettyprint lang-xtext">SL_COMMENT</code>), and white
							space (<code class="prettyprint lang-xtext">WS</code>) to be allowed between
							 the <strong>name</strong> and the <strong>age</strong>. Because the rule <strong>Fullname</strong> does not introduce an own set of hidden terminals, it allows the same symbols to appear 
							 between <strong>firstname</strong> and <strong>lastname</strong> as the calling rule <strong>Person</strong>. Thus, the following input is perfectly valid for the given grammar snippet:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
John /* comment */ Smith // line comment
/* comment */
      42      ; // line comment</pre>
							<p>
						</p>
						<p>
							A list of all default terminals like <code class="prettyprint lang-xtext">WS</code> can be found in section <a href="#grammarMixins">Grammar Mixins</a>.
						</p>
						</section>
						<!-- subsection -->
						<section id="datatypeRules" style="padding-top: 68px; margin-top: -68px;">
						<h3>Data Type Rules</h3>
						<p>
							Data type rules are parsing-phase rules, which create instances of <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EDataType.html"><abbr title="org.eclipse.emf.ecore.EDataType">EDataType</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EDataType.java">(src)</a> instead of <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a>. Thinking about it, one may discover 
							that they are quite similar to terminal rules.
							However, the nice thing about data type rules is that they are actually parser rules and are therefore
						</p>
						<p>
							</p>
							<ol>
								<li>context sensitive and</li>
								<li>allow for use of hidden tokens.</li>
							</ol>
							<p>
						</p>
						<p>
							Assuming you want to define a rule to consume Java-like qualified names (e.g. "foo.bar.Baz")
							you could write:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
QualifiedName :
  ID ('.' ID)*
;</pre>
							<p>
						</p>
						<p>
							In contrast to a terminal rule this is only valid in certain contexts, i.e. it won't conflict with the rule <strong>ID</strong>.
							If you had defined it as a terminal rule, it would possibly hide the simple <strong>ID</strong> rule.
						</p>
						<p>
							In addition when the <strong>QualifiedName</strong> been defined as a data type rule, it is allowed to use hidden 
							tokens (e.g. <code class="prettyprint lang-java">/* comment */</code> between the segment IDs and dots (e.g. <code class="prettyprint lang-java">foo/* comment */. bar . Baz</code>).
						</p>
						<p>
							Return types can be specified in the same way as for terminal rules:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
QualifiedName returns ecore::EString : 
  ID ('.' ID)*
;</pre>
							<p>
						</p>
						<p>
							Note that rules that do not call other parser rules and do neither contain any actions nor <a href="#assignments">assignments</a>, are
							 considered to be data type rules and the data type <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html">EString</a> is implied if none has been explicitly declared.
						</p>
						<p>
							<a href="#valueconverter">Value converters</a> are used to transform the parsed string to the actually returned
							data type value.
						</p>
						</section>
						<!-- subsection -->
						<section id="_39" style="padding-top: 68px; margin-top: -68px;">
						<h3>Enum Rules</h3>
						<p>
							Enum rules return enumeration literals from strings. They can be seen as a shortcut for data type rules with specific value converters.
							The main advantage of enum rules is their simplicity, type safety and therefore nice validation. Furthermore it is possible
							 to infer enums and their respective literals during the Ecore model transformation.
						</p>
						<p>
							If you want to define a <code class="prettyprint lang-xtext">ChangeKind</code> from <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/change/package-summary.html">org.eclipse.emf.ecore.change/model/Change.ecore</a> with <strong>ADD</strong>, <strong>MOVE</strong> and <strong>REMOVE</strong> you could write:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
enum ChangeKind :
  ADD | MOVE | REMOVE
;</pre>
							<p>
						</p>
						<p>
							It is even possible to use alternative literals for your enums or reference an enum value twice:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
enum ChangeKind :
  ADD = 'add' | ADD = '+' | 
  MOVE = 'move' | MOVE = '-&gt;' | 
  REMOVE = 'remove' | REMOVE = '-'
;</pre>
							<p>
						</p>
						<p>
							Please note, that Ecore does not support unset values for enums. If you define a grammar like
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Element: "element" name=ID (value=SomeEnum)?;</pre>
							<p>
						</p>
						<p>
							with the input of
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
element Foo</pre>
							<p>
						</p>
						<p>
							the resulting value of the element <strong>Foo</strong> will hold the enum value with the internal representation of <code class="prettyprint lang-xtend">0</code> (zero). 
							When generating the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> from your grammar this will be the first literal you define. As a workaround 
							you could introduce a dedicated none-value or order the enums accordingly. Note that it is not possible to define 
							an enum literal with an empty textual representation.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
enum Visibility: 
  package | private | protected | public
;</pre>
							<p>
						</p>
						<p>
							You can overcome this by using an explicitly imported metamodel.
						</p>
						</section>
						<!-- subsection -->
						<section id="antlr_errors" style="padding-top: 68px; margin-top: -68px;">
						<h3>Syntactic Predicates</h3>
						<p>
							It's sometimes not easily possible to define an <code class="prettyprint lang-xtend">LL(*)</code> grammar for a given language that parses
							all possible valid input files and still produces abstract syntax graphs that mimic the actual structure
							of the files. There are even cases that cannot be described with an unambiguous grammar. There are solutions
							that allow to deal with this problem:
						</p>
						<p>
							</p>
							<ul>
								<li>Enable Backtracking: Xtext allows to enable backtracking for the ANTLR parser generator. This
								  is usually not recommended since it influences error message strategies at runtime and shadows actually
								  existing problems in the grammar.</li>
								<li>Syntactic Predicates: The grammar language enables users to guide the parser in case of ambiguities.
								  This mechanism is achieved by syntactic predicates. Since they affect only a very small part of the
								  grammar, syntactic predicates are the recommended approach to handle ANTLR error messages during
								  the parser generation.</li>
							</ul>
							<p>
						</p>
						<p>
							The classical example for ambiguous language parts is the <strong>Dangling Else Problem</strong>. A conditional in
							a programming language usually looks like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
if (isTrue()) 
  doStuff(); 
else 
  dontDoStuff();</pre>
							<p>
						</p>
						<p>
							The problems becomes more obvious as soon as nested conditions are used:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
if (isTrue())
  if (isTrueAsWell())  
    doStuff(); 
  else 
    dontDoStuff();</pre>
							<p>
						</p>
						<p>
							Where does the <code class="prettyprint lang-java">else</code> branch belong to? This question can be answered by a quick look into the language
							specification which tells that the <code class="prettyprint lang-java">else</code> branch is part of the inner condition. However, the parser
							generator cannot be convinced that easy. We have to guide it to this decision point by means of syntactic
							predicates which are expressed by a leading <code class="prettyprint lang-xtend">=&gt;</code> operator.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Condition: 
  'if' '(' condition=BooleanExpression ')' 
    then=Expression 
    (=&gt;'else' else=Expression)?</pre>
							<p>
						</p>
						<p>
							The parser understands the predicate basically like this: If you are at this particular decision point
							and you don't know what to do, look for the <code class="prettyprint lang-java">else</code> keyword and if it's present. Don't try to
							choose the other option that would start with an <code class="prettyprint lang-java">else</code> keyword, too.
						</p>
						<p>
							Well chosen predicates allow to solve most ambiguities and backtracking can often be disabled.
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="metamodelInference" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Ecore Model Inference</h2>
						<p>
							The Ecore model (or meta model) of a textual language describes the structure of its abstract syntax trees (AST).
						</p>
						<p>
							Xtext uses Ecore's <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html">EPackages</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> to define Ecore models. Ecore models are declared to be either inferred (generated) 
							from the grammar or imported. 
							By using the <code class="prettyprint lang-xtext">generate</code> directive, one tells Xtext to derive an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> from the grammar.
						</p>
						<!-- subsection -->
						<section id="_40" style="padding-top: 68px; margin-top: -68px;">
						<h3>Type and Package Generation</h3>
						<p>
							Xtext creates
						</p>
						<p>
							</p>
							<ul>
								<li>an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> <ul>
									<li>for each generate-package declaration. After the directive <code class="prettyprint lang-xtext">generate</code> a list of parameters follows. The <strong>name</strong> of the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> 
									  will be set to the first parameter, its <strong>nsURI</strong> to the second parameter. An optional alias as the third parameter allows 
									  to distinguish generated <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html">EPackages</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> later. Only one generated package declaration 
									  per alias is allowed.</li>
								</ul></li>
								<li>an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a> <ul>
									<li>for each return type of a parser rule. If a parser rule does not define a return type, an implicit one with the same 
									  name as the rule itself is assumed. You can specify more than one rule that return the same type but only one <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a> 
									  will be generated.</li>
									<li>for each type defined in an action or a cross-reference.</li>
								</ul></li>
								<li>an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EEnum.html"><abbr title="org.eclipse.emf.ecore.EEnum">EEnum</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EEnum.java">(src)</a> <ul>
									<li>for each return type of an enum rule.</li>
								</ul></li>
								<li>an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EDataType.html"><abbr title="org.eclipse.emf.ecore.EDataType">EDataType</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EDataType.java">(src)</a> <ul>
									<li>for each return type of a terminal rule or a data type rule.</li>
								</ul></li>
							</ul>
							<p>
						</p>
						<p>
							All <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html">EClasses</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a>, <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EEnum.html">EEnums</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EEnum.java">(src)</a>, and 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EDataType.html">EDataTypes</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EDataType.java">(src)</a> are added to the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> referred to 
							by the alias provided in the type reference they were created from.
						</p>
						</section>
						<!-- subsection -->
						<section id="_41" style="padding-top: 68px; margin-top: -68px;">
						<h3>Feature and Type Hierarchy Generation</h3>
						<p>
							While walking through the grammar, the algorithm keeps track of a set of the currently possible return types to add features to. 
							</p>
							<ul>
								<li>Entering a parser rule the set contains only the return type of the rule.</li>
								<li>Entering an element of an alternative the set is reset to the same state it was in when entering the first option of 
								the alternative.</li>
								<li>Leaving an alternative the set contains the union of all types at the end of each of its paths.</li>
								<li>After an optional element, the set is reset to the same state it was before entering it.</li>
								<li>After a mandatory (non-optional) rule call or mandatory action the set contains only the return type of the called 
								rule or action.</li>
								<li>An optional rule call does not modify the set.</li>
								<li>A rule call is optional, if its cardinality is <code class="prettyprint lang-xtend">?</code> or <code class="prettyprint lang-xtend">*</code>.</li>
							</ul>
							<p>
						</p>
						<p>
							While iterating the parser rules Xtext creates
							</p>
							<ul>
								<li>an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EAttribute.html"><abbr title="org.eclipse.emf.ecore.EAttribute">EAttribute</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EAttribute.java">(src)</a> in each current return type <ul>
									<li>of type <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Boolean.html">EBoolean</a> for each feature assignment using the <code class="prettyprint lang-xtend">?=</code> operator. 
									  No further <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html">EReferences</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a> or <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EAttribute.html">EAttributes</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EAttribute.java">(src)</a> will be generated from this assignment.</li>
									<li>for each assignment with the <code class="prettyprint lang-xtend">=</code> or <code class="prettyprint lang-xtend">+=</code> operator calling a terminal rule. Its type will be the return type of the called rule.</li>
								</ul></li>
								<li>an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html"><abbr title="org.eclipse.emf.ecore.EReference">EReference</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a> in each current return type <ul>
									<li>for each assignment with the <code class="prettyprint lang-xtend">=</code> or <code class="prettyprint lang-xtend">+=</code> operator in a parser rule calling a parser rule. 
									  The <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html">EReference's</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a> type will be the return type of the called parser rule.</li>
									<li>for each assigned action. The reference's type will be set to the return type of the current calling rule.</li>
								</ul></li>
							</ul>
							<p>
						</p>
						<p>
							Each <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EAttribute.html"><abbr title="org.eclipse.emf.ecore.EAttribute">EAttribute</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EAttribute.java">(src)</a> or <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html"><abbr title="org.eclipse.emf.ecore.EReference">EReference</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a> takes its name from the assignment 
							or action that caused it. Multiplicities will be <strong>0..1</strong> for assignments with the <code class="prettyprint lang-xtend">=</code> operator and <code class="prettyprint lang-xtend">0..*</code> for assignments 
							with the <code class="prettyprint lang-xtend">+=</code> operator.
						</p>
						<p>
							Furthermore, each type that is added to the currently possible return types automatically extends the current return type 
							of the parser rule. You can specify additional common super types by means of "artificial" parser rules, that are never called, e.g.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
CommonSuperType:
  SubTypeA | SubTypeB | SubTypeC;</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_42" style="padding-top: 68px; margin-top: -68px;">
						<h3>Enum Literal Generation</h3>
						<p>
							For each alternative defined in an enum rule, the transformer creates an enum literal, as long as no other literal with the same 
							name can be found. The <strong>literal</strong> property of the generated enum literal is set to the right hand side of the declaration. If 
							it is omitted, an enum literal with equal <strong>name</strong> and <strong>literal</strong> attributes is inferred.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
enum MyGeneratedEnum:
  NAME = 'literal' | EQUAL_NAME_AND_LITERAL;</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_43" style="padding-top: 68px; margin-top: -68px;">
						<h3>Feature Normalization</h3>
						<p>
							In the next step the generator examines all generated <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html">EClasses</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a> and lifts up similar features to super types
							 if there is more than one subtype and the feature is defined in every subtypes. This does even work for multiple super types.
						</p>
						</section>
						<!-- subsection -->
						<section id="_44" style="padding-top: 68px; margin-top: -68px;">
						<h3>Error Conditions</h3>
						<p>
							The following conditions cause an error
							</p>
							<ul>
								<li>An <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EAttribute.html"><abbr title="org.eclipse.emf.ecore.EAttribute">EAttribute</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EAttribute.java">(src)</a> or <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html"><abbr title="org.eclipse.emf.ecore.EReference">EReference</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a> has two different types or different cardinality.</li>
								<li>There is an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EAttribute.html"><abbr title="org.eclipse.emf.ecore.EAttribute">EAttribute</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EAttribute.java">(src)</a> and an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html"><abbr title="org.eclipse.emf.ecore.EReference">EReference</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a> with the same name in the same <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a>.</li>
								<li>There is a cycle in the type hierarchy.</li>
								<li>An new <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EAttribute.html"><abbr title="org.eclipse.emf.ecore.EAttribute">EAttribute</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EAttribute.java">(src)</a>, <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html"><abbr title="org.eclipse.emf.ecore.EReference">EReference</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a> or super type is added to an imported type.</li>
								<li>An <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a> is added to an imported <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a>.</li>
								<li>An undeclared alias is used.</li>
								<li>An imported Ecore model cannot be loaded.</li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="grammarMixins" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Grammar Mixins</h2>
						<p>
							Xtext supports the reuse of existing grammars. Grammars that are created via the Xtext wizard use 
							<code class="prettyprint lang-xtext">org.eclipse.xtext.common.Terminals</code>
							by default which introduces a common set of terminal rules and defines reasonable defaults for hidden terminals.
						</p>
						<p>
							To reuse an existing grammar, make sure the grammar file is on the class path of the inheriting language.
							If it is in a different plug-in, make sure to add a plug-in dependency in the <code class="prettyprint lang-xtend">MANIFEST.MF</code>.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.xtext.example.SecretCompartments 
   with org.eclipse.xtext.common.Terminals

generate secrets "http://www.eclipse.org/secretcompartment"
 
Statemachine: ..</pre>
							<p>
						</p>
						<p>
							Mixing another grammar into a language makes the rules defined in that grammar referable. It is also possible to overwrite rules from the used grammar.
						</p>
						<p>
							Example :
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar my.SuperGrammar

generate super "http://my.org/super"

...
RuleA : "a" stuff=RuleB;
RuleB : "{" name=ID "}";

grammar my.SubGrammar with my.SuperGrammar

import "http://my.org/super"

 ...

Model : (ruleAs+=RuleA)*;

// overrides my.SuperGrammar.RuleB
RuleB : '[' name=ID ']';</pre>
							<p>
						</p>
						<p>
							<strong>Note that declared terminal rules always get a higher priority then imported terminal rules.</strong>
						</p>
						<p>
							In addition, you have to register the Ecore models used in your super grammar and their corresponding generator
							models to the MWE2 workflow of the inheriting language, e.g.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
Workflow {
    bean = StandaloneSetup {
        scanClassPath = true
        platformUri = "${runtimeProject}/.."
        ...
        // add the FQN of the generated EPackage
        registerGeneratedEPackage = "my.supergrammar.super.SuperPackage" 
        // add the platfrom resource URI of the corresponding Ecore genmodel
        registerGenModelFile = "platform:/resource/my/src-gen/my/supergrammar/super/Super.genmodel"
    }
//...</pre>
							<p>
						</p>
						<p>
							You might also want to read about <a href="#ePackageImport">EPackage imports</a> for the inheriting grammar.
						</p>
						</section>
						<!--  section -->
						<section id="_15" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Common Terminals</h2>
						<p>
							Xtext ships with a default set of predefined, reasonable and often required terminal rules. The grammar
							for these common terminal rules is defined as follows:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.eclipse.xtext.common.Terminals 
  hidden(WS, ML_COMMENT, SL_COMMENT)

import "http://www.eclipse.org/emf/2002/Ecore" as ecore

terminal ID : 
  '^'?('a'..'z'|'A'..'Z'|'_')('a'..'z'|'A'..'Z'|'_'|'0'..'9')*;
terminal INT returns ecore::EInt: 
  ('0'..'9')+;
terminal STRING  : 
  '"' ( '\\'('b'|'t'|'n'|'f'|'r'|'u'|'"'|"'"|'\\') | !('\\'|'"') )* '"' |
  "'" ( '\\'('b'|'t'|'n'|'f'|'r'|'u'|'"'|"'"|'\\') | !('\\'|"'") )* "'"; 
terminal ML_COMMENT  : 
  '/*' -&gt; '*/';
terminal SL_COMMENT : 
  '//' !('\n'|'\r')* ('\r'? '\n')?;

terminal WS  : 
  (' '|'\t'|'\r'|'\n')+;

terminal ANY_OTHER: 
  .;</pre>
							<p>
						</p>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="configuration" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							Configuration
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<!--  section -->
						<section id="generator" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">The Language Generator</h2>
						<p>
							Xtext provides a lot of generic implementations for your language's
							infrastructure but also uses code generation to generate some of the 
							components. Those generated components are for instance the parser, the 
							serializer, the inferred Ecore model (if any) and a couple of convenient base classes for 
							content assist, etc.
						</p>
						<p>
							The generator also contributes to shared project resources such as the 
							<strong>plugin.xml</strong>, <strong>MANIFEST.MF</strong> and the <a href="#guicemodules">Guice modules</a>.
						</p>
						<p>
							Xtext's generator uses a special DSL called <a href="#MWE2">MWE2 - the modeling workflow engine</a> to configure the generator.
						</p>
						<!-- subsection -->
						<section id="short_intro_to_mwe" style="padding-top: 68px; margin-top: -68px;">
						<h3>A Short Introduction to MWE2</h3>
						<p>
							MWE2 allows to compose object graphs declaratively in a very compact manner. The nice thing about it is that it just 
							instantiates Java classes and the configuration is done through public setter and adder methods as one is used to 
							from Java Beans encapsulation principles. An in-depth documentation can be found in the chapter <a href="#MWE2">MWE2</a>.
						</p>
						<p>
							Given the following simple Java class (POJO):
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
package com.mycompany;

public class Person {

  private String name;

  public void setName(String name) { 
    this.name = name;
  }

  private final List&lt;Person&gt; children = new ArrayList&lt;Person&gt;();

  public void addChild(Person child) {
    this.children.add(child);
  }
}</pre>
							<p>
						</p>
						<p>
							One can create a family tree with MWE2 easily by describing it in a declarative manner 
							without writing a single line of Java code and without the need to compile classes:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module com.mycompany.CreatePersons

Person {
  name = "Grandpa"
  child = {
    name = "Father"
    child = {
      name = "Son"
    }
  }
}</pre>
							<p>
						</p>
						<p>
							These couple of lines will, when interpreted by MWE2, result in an 
							object tree consisting of three instances of <strong>com.mycompany.Person</strong>.
							The interpreter will basically do the same as the following <strong>main</strong> method:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
package com.mycompany;

public class CreatePersons {
  public static void main(String[] args) {
    Person grandpa = new Person();
    grandpa.setName("Grandpa");
    Person father = new Person();
    father.setName("Father");
    grandpa.addChild(father);
    Person son = new Person();
    son.setName("Son");
    father.addChild(son);
  }
}</pre>
							<p>
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/family_tree.png" alt="" width="316" height="101">
							</div>
							<p>
						</p>
						<p>
							And this is how it works:
							The root element is a plain Java class name. As the module is a sibling to the class
							<strong>com.mycompany.Person</strong> it is not necessary to use use fully qualified name. There are other packages implicitly imported
							into this workflow as well to make it convenient to instantiate actual workflows and components, but these ones are covered 
							in depth in the appropriate <a href="#MWE2">chapter</a>. The constructed objects are furthermore configured according to the declaration 
							in the module, e.g. a second instance of Person will be created and added to the list of children of "Grandpa" while the third 
							person - the class is inferred from the assigned feature - becomes a child of "Father". All three instances will have 
							their respective <strong>name</strong> assigned via a reflective invocation of the <strong>setName</strong> method. If one wants to add another child to "Father", she
							can simply repeat the child assignment:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
child = com.mycompany.Person {
  name = "Father"
  child = {
    name = "Son"
  }
  child = {
    name = "Daughter"
  }
}</pre>
							<p>
						</p>
						<p>
							As you can see in the example above MWE2 can be used to instantiate arbitrary Java object models without any dependency or
							limitation to MWE2 specific implementations.
						</p>
						<p>
							<strong>Tip</strong>
							<strong>Whenever you are in an *.mwe2 file and wonder what kind of configuration the underlying component may accept:</strong>
							<strong>Just use the Content Assist in the MWE2 Editor or navigate directly to the declaration of the underlying Java</strong> 
							<strong>implementation by means of F3 (Go To Declaration).</strong>
						</p>
						<p>
							This is the basic idea of the MWE2 language. There are of course a couple of additional concepts and features in the 
							language and we also have not yet talked about the runtime workflow model. Please refer to the dedicated MWE2 
							<a href="#MWE2">reference documentation</a> for additional information.
							We will now have a look at the component model used to configure the Language Generator.
						</p>
						</section>
						<!-- subsection -->
						<section id="_45" style="padding-top: 68px; margin-top: -68px;">
						<h3>General Architecture</h3>
						<p>
							A language generator is composed of so called language configurations. 
							For each language configuration a URI pointing to its grammar file and the file extensions for the DSL must be provided. 
							In addition, a language is configured with a list of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/IGeneratorFragment.html">generator
							fragments</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/IGeneratorFragment.java">(src)</a>.
							The whole generator is composed of theses fragments. We have fragments for generating parsers, the serializer, the EMF code, 
							the outline view, etc.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/generator-structure.png" alt="" width="537" height="397">
							</div>
							<p>
						</p>
						<!-- subsection -->
						<section id="generator_fragment" style="padding-top: 68px; margin-top: -68px;">
						<h4>Generator Fragments</h4>
						<p>
							The list of grammar fragments forms a chain of responsibility, that is they each get the chance to contribute
							to the generation of language infrastructure components and are called in the declared order.
							Each fragment gets the grammar of the language as an EMF model passed in and is able to generate code in one 
							of the configured locations and contribute to several shared artifacts. A generator fragment must implement
							the interface <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/IGeneratorFragment.html"><abbr title="org.eclipse.xtext.generator.IGeneratorFragment">IGeneratorFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/IGeneratorFragment.java">(src)</a>.
						</p>
						<p>
							There is usually no need to write your own generator fragments and only rarely you might want to extend an
							existing one.
						</p>
						</section>
						<!-- subsection -->
						<section id="_46" style="padding-top: 68px; margin-top: -68px;">
						<h4>Configuration</h4>
						<p>
							As already explained we use MWE2 from EMFT in order to instantiate, configure and execute this structure of components. 
							In the following we see an exemplary language generator configuration written in MWE2 configuration code:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module org.xtext.example.MyDsl

import org.eclipse.emf.mwe.utils.*
import org.eclipse.xtext.generator.*
import org.eclipse.xtext.ui.generator.*

var grammarURI = "classpath:/org/xtext/example/MyDsl.xtext"
var file.extensions = "mydsl"
var projectName = "org.xtext.example.mydsl"
var runtimeProject = "../${projectName}"

Workflow {
  bean = StandaloneSetup {
    platformUri = "${runtimeProject}/.."
  }

  component = DirectoryCleaner {
    directory = "${runtimeProject}/src-gen"
  }

  component = DirectoryCleaner {
    directory = "${runtimeProject}.ui/src-gen"
  }

  component = Generator {
    pathRtProject = runtimeProject
    pathUiProject = "${runtimeProject}.ui"
    projectNameRt = projectName
    projectNameUi = "${projectName}.ui"

    language = {
      uri = grammarURI
      fileExtensions = file.extensions

      // Java API to access grammar elements
      fragment = grammarAccess.GrammarAccessFragment {}

      /* more fragments to configure the language */
      ...
    }
  }
}</pre>
							<p>
						</p>
						<p>
							Here the root element is <a href="http://download.eclipse.org/modeling/emft/mwe/javadoc/2.3/org/eclipse/emf/mwe2/runtime/workflow/Workflow.html"><abbr title="org.eclipse.emf.mwe2.runtime.workflow.Workflow">Workflow</abbr></a> <a href="https://github.com/eclipse/mwe/blob/v2.3.0/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/workflow/Workflow.java">(src)</a> and is part of the very slim runtime 
							model shipped with MWE2. It accepts 
							<code class="prettyprint lang-java">bean</code>s and <code class="prettyprint lang-java">component</code>s. A <code class="prettyprint lang-mwe2">var</code> declaration is a first class concept of MWE2's configuration language 
							and defines a variable which can be reset from outside, i.e. when calling the module. It allows to externalize some common configuration parameters. 
							Note that you can refer to the variables using the <code class="prettyprint lang-mwe2">${variable-name}</code> notation.
						</p>
						<p>
							The method <a href="http://download.eclipse.org/modeling/emft/mwe/javadoc/2.3/org/eclipse/emf/mwe2/runtime/workflow/Workflow.html">Workflow.addBean(Object)</a> <a href="https://github.com/eclipse/mwe/blob/v2.3.0/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/workflow/Workflow.java">(src)</a> does nothing but provides a means to apply global side-effects, which 
							unfortunately is required sometimes. In this example we do a so called <strong>EMF stand-alone setup</strong>. This class 
							initializes a bunch of things for a non-OSGi environment that are otherwise configured by means of extension points, 
							e.g. it allows to populate EMF's singletons like the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.Registry.html"><abbr title="org.eclipse.emf.ecore.EPackage$Registry">Registry</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a>.
						</p>
						<p>
							Following the <code class="prettyprint lang-java">bean</code> assignment there are three <code class="prettyprint lang-java">component</code> elements. The <a href="http://download.eclipse.org/modeling/emft/mwe/javadoc/2.3/org/eclipse/emf/mwe2/runtime/workflow/Workflow.html">Workflow.addComponent()</a> <a href="https://github.com/eclipse/mwe/blob/v2.3.0/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/workflow/Workflow.java">(src)</a> method 
							accepts instances of <a href="http://download.eclipse.org/modeling/emft/mwe/javadoc/2.3/org/eclipse/emf/mwe2/runtime/workflow/IWorkflowComponent.html"><abbr title="org.eclipse.emf.mwe2.runtime.workflow.IWorkflowComponent">IWorkflowComponent</abbr></a> <a href="https://github.com/eclipse/mwe/blob/v2.3.0/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/workflow/IWorkflowComponent.java">(src)</a>, which is the primary concept of MWE2's workflow model. The
							language generator component itself is an instance of <a href="http://download.eclipse.org/modeling/emft/mwe/javadoc/2.3/org/eclipse/emf/mwe2/runtime/workflow/IWorkflowComponent.html"><abbr title="org.eclipse.emf.mwe2.runtime.workflow.IWorkflowComponent">IWorkflowComponent</abbr></a> <a href="https://github.com/eclipse/mwe/blob/v2.3.0/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/workflow/IWorkflowComponent.java">(src)</a> and can therefore be used within MWE2 workflows.
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="_47" style="padding-top: 68px; margin-top: -68px;">
						<h3>Standard Generator Fragments</h3>
						<p>
							In the following table the most important standard generator fragments are listed. Please refer to the Javadocs for more detailed documentation.
							Also have a look at what the Xtext wizard provides and how the workflow configuration in the various
							example languages look like.
						</p>
						<p>
							</p>
							<table class="table table-bordered table-condensed">
							<tr><td><strong>Class</strong></td>
							<td><strong>Generated Artifacts</strong></td>
							<td><strong>Related Documentation</strong></td>
							</tr>
							<tr><td><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/ecore/EcoreGeneratorFragment.html"><abbr title="org.eclipse.xtext.generator.ecore.EcoreGeneratorFragment">EcoreGeneratorFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/ecore/EcoreGeneratorFragment.java">(src)</a></td>
							<td>EMF code for generated models</td>
							<td><a href="#metamodelInference">Model inference</a></td>
							</tr>
							<tr><td><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/parser/antlr/XtextAntlrGeneratorFragment.html"><abbr title="org.eclipse.xtext.generator.parser.antlr.XtextAntlrGeneratorFragment">XtextAntlrGeneratorFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/parser/antlr/XtextAntlrGeneratorFragment.java">(src)</a></td>
							<td>ANTLR grammar, parser, lexer and related services</td>
							<td></td>
							</tr>
							<tr><td><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/grammarAccess/GrammarAccessFragment.html"><abbr title="org.eclipse.xtext.generator.grammarAccess.GrammarAccessFragment">GrammarAccessFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/grammarAccess/GrammarAccessFragment.java">(src)</a></td>
							<td>Access to the grammar</td>
							<td></td>
							</tr>
							<tr><td><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/resourceFactory/ResourceFactoryFragment.html"><abbr title="org.eclipse.xtext.generator.resourceFactory.ResourceFactoryFragment">ResourceFactoryFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/resourceFactory/ResourceFactoryFragment.java">(src)</a></td>
							<td>EMF resource factory</td>
							<td><a href="#xtext_resource">Xtext Resource</a></td>
							</tr>
							<tr><td><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/parseTreeConstructor/ParseTreeConstructorFragment.html"><abbr title="org.eclipse.xtext.generator.parseTreeConstructor.ParseTreeConstructorFragment">ParseTreeConstructorFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/parseTreeConstructor/ParseTreeConstructorFragment.java">(src)</a></td>
							<td>Model-to-text serialization</td>
							<td><a href="#serialization">Serialization</a></td>
							</tr>
							<tr><td><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/scoping/ImportNamespacesScopingFragment.html"><abbr title="org.eclipse.xtext.generator.scoping.ImportNamespacesScopingFragment">ImportNamespacesScopingFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/scoping/ImportNamespacesScopingFragment.java">(src)</a></td>
							<td>Index-based scoping</td>
							<td><a href="#index_based">Index-based namespace scoping</a></td>
							</tr>
							<tr><td><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/validation/JavaValidatorFragment.html"><abbr title="org.eclipse.xtext.generator.validation.JavaValidatorFragment">JavaValidatorFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/validation/JavaValidatorFragment.java">(src)</a></td>
							<td>Model validation</td>
							<td><a href="#custom_validation">Model validation</a></td>
							</tr>
							<tr><td><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/formatting/FormatterFragment.html"><abbr title="org.eclipse.xtext.generator.formatting.FormatterFragment">FormatterFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/formatting/FormatterFragment.java">(src)</a></td>
							<td>Code formatter</td>
							<td><a href="#formatting">Code formatter</a></td>
							</tr>
							<tr><td><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/generator/labeling/LabelProviderFragment.html"><abbr title="org.eclipse.xtext.ui.generator.labeling.LabelProviderFragment">LabelProviderFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/ui/generator/labeling/LabelProviderFragment.java">(src)</a></td>
							<td>Label provider</td>
							<td><a href="#labelProvider">Label provider</a></td>
							</tr>
							<tr><td><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/generator/outline/OutlineTreeProviderFragment.html"><abbr title="org.eclipse.xtext.ui.generator.outline.OutlineTreeProviderFragment">OutlineTreeProviderFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/ui/generator/outline/OutlineTreeProviderFragment.java">(src)</a></td>
							<td>Outline view configuration</td>
							<td><a href="#outline">Outline</a></td>
							</tr>
							<tr><td><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/generator/contentAssist/JavaBasedContentAssistFragment.html"><abbr title="org.eclipse.xtext.ui.generator.contentAssist.JavaBasedContentAssistFragment">JavaBasedContentAssistFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/ui/generator/contentAssist/JavaBasedContentAssistFragment.java">(src)</a></td>
							<td>Java-based content assist</td>
							<td><a href="#contentAssist">Content assist</a></td>
							</tr>
							<tr><td><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/parser/antlr/XtextAntlrUiGeneratorFragment.html"><abbr title="org.eclipse.xtext.generator.parser.antlr.XtextAntlrUiGeneratorFragment">XtextAntlrUiGeneratorFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/parser/antlr/XtextAntlrUiGeneratorFragment.java">(src)</a></td>
							<td>Content assist helper based on ANTLR</td>
							<td><a href="#contentAssist">Content assist</a></td>
							</tr>
							</table>
							<p>
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="dependencyInjection" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Dependency Injection in Xtext with Google Guice</h2>
						<p>
							All Xtext components are assembled by means of Dependency Injection (DI). This means basically that
							whenever some code is in need for functionality (or state) from another component, one just declares
							the dependency rather then stating how to resolve it, i.e. obtaining that component.
						</p>
						<p>
							For instance when some code wants to use a scope provider, it just declares a field (or method or 
							constructor) and adds the <a href="http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/Inject.html"><abbr title="com.google.inject.Inject">@Inject</abbr></a> annotation:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class MyLanguageLinker extends Linker {

  @Inject
  private IScopeProvider scopeProvider;

}</pre>
							<p>
						</p>
						<p>
							It is not the duty of the client code to care about where the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IScopeProvider">IScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">(src)</a> 
							comes from or how it is created. When above's class is instantiated, Guice sees that it requires an instance of 
							IScopeProvider and assigns it to the specified field or method parameter. This of course only works,
							if the object itself is created by Guice. In Xtext almost every instance is created that way 
							and therefore the whole dependency net is controlled and configured by the means of Google Guice.
						</p>
						<p>
							Guice of course needs to know how to instantiate real objects for declared dependencies. This is done 
							in so called <a href="http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/Module.html">Modules</a>. A <a href="http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/Module.html"><abbr title="com.google.inject.Module">Module</abbr></a> defines a set of 
							mappings from types to either existing instances, instance providers or concrete classes. Modules are
							implemented in Java. Here's an example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class MyDslRuntimeModule 
  extends AbstractMyDslRuntimeModule {
  
  @Override
  public void configure(Binder binder) {
    super.configure(binder);
    binder
      .bind(IScopeProvider.class)
      .to(MyConcreteScopeProvider.class);
  }
}</pre>
							<p>
						</p>
						<p>
							With plain Guice modules one implements a method called configure and gets a <a href="http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/Binder.html"><abbr title="com.google.inject.Binder">Binder</abbr></a> 
							passed in. That binder provides a fluent API to define the mentioned mappings. This was just a very 
							brief and simplified description. We highly recommend to have a look at 
							<a href="http://code.google.com/p/google-guice/">the website Google Guice</a> to learn more.
						</p>
						<!-- subsection -->
						<section id="guicemodules" style="padding-top: 68px; margin-top: -68px;">
						<h3>The Module API</h3>
						<p>
							Xtext comes with a slightly enhanced module API. For your language you get two different modules: One 
							for the runtime bundle which is used when executing your language infrastructure outside of Eclipse such 
							as on the build server. The other is located in the UI bundle and adds or overrides bindings when Xtext 
							is used within an Eclipse environment.
						</p>
						<p>
							The enhancement we added to Guice's Module API is that we provide an abstract base class, which 
							reflectively looks for certain methods in order to find declared bindings. The most common kind of 
							method is :
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public Class&lt;? extends IScopeProvider&gt; bindIScopeProvider() {
  return MyConcreteScopeProvider.class;
}</pre>
							<p>
						</p>
						<p>
							which would do the same as the code snippet above. It simply declares a binding from 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IScopeProvider">IScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">(src)</a> to <strong>MyConcreteScopeProvider</strong>. That binding will make 
							Guice instantiate and inject a new instance of <strong>MyConcreteScopeProvider</strong> whenever a dependency to 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IScopeProvider">IScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">(src)</a> is declared.
						</p>
						<p>
							Having a method per binding allows to deactivate individual bindings by overriding the corresponding 
							methods and either change the binding by returning a different target type or removing that binding 
							completely by returning null.
						</p>
						<p>
							There are two additional kinds of binding-methods supported. The first one allows to configure a provider. 
							A <a href="http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/Provider.html"><abbr title="com.google.inject.Provider">Provider</abbr></a> is an interface with just one method :
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public interface Provider&lt;T&gt; {

  /**
   * Provides an instance of {@code T}. Must never return {@code null}.
   */
  T get();
}</pre>
							<p>
						</p>
						<p>
							This one can be used if you need a hook whenever an instance of a certain type is created. For instance 
							if you want to provide lazy access to a singleton or you need to do some computation each time an instance 
							is created (i.e. factory). If you want to point to a provider rather than to a concrete class you can use
							the following binding method.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public Class&lt;? extends Provider&lt;IScopeProvider&gt;&gt; 
  provideIScopeProvider() {
    return MyConcreteScopeProviderFactory.class;
}</pre>
							<p>
						</p>
						<p>
							Note: Please forgive us the overuse of the term <strong>provider</strong>. The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IScopeProvider">IScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">(src)</a> 
							is not a Guice <a href="http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/Provider.html"><abbr title="com.google.inject.Provider">Provider</abbr></a>.
						</p>
						<p>
							That binding tells Guice to instantiate <strong>MyConcreteScopeProviderFactory</strong> and invoke get() in order to 
							obtain an instance of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IScopeProvider">IScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">(src)</a> for clients having declared a dependency
							to that type. Both mentioned methods are allowed to return an instance instead of a type. This may be useful 
							if some global state should be shared in the application:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public Provider&lt;IScopeProvider&gt; provideIScopeProvider() {
  return new MyConcreteScopeProviderFactory();
}</pre>
							<p>
						</p>
						<p>
							or
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public IScopeProvider bindIScopeProvider() {
  return new MyConcreteScopeProvider();
}</pre>
							<p>
						</p>
						<p>
							respectively.
						</p>
						<p>
							The last binding method provided by Xtext allows to do anything you can do with Guice's binding API, since
							it allows you to use the <a href="http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/Binder.html"><abbr title="com.google.inject.Binder">Binder</abbr></a> directly. If your method's name starts with the
							name 'configure', has a return type <code class="prettyprint lang-java">void</code> and accepts one argument of type <a href="http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/Binder.html"><abbr title="com.google.inject.Binder">Binder</abbr></a>:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public void configureIScopeProvider(Binder binder) {
  binder.bind(IScopeProvider.class).to(MyConcreteScopeProvider.class);
}</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_48" style="padding-top: 68px; margin-top: -68px;">
						<h3>Obtaining an Injector</h3>
						<p>
							In every application wired up with Guice there is usually one point where you initialize an 
							<a href="http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/Injector.html"><abbr title="com.google.inject.Injector">Injector</abbr></a> using the modules declared. That injector is used to create the root 
							instance of the whole application. In plain Java environments this is something that's done in the main 
							method. It could look like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public static void main(String[] args) {
  Injector injector = Guice.createInjector(
    new MyDslRuntimeModule());
  MyApplication application = injector.getInstance(
    MyApplication.class);
  application.run();
}</pre>
							<p>
						</p>
						<p>
							In Xtext, you should never instantiate the injector of your language yourself. The sections
							<a href="#runtimeSetup">Runtime Setup</a> and <a href="#equinoxSetup">Equinox Setup</a> explain how to access it in 
							different scenarios.
						</p>
						<p>
							These are the basic ideas around Guice and the small extension Xtext provides on top. For more information we 
							strongly encourage you to read through the documentation on 
							<a href="http://code.google.com/p/google-guice/">the website of Google Guice</a>.
						</p>
						</section>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="runtime_concepts" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							Runtime Concepts
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							Xtext itself and every language infrastructure developed with Xtext is configured and wired-up using 
							<a href="#dependencyInjection">dependency injection</a>. Xtext may be used in different environments which introduce 
							different constraints. Especially important is the difference between OSGi managed containers and plain 
							vanilla Java programs. To honor these differences Xtext uses the concept of 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ISetup.html"><abbr title="org.eclipse.xtext.ISetup">ISetup</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/ISetup.java">(src)</a>-implementations in normal mode and uses Eclipse's 
							extension mechanism when it should be configured in an OSGi environment.
						</p>
						<!--  section -->
						<section id="runtimeSetup" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Runtime Setup (ISetup)</h2>
						<p>
							For each language there is an implementation of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ISetup.html"><abbr title="org.eclipse.xtext.ISetup">ISetup</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/ISetup.java">(src)</a> 
							generated. It implements a method called <code class="prettyprint lang-java">createInjectorAndDoEMFRegistration()</code>, which can be called 
							to do the initialization of the language infrastructure.
						</p>
						<p>
							<strong>Caveat</strong>: The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ISetup.html"><abbr title="org.eclipse.xtext.ISetup">ISetup</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/ISetup.java">(src)</a> class is intended to be used for runtime and for unit 
							testing, only. if you use it in a Equinox scenario, you will very likely break the running application 
							because entries to the global registries will be overwritten.
						</p>
						<p>
							The setup method returns an <a href="http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/Injector.html"><abbr title="com.google.inject.Injector">Injector</abbr></a>, which can further be used to obtain a 
							parser, etc. It also registers the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/resource/Resource.Factory.html"><abbr title="org.eclipse.emf.ecore.resource.Resource$Factory">Factory</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/Resource.java">(src)</a> and generated 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html">EPackages</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> to the respective global registries provided 
							by EMF. So basically after having run the setup and you can start using EMF API to load and store models
							of your language.
						</p>
						</section>
						<!--  section -->
						<section id="equinoxSetup" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Setup within Eclipse-Equinox (OSGi)</h2>
						<p>
							Within Eclipse we have a generated <strong>Activator</strong>, which creates a Guice <a href="http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/Injector.html"><abbr title="com.google.inject.Injector">Injector</abbr></a>
							using the <a href="#guicemodules">modules</a>. In addition an <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/runtime/IExecutableExtensionFactory.html"><abbr title="org.eclipse.core.runtime.IExecutableExtensionFactory">IExecutableExtensionFactory</abbr></a> 
							is generated for each language, which is used to create <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/runtime/IExecutableExtension.html">IExecutableExtensions</a>.
							This means that everything which is created via extension points is managed by Guice as well, i.e. you can 
							declare dependencies and get them injected upon creation.
						</p>
						<p>
							The only thing you have to do in order to use this factory is to prefix the class with the factory 
							<strong>MyDslExecutableExtensionFactory</strong> name followed by a colon.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xml linenums">
&lt;extension point="org.eclipse.ui.editors"&gt;
  &lt;editor
    class="&lt;MyDsl&gt;ExecutableExtensionFactory:
      org.eclipse.xtext.ui.editor.XtextEditor"
    contributorClass=
      "org.eclipse.ui.editors.text.TextEditorActionContributor"
    default="true"
    extensions="mydsl"
    id="org.eclipse.xtext.example.MyDsl"
    name="MyDsl Editor"&gt;
  &lt;/editor&gt;
&lt;/extension&gt;</pre>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_16" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Logging</h2>
						<p>
							Xtext uses Apache's log4j for logging. It is configured using files named <strong>log4j.properties</strong>, which are looked up 
							in the root of the Java class path. If you want to change or provide configuration at runtime (i.e. non-OSGi), all 
							you have to do is putting such a <strong>log4j.properties</strong> in place and make sure that it is not overridden by other 
							<strong>log4j.properties</strong> in previous class path entries.
						</p>
						<p>
							In OSGi you provide configuration by creating a fragment for <strong>org.apache.log4j</strong>. In this case you need to make 
							sure that there is not any second fragment contributing a <strong>log4j.properties</strong> file.
						</p>
						</section>
						<!--  section -->
						<section id="validation" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Validation</h2>
						<p>
							Static analysis or validation is one of the most interesting aspects when developing a programming
							language. The users of your languages will be grateful if they get informative feedback as they type. 
							In Xtext there are basically three different kinds of validation.
						</p>
						<!-- subsection -->
						<section id="_49" style="padding-top: 68px; margin-top: -68px;">
						<h3>Automatic Validation</h3>
						<p>
							Some implementation aspects (e.g. the grammar, scoping) of a language have an impact on what is required 
							for a document or semantic model to be valid. Xtext automatically takes care of this.
						</p>
						<!-- subsection -->
						<section id="syntactical_validation" style="padding-top: 68px; margin-top: -68px;">
						<h4>Lexer/Parser: Syntactical Validation</h4>
						<p>
							The syntactical correctness of any textual input is validated automatically by the parser. The error 
							messages are generated by the underlying parser technology. One can use the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parser/antlr/ISyntaxErrorMessageProvider.html"><abbr title="org.eclipse.xtext.parser.antlr.ISyntaxErrorMessageProvider">ISyntaxErrorMessageProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parser/antlr/ISyntaxErrorMessageProvider.java">(src)</a>-API to customize this messages.
							Any syntax errors can be retrieved from the Resource using the common EMF API:
						</p>
						<p>
							</p>
							<ul>
								<li><a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/resource/Resource.html"><code class="prettyprint lang-xtend">Resource.getErrors()</code></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/Resource.java">(src)</a></li>
								<li><a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/resource/Resource.html"><code class="prettyprint lang-xtend">Resource.getWarnings()</code></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/Resource.java">(src)</a></li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="linking_validation" style="padding-top: 68px; margin-top: -68px;">
						<h4>Linker: Cross-link Validation</h4>
						<p>
							Any broken cross-links can be checked generically. As cross-link resolution is done lazily 
							(see <a href="#linking">linking</a>), any broken links are resolved lazily as well. If you want to validate whether 
							all links are valid, you will have to navigate through the model so that all installed EMF proxies 
							get resolved. This is done automatically in the editor.
						</p>
						<p>
							Similar to syntax errors, any unresolvable cross-links will be reported and can be obtained through:
						</p>
						<p>
							</p>
							<ul>
								<li><a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/resource/Resource.html"><code class="prettyprint lang-xtend">Resource.getErrors()</code></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/Resource.java">(src)</a></li>
								<li><a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/resource/Resource.html"><code class="prettyprint lang-xtend">Resource.getWarnings()</code></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/Resource.java">(src)</a></li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="concrete_syntax_validation" style="padding-top: 68px; margin-top: -68px;">
						<h4>Serializer: Concrete Syntax Validation</h4>
						<p>
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/IConcreteSyntaxValidator.html"><abbr title="org.eclipse.xtext.validation.IConcreteSyntaxValidator">IConcreteSyntaxValidator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/IConcreteSyntaxValidator.java">(src)</a> validates all constraints that are 
							implied by a grammar. Meeting these constraints for a model is mandatory to be serialized.
						</p>
						<p>
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
MyRule:
  ({MySubRule} "sub")? (strVal+=ID intVal+=INT)*;</pre>
							<p>
						</p>
						<p>
							This implies several constraints:
							</p>
							<ol>
								<li>Types: only instances of <strong>MyRule</strong> and <strong>MySubRule</strong> are allowed for this rule. Subtypes are 
								    prohibited, since the parser never instantiates unknown subtypes.</li>
								<li>Features: In case the <strong>MyRule</strong> and <strong>MySubRule</strong> have <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EStructuralFeature.html">EStructuralFeatures</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EStructuralFeature.java">(src)</a> 
								    besides <strong>strVal</strong> and <strong>intVal</strong>, only <strong>strVal</strong> and <strong>intVal</strong> may have 
								<a href="#transientvalues">non-transient values</a>.</li>
								<li>Quantities: The following condition must be true: <code class="prettyprint lang-java">strVal.size() == intVal.size()</code>.</li>
								<li>Values: It must be possible to <a href="#valueconverter">convert all values</a> to valid tokens for 
								    terminal rule <strong>STRING</strong>.  The same is true for <strong>intVal</strong> and <strong>INT</strong>.</li>
							</ol>
							<p>
						</p>
						<p>
							The typical use case for the concrete syntax validator is validation in non-Xtext-editors that, 
							however, use an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/XtextResource.html"><abbr title="org.eclipse.xtext.resource.XtextResource">XtextResource</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">(src)</a>. This is, for example, the case 
							when combining GMF and Xtext. Another use case is when the semantic model is modified "manually" 
							(not by the parser) and then serialized again. Since it is very difficult for the serializer to provide 
							<a href="#parsetreeconstructor">meaningful error messages</a>, the concrete syntax validator is executed by default
							before serialization. A textual Xtext editor itself is <strong>not</strong> a valid use case. Here, the parser ensures 
							that all syntactical constraints are met. Therefore, there is no value in additionally running the 
							concrete syntax validator.
						</p>
						<p>
							There are some limitations to the concrete syntax validator which result from the fact that it treats 
							the grammar as declarative, which is something the parser doesn't always do.
						</p>
						<p>
							</p>
							<ul>
								<li>Grammar rules containing assigned actions (e.g. <code class="prettyprint lang-xtext">{MyType.myFeature=current}</code> are ignored. 
								  Unassigned actions (e.g. <code class="prettyprint lang-xtext">{MyType}</code>), however, are supported.</li>
								<li>Grammar rules that delegate to one or more rules containing assigned actions via unassigned rule 
								  calls are ignored.</li>
								<li>Orders within list-features can not be validated. e.g. <code class="prettyprint lang-xtext">Rule: (foo+=R1 foo+=R2)*</code> implies 
								  that <strong>foo</strong> is expected to contain instances of <strong>R1</strong> and <strong>R2</strong> in an alternating order.</li>
							</ul>
							<p>
						</p>
						<p>
							To use concrete syntax validation you can let Guice inject an instance of 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/IConcreteSyntaxValidator.html"><abbr title="org.eclipse.xtext.validation.IConcreteSyntaxValidator">IConcreteSyntaxValidator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/IConcreteSyntaxValidator.java">(src)</a> and use it directly. 
							Furthermore, there is an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/impl/ConcreteSyntaxEValidator.html">adapter</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/impl/ConcreteSyntaxEValidator.java">(src)</a> which
							allows to use the concrete syntax validator as an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EValidator.html"><abbr title="org.eclipse.emf.ecore.EValidator">EValidator</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EValidator.java">(src)</a>. 
							You can, for example, enable it in your runtime module, by adding:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@SingletonBinding(eager = true)
public Class&lt;? extends ConcreteSyntaxEValidator&gt; 
      bindConcreteSyntaxEValidator() {
  return ConcreteSyntaxEValidator.class;
}</pre>
							<p>
						</p>
						<p>
							To customize error messages please see 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/IConcreteSyntaxDiagnosticProvider.html"><abbr title="org.eclipse.xtext.validation.IConcreteSyntaxDiagnosticProvider">IConcreteSyntaxDiagnosticProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/IConcreteSyntaxDiagnosticProvider.java">(src)</a> and subclass 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/impl/ConcreteSyntaxDiagnosticProvider.html"><abbr title="org.eclipse.xtext.validation.impl.ConcreteSyntaxDiagnosticProvider">ConcreteSyntaxDiagnosticProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/impl/ConcreteSyntaxDiagnosticProvider.java">(src)</a>.
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="custom_validation" style="padding-top: 68px; margin-top: -68px;">
						<h3>Custom Validation</h3>
						<p>
							In addition to the afore mentioned kinds of validation, which are more or less done automatically, 
							you can specify additional constraints specific for your Ecore model. We leverage existing 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EValidator.html">EMF API</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EValidator.java">(src)</a> and have put some convenience stuff on top. 
							Basically all you need to do is to make sure that an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EValidator.html"><abbr title="org.eclipse.emf.ecore.EValidator">EValidator</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EValidator.java">(src)</a> is 
							registered for your <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a>. The  
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EValidator.Registry.html"><abbr title="org.eclipse.emf.ecore.EValidator$Registry">Registry</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EValidator.java">(src)</a> can only be filled 
							programmatically. That means contrary to the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.Registry.html"><abbr title="org.eclipse.emf.ecore.EPackage$Registry">Registry</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> and the 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/resource/Resource.Factory.Registry.html"><abbr title="org.eclipse.emf.ecore.resource.Resource$Factory$Registry">Registry</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/Resource.java">(src)</a> there is no Equinox extension 
							point to populate the validator registry.
						</p>
						<p>
							For Xtext we provide a <a href="#generator_fragment">generator fragment</a> for the convenient Java-based 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EValidator.html"><abbr title="org.eclipse.emf.ecore.EValidator">EValidator</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EValidator.java">(src)</a> API. Just add the following fragment to your generator 
							configuration and you are good to go:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
fragment = 
  org.eclipse.xtext.generator.validation.JavaValidatorFragment {}</pre>
							<p>
						</p>
						<p>
							The generator will provide you with two Java classes. An abstract class generated to <strong>src-gen/</strong> which 
							extends the library class <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/AbstractDeclarativeValidator.html"><abbr title="org.eclipse.xtext.validation.AbstractDeclarativeValidator">AbstractDeclarativeValidator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/AbstractDeclarativeValidator.java">(src)</a>. This 
							one just registers the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html">EPackages</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> for which this validator introduces constraints.
							The other class is a subclass of that abstract class and is generated to the <strong>src/</strong> folder in order 
							to be edited by you. That is where you put the constraints in.
						</p>
						<p>
							The purpose of the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/AbstractDeclarativeValidator.html"><abbr title="org.eclipse.xtext.validation.AbstractDeclarativeValidator">AbstractDeclarativeValidator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/AbstractDeclarativeValidator.java">(src)</a> is to allow you to 
							write constraints in a declarative way - as the class name already suggests. That is instead of writing 
							exhaustive if-else constructs or extending the generated EMF switch you just have to add the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/Check.html"><abbr title="org.eclipse.xtext.validation.Check">@Check</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/Check.java">(src)</a> annotation to any method and it will be invoked automatically
							when validation takes place. Moreover you can state for what type the respective constraint method is, just 
							by declaring a typed parameter. This also lets you avoid any type casts. In addition to the reflective 
							invocation of validation methods the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/AbstractDeclarativeValidator.html"><abbr title="org.eclipse.xtext.validation.AbstractDeclarativeValidator">AbstractDeclarativeValidator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/AbstractDeclarativeValidator.java">(src)</a> 
							provides a couple of convenient assertions.
						</p>
						<p>
							All in all this is very similar to how JUnit 4 works. Here is an example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class DomainmodelJavaValidator 
  extends AbstractDomainmodelJavaValidator {
    
  @Check
  public void checkTypeNameStartsWithCapital(Type type) {
    if (!Character.isUpperCase(type.getName().charAt(0)))
      warning("Name should start with a capital", 
        DomainmodelPackage.TYPE__NAME);
  }
}</pre>
							<p>
						</p>
						<p>
							You can also implement quick fixes for individual validation errors and warnings. See the 
							<a href="#quickfixes">chapter on quick fixes</a> for details.
						</p>
						</section>
						<!-- subsection -->
						<section id="_50" style="padding-top: 68px; margin-top: -68px;">
						<h3>Validating Manually</h3>
						<p>
							As noted above, Xtext uses EMF's <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EValidator.html"><abbr title="org.eclipse.emf.ecore.EValidator">EValidator</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EValidator.java">(src)</a> API to register validators. 
							You can run the validators on your model programmatically using EMF's 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/util/Diagnostician.html"><abbr title="org.eclipse.emf.ecore.util.Diagnostician">Diagnostician</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/util/Diagnostician.java">(src)</a>, e.g.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
EObject myModel = myResource.getContents().get(0);
Diagnostic diagnostic = Diagnostician.INSTANCE.validate(myModel);
switch (diagnostic.getSeverity()) {
  case Diagnostic.ERROR:
    System.err.println("Model has errors: ",diagnostic);
    break;
  case Diagnostic.WARNING:
    System.err.println("Model has warnings: ",diagnostic);
}</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="test_validators" style="padding-top: 68px; margin-top: -68px;">
						<h3>Test Validators</h3>
						<p>
							If you have implemented your validators by extending 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/AbstractDeclarativeValidator.html"><abbr title="org.eclipse.xtext.validation.AbstractDeclarativeValidator">AbstractDeclarativeValidator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/AbstractDeclarativeValidator.java">(src)</a>, there are helper classes which
							assist you when testing your validators.
						</p>
						<p>
							Testing validators typically works as follows: 
							</p>
							<ol>
								<li>The test creates some models which intentionally violate some constraints.</li>
								<li>The test runs some chosen <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/Check.html">@Check-methods</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/Check.java">(src)</a> from the validator.</li>
								<li>The test asserts whether the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/Check.html">@Check-methods</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/Check.java">(src)</a> have raised the expected warnings and errors.</li>
							</ol>
							<p>
						</p>
						<p>
							To create models, you can either use EMF's <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/resource/ResourceSet.html"><abbr title="org.eclipse.emf.ecore.resource.ResourceSet">ResourceSet</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/ResourceSet.java">(src)</a> to 
							load models from your hard disk or you can utilize the <strong>MyDslFactory</strong> that EMF generates 
							for each <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a>, to construct the tested model elements manually. 
							While the first option has the advantages that you can edit your models in your textual concrete syntax, 
							the second option has the advantage that you can create partial models.
						</p>
						<p>
							To run the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/Check.html">@Check-methods</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/Check.java">(src)</a> and ensure they raise the intended errors and warnings, you can utilize 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/junit4/validation/ValidatorTester.html"><abbr title="org.eclipse.xtext.junit4.validation.ValidatorTester">ValidatorTester</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.junit4/src/org/eclipse/xtext/junit4/validation/ValidatorTester.java">(src)</a> as shown by the following example:
						</p>
						<p>
							Validator:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class MyLanguageValidator extends AbstractDeclarativeValidator {
  @Check
  public void checkFooElement(FooElement element) {
    if(element.getBarAttribute().contains("foo"))
      error("Only Foos allowed", element, 
        MyLanguagePackage.FOO_ELEMENT__BAR_ATTRIBUTE, 101);
  }
}</pre>
							<p>
						</p>
						<p>
							JUnit-Test:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class MyLanguageValidatorTest extends AbstractXtextTests {

  private ValidatorTester&lt;MyLanguageValidator&gt; tester;

  @Override
  public void setUp() {
    with(MyLanguageStandaloneSetup.class);
    MyLanguageValidator validator = get(MyLanguageValidator.class);
    tester = new ValidatorTester&lt;TestingValidator&gt;(validator);
  }

  public void testError() {
    FooElement model = MyLanguageFactory.eINSTANCE.createFooElement()
    model.setBarAttribute("barbarbarbarfoo");
    
    tester.validator().checkFooElement(model);
    tester.diagnose().assertError(101);
  }
  
  public void testError2() {
    FooElement model = MyLanguageFactory.eINSTANCE.createFooElement()
    model.setBarAttribute("barbarbarbarfoo");
    
    tester.validate(model).assertError(101);
  }
}</pre>
							<p>
						</p>
						<p>
							This example uses JUnit 3, but since the involved classes from Xtext have no dependency on JUnit 
							whatsoever, JUnit 4 and other testing frameworks will work as well.  JUnit runs the <code class="prettyprint lang-java">setUp()</code>-method 
							before each test case and thereby helps to create some common state. In this example, the validator 
							is instantiated by means of Google Guice. As we inherit from the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/junit4/AbstractXtextTests.html"><abbr title="org.eclipse.xtext.junit4.AbstractXtextTests">AbstractXtextTests</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.junit4/src/org/eclipse/xtext/junit4/AbstractXtextTests.java">(src)</a>
							there are a plenty of useful methods available and the state of the global EMF singletons will be restored in the
							method <code class="prettyprint lang-java">tearDown()</code>. Afterwards, the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/junit4/validation/ValidatorTester.html"><abbr title="org.eclipse.xtext.junit4.validation.ValidatorTester">ValidatorTester</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.junit4/src/org/eclipse/xtext/junit4/validation/ValidatorTester.java">(src)</a> 
							is created and parameterized with the actual validator. It acts as a wrapper for the validator, 
							ensures that the validator has a valid state and provides convenient access to the validator itself 
							(<code class="prettyprint lang-java">tester.validator()</code>) as well as to the utility classes which assert diagnostics created by the validator 
							(<code class="prettyprint lang-java">tester.diagnose()</code>). Please be aware that you have to call <code class="prettyprint lang-java">validator()</code> before you can call <code class="prettyprint lang-java">diagnose()</code>. 
							However, you can call <code class="prettyprint lang-java">validator()</code> multiple times in a row.
						</p>
						<p>
							While <code class="prettyprint lang-java">validator()</code> allows to call the validator's <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/Check.html">@Check-methods</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/Check.java">(src)</a> directly, 
							<code class="prettyprint lang-java">validate(model)</code> leaves it to the framework to call the applicable <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/Check.html">@Check-methods</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/Check.java">(src)</a>. However, to avoid 
							side-effects between tests, it is recommended to call the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/Check.html">@Check-methods</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/Check.java">(src)</a> directly.
						</p>
						<p>
							<code class="prettyprint lang-java">diagnose()</code> and <code class="prettyprint lang-java">validate(model)</code> return an object of type 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/junit4/validation/AssertableDiagnostics.html"><abbr title="org.eclipse.xtext.junit4.validation.AssertableDiagnostics">AssertableDiagnostics</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.junit4/src/org/eclipse/xtext/junit4/validation/AssertableDiagnostics.java">(src)</a> which provides 
							several <strong>assert</strong>-methods to verify whether the expected diagnostics are present:
						</p>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-java">assertError(int code)</code>: There must be one diagnostic with severity ERROR and the supplied error code.</li>
								<li><code class="prettyprint lang-java">assertErrorContains(String messageFragment)</code>: There must be one diagnostic with severity ERROR and 
								    its message must contain <strong>messageFragment</strong>.</li>
								<li><code class="prettyprint lang-java">assertError(int code, String messageFragment)</code>: Verifies severity, error code and messageFragment.</li>
								<li><code class="prettyprint lang-java">assertWarning(...)</code>: This method is available for the same combination of parameters as <code class="prettyprint lang-java">assertError()</code>.</li>
								<li><code class="prettyprint lang-java">assertOK()</code>: Expects that no diagnostics (errors, warnings etc.) have been raised.</li>
								<li><code class="prettyprint lang-java">assertDiagnostics(int severity, int code, String messageFragment)</code>: Verifies severity, 
								    error code and messageFragment.</li>
								<li><code class="prettyprint lang-java">assertAll(DiagnosticPredicate... predicates)</code>: Allows to describe multiple diagnostics at the 
								    same time and verifies that all of them are present. Class 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/junit4/validation/AssertableDiagnostics.html"><abbr title="org.eclipse.xtext.junit4.validation.AssertableDiagnostics">AssertableDiagnostics</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.junit4/src/org/eclipse/xtext/junit4/validation/AssertableDiagnostics.java">(src)</a> contains static <code class="prettyprint lang-java">error()</code> and 
								<code class="prettyprint lang-java">warning()</code> methods which help to create the needed 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/junit4/validation/AssertableDiagnostics.DiagnosticPredicate.html"><abbr title="org.eclipse.xtext.junit4.validation.AssertableDiagnostics$DiagnosticPredicate">DiagnosticPredicate</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.junit4/src/org/eclipse/xtext/junit4/validation/AssertableDiagnostics.java">(src)</a>. Example: 
								<code class="prettyprint lang-java">assertAll(error(123), warning("some part of the message"))</code>.</li>
								<li><code class="prettyprint lang-java">assertAny(DiagnosticPredicate predicate)</code>: Asserts that a diagnostic exists which matches the predicate.</li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="linking" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Linking</h2>
						<p>
							The linking feature allows for specification of cross-references within an Xtext grammar.
							The following things are needed for the linking:
						</p>
						<p>
							</p>
							<ol>
								<li>declaration of a cross-link in the grammar (at least in the Ecore model)</li>
								<li>specification of linking semantics (usually provided via the <a href="#scoping">scoping API</a>)</li>
							</ol>
							<p>
						</p>
						<!-- subsection -->
						<section id="_51" style="padding-top: 68px; margin-top: -68px;">
						<h3>Declaration of Cross-links</h3>
						<p>
							In the grammar a cross-reference is specified using square brackets.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
CrossReference :
  '[' type=ReferencedEClass ('|' terminal=CrossReferenceTerminal)? ']'
;</pre>
							<p>
						</p>
						<p>
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
ReferringType :
  'ref' referencedObject=[Entity|STRING]
;</pre>
							<p>
						</p>
						<p>
							The <a href="#metamodelInference">Ecore model inference</a> would create an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a> 
							<strong>ReferringType</strong> with an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html"><abbr title="org.eclipse.emf.ecore.EReference">EReference</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a> <strong>referencedObject</strong> of type <strong>Entity</strong>
							with its containment property set to <code class="prettyprint lang-java">false</code>. The referenced object would be identified 
							either by a <strong>STRING</strong> and the surrounding
							information in the current context (see <a href="#scoping">scoping</a>). If you do not use <code class="prettyprint lang-xtext">generate</code> but <code class="prettyprint lang-xtext">import</code> 
							an existing Ecore model, the class <strong>ReferringType</strong> (or one of its super types) would need to have an 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html"><abbr title="org.eclipse.emf.ecore.EReference">EReference</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a> of type <strong>Entity</strong> (or one of its super types) declared. Also the 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html">EReference's</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a> containment and container properties needs to be set to <code class="prettyprint lang-java">false</code>.
						</p>
						</section>
						<!-- subsection -->
						<section id="_52" style="padding-top: 68px; margin-top: -68px;">
						<h3>Default Runtime Behavior (Lazy Linking)</h3>
						<p>
							Xtext uses lazy linking by default and we encourage users to stick to this because it provides  
							many advantages. One of which is improved performance in all scenarios where you don't have to load 
							the whole closure of all transitively referenced resources. Furthermore it automatically solves 
							situations where one link relies on other links. Though cyclic linking dependencies are not 
							supported by Xtext at all.
						</p>
						<p>
							When parsing a given input string, say
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-linkingexample linenums">
ref Entity01</pre>
							<p>
						</p>
						<p>
							the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/linking/lazy/LazyLinker.html"><abbr title="org.eclipse.xtext.linking.lazy.LazyLinker">LazyLinker</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/linking/lazy/LazyLinker.java">(src)</a> first creates an EMF proxy and 
							assigns it to the corresponding <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html"><abbr title="org.eclipse.emf.ecore.EReference">EReference</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a>. In EMF a proxy is described by a 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/URI.html"><abbr title="org.eclipse.emf.common.util.URI">URI</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">(src)</a>, which points to the real <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>. 
							In the case of lazy linking the stored <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/URI.html"><abbr title="org.eclipse.emf.common.util.URI">URI</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">(src)</a> comprises of the context 
							information given at parse time, which is the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> containing the cross-reference, 
							the actual <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html"><abbr title="org.eclipse.emf.ecore.EReference">EReference</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a>, the index (in case it's a multi-valued cross-reference) 
							and the string which represented the cross-link in the concrete syntax. The latter usually corresponds to 
							the name of the referenced <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>. In EMF a <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/URI.html"><abbr title="org.eclipse.emf.common.util.URI">URI</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">(src)</a>
							consists of information about the resource the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> is contained in as well as a so 
							called fragment part, which is used to find the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> within that resource. When an  
							EMF proxy is resolved, the current <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/resource/ResourceSet.html"><abbr title="org.eclipse.emf.ecore.resource.ResourceSet">ResourceSet</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/ResourceSet.java">(src)</a> is asked. The resource set 
							uses the first part to obtain (i.e. load if it is not already loaded) the resource. Then the resource is asked to 
							return the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> based on the fragment in the URI. The actual cross-reference resolution 
							is done by <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/linking/lazy/LazyLinkingResource.html">LazyLinkingResource.getEObject(String)</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/linking/lazy/LazyLinkingResource.java">(src)</a> which receives the 
							fragment and delegates to the implementation of the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/linking/ILinkingService.html"><abbr title="org.eclipse.xtext.linking.ILinkingService">ILinkingService</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/linking/ILinkingService.java">(src)</a>. The default 
							implementation in turn delegates to the <a href="#scoping">scoping API</a>.
						</p>
						<p>
							A <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/linking/impl/DefaultLinkingService.html">simple implementation</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/linking/impl/DefaultLinkingService.java">(src)</a> of the linking service is shipped with Xtext 
							and used for any grammar per default. Usually any necessary customization of the linking behavior 
							can best be described using the <a href="#scoping">scoping API</a>.
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="scoping" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Scoping</h2>
						<p>
							Using the scoping API one defines which elements are referable by a certain reference. For instance, 
							using the introductory example (Fowler's state machine language)
							a transition contains two cross-references: One to a declared event and one to a declared state.
						</p>
						<p>
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-fowlerexample linenums">
events
  nothingImportant  MYEV
end
 
state idle
  nothingImportant =&gt; idle
end</pre>
							<p>
						</p>
						<p>
							The grammar rule for transitions looks like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Transition :
  event=[Event] '=&gt;' state=[State];</pre>
							<p>
						</p>
						<p>
							The grammar states that for the reference <strong>event</strong> only instances of the type <strong>Event</strong> are allowed and 
							that for the EReference <strong>state</strong> only instances of type <strong>State</strong> can be referenced. However, this simple 
							declaration doesn't say anything about where to find the states or events. That is the duty of scopes.
						</p>
						<p>
							An <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IScopeProvider">IScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">(src)</a> is responsible for providing 
							an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IScope.html"><abbr title="org.eclipse.xtext.scoping.IScope">IScope</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScope.java">(src)</a> for a given context <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> and 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html"><abbr title="org.eclipse.emf.ecore.EReference">EReference</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a>. The returned <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IScope.html"><abbr title="org.eclipse.xtext.scoping.IScope">IScope</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScope.java">(src)</a> should 
							contain all target candidates for the given object and cross-reference.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public interface IScopeProvider {

  /**
   * Returns a scope for the given context. The scope 
   * provides access to the compatible visible EObjects 
   * for a given reference.
   *
   * @param context the element from which an element shall be 
   *        referenced
   * @param reference the reference to be used to filter the 
   *        elements.
   * @return {@link IScope} representing the inner most 
   *         {@link IScope} for the passed context and reference. 
   *         Note for implementors: The result may not be 
   *         &lt;code&gt;null&lt;/code&gt;. Return 
   *         &lt;code&gt;IScope.NULLSCOPE&lt;/code&gt; instead.
   */
  IScope getScope(EObject context, EReference reference);

}</pre>
							<p>
						</p>
						<p>
							A single <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IScope.html"><abbr title="org.eclipse.xtext.scoping.IScope">IScope</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScope.java">(src)</a> represents an element of a linked list of scopes. 
							That means that a scope can be nested within an outer scope. Each scope works like a symbol table or a 
							map where the keys are strings and the values are so called <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html"><abbr title="org.eclipse.xtext.resource.IEObjectDescription">IEObjectDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a>, 
							which is effectively an abstract description of a real <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>.
						</p>
						<!-- subsection -->
						<section id="global_scopes" style="padding-top: 68px; margin-top: -68px;">
						<h3>Global Scopes and Resource Descriptions</h3>
						<p>
							In the state machine example we don't have references across model files. Neither is there a concept like 
							a namespace which would make scoping a bit more complicated. Basically, every <strong>State</strong> and every <strong>Event</strong> 
							declared in the same resource is visible by their name. However, in the real world things are most likely 
							not that simple: What if you want to reuse certain declared states and events across different 
							state machines and you want to share those as library between different users? You would want to introduce 
							some kind of cross resource reference.
						</p>
						<p>
							Defining what is visible from outside the current resource is the responsibility of global scopes. 
							As the name suggests, global scopes are provided by instances of the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IGlobalScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IGlobalScopeProvider">IGlobalScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IGlobalScopeProvider.java">(src)</a>. The data structures used to 
							store its elements are described in the next section.
						</p>
						<!-- subsection -->
						<section id="resourcedescriptions" style="padding-top: 68px; margin-top: -68px;">
						<h4>Resource and EObject Descriptions</h4>
						<p>
							In order to make states and events of one file referable from another file you need to export them as 
							part of a so called <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription">IResourceDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a>.
						</p>
						<p>
							A <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription">IResourceDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a> contains information about the resource itself 
							which primarily its <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/URI.html"><abbr title="org.eclipse.emf.common.util.URI">URI</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">(src)</a>, a list 
							of exported <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html">EObjects</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> in the form of 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html">IEObjectDescriptions</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a>
							as well as information about outgoing cross-references and qualified names it references. The cross 
							references contain only resolved references, while the list of imported qualified names also contain 
							those names, which couldn't be resolved. This information is leveraged by Xtext's indexing infrastructure
							in order to compute the transitive hull of dependent resources.
						</p>
						<p>
							For users and especially in the context of scoping the most important information is the list of 
							exported <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html">EObjects</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>. An <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html"><abbr title="org.eclipse.xtext.resource.IEObjectDescription">IEObjectDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a> 
							stores the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/URI.html"><abbr title="org.eclipse.emf.common.util.URI">URI</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">(src)</a> of the actual <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>,
							its <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/QualifiedName.html"><abbr title="org.eclipse.xtext.naming.QualifiedName">QualifiedName</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/QualifiedName.java">(src)</a>, as well as its <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a>. 
							In addition one can export arbitrary information using the <strong>user data</strong> map. The following diagram gives 
							an overview on the description classes and their relationships.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/index_datamodel.png" alt="The data model of Xtext's index" width="456" height="457">
							</div>
							<p>
						</p>
						<p>
							A language is configured with a default implementation of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.Manager.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a> 
							which computes the list of exported <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html">IEObjectDescriptions</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a> by iterating 
							the whole EMF model and applying the <code class="prettyprint lang-java">getQualifiedName(EObject obj)</code> from 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/IQualifiedNameProvider.html"><abbr title="org.eclipse.xtext.naming.IQualifiedNameProvider">IQualifiedNameProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/IQualifiedNameProvider.java">(src)</a> 
							on each <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>. If the object has a qualified name an 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html"><abbr title="org.eclipse.xtext.resource.IEObjectDescription">IEObjectDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a> is created and exported 
							(i.e. added to the list). If an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> doesn't have a qualified name, the 
							element is considered to be not referable from outside the resource and consequently not indexed. If you 
							don't like this behavior, you can implement and bind your own implementation of 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.Manager.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a>.
						</p>
						<p>
							There are also two different default implementations of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/IQualifiedNameProvider.html"><abbr title="org.eclipse.xtext.naming.IQualifiedNameProvider">IQualifiedNameProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/IQualifiedNameProvider.java">(src)</a>. 
							Both work by looking up an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EAttribute.html"><abbr title="org.eclipse.emf.ecore.EAttribute">EAttribute</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EAttribute.java">(src)</a> 'name'. The
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/SimpleNameProvider.html"><abbr title="org.eclipse.xtext.naming.SimpleNameProvider">SimpleNameProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/SimpleNameProvider.java">(src)</a> simply returns the plain value, while the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/DefaultDeclarativeQualifiedNameProvider.html"><abbr title="org.eclipse.xtext.naming.DefaultDeclarativeQualifiedNameProvider">DefaultDeclarativeQualifiedNameProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/DefaultDeclarativeQualifiedNameProvider.java">(src)</a> concatenates 
							the simple name with the qualified name of its parent exported <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>. This
							effectively simulates the qualified name computation of most namespace-based languages (like e.g. Java).
						</p>
						<p>
							As mentioned above, in order to calculate an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription">IResourceDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a> for a 
							resource the framework asks the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.Manager.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a>. To convert 
							between a <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/QualifiedName.html"><abbr title="org.eclipse.xtext.naming.QualifiedName">QualifiedName</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/QualifiedName.java">(src)</a> and its <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html"><abbr title="java.lang.String">String</abbr></a> representation you 
							can use the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/IQualifiedNameConverter.html"><abbr title="org.eclipse.xtext.naming.IQualifiedNameConverter">IQualifiedNameConverter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/IQualifiedNameConverter.java">(src)</a>. Here is some Java code showing how to do 
							that:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Inject IQualifiedNameConverter converter;

Manager manager = // obtain an instance of IResourceDescription.Manager
IResourceDescription description =
  manager.getResourceDescription(resource);
for (IEObjectDescription eod : description.getExportedObjects()) {
  System.out.println(converter.toString(eod.getQualifiedName()));
}</pre>
							<p>
						</p>
						<p>
							In order to obtain an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.Manager.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a> it is best to ask the 
							corresponding <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceServiceProvider.html"><abbr title="org.eclipse.xtext.resource.IResourceServiceProvider">IResourceServiceProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceServiceProvider.java">(src)</a>. That is because each 
							language might have a totally different implementation and as you might refer from your language to a 
							different language you cannot reuse your language's <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.Manager.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a>. 
							One basically asks the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceServiceProvider.Registry.html"><abbr title="org.eclipse.xtext.resource.IResourceServiceProvider$Registry">Registry</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceServiceProvider.java">(src)</a> (there is usually 
							one global instance) for an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceServiceProvider.html"><abbr title="org.eclipse.xtext.resource.IResourceServiceProvider">IResourceServiceProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceServiceProvider.java">(src)</a>, which in turn provides 
							an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.Manager.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a> along other useful services.
						</p>
						<p>
							If you are running in a Guice enabled scenario, the code looks like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Inject 
private IResourceServiceProvider.Registry rspr;
  
private IResourceDescription.Manager getManager(Resource res) {
  IResourceServiceProvider resourceServiceProvider = 
    rspr.getResourceServiceProvider(res.getURI());
  return resourceServiceProvider.getResourceDescriptionManager();
}</pre>
							<p>
						</p>
						<p>
							If you don't run in a Guice enabled context you will likely have to directly access the singleton:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
private IResourceServiceProvider.Registry rspr = 
  IResourceServiceProvider.Registry.INSTANCE;</pre>
							<p>
						</p>
						<p>
							However, we strongly encourage you to use dependency injection. Now, that we know how to export elements to be 
							referable from other resources, we need to learn how those exported 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html">IEObjectDescriptions</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a> can be made available to the referencing resources. That is 
							the responsibility of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IGlobalScopeProvider.html">global scoping</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IGlobalScopeProvider.java">(src)</a> which is 
							described in the following chapter.
						</p>
						</section>
						<!-- subsection -->
						<section id="import_uri" style="padding-top: 68px; margin-top: -68px;">
						<h4>Global Scopes Based On Explicit Imports (ImportURI Mechanism)</h4>
						<p>
							A simple and straight forward solution is to have explicit references to other resources in your 
							file by explicitly listing paths or <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/URI.html">URIs</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">(src)</a> to all referenced resources 
							in your model file. That is for instance what most include mechanisms use. In Xtext we provide a handy 
							implementation of an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IGlobalScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IGlobalScopeProvider">IGlobalScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IGlobalScopeProvider.java">(src)</a> which is based on a naming convention 
							and makes this semantics very easy to use. Talking of the introductory example and given you would want to add 
							support for referencing external <strong>States</strong> and <strong>Events</strong> from within your state machine, all you had to do is 
							add something like the following to the grammar definition:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Statemachine :
  (imports+=Import)* // allow imports
  'events'
     (events+=Event)+
  'end'
  ('resetEvents'
     (resetEvents+=[Event])+
  'end')?
  'commands'
     (commands+=Command)+
  'end'
  (states+=State)+;

Import : 
  'import' importURI=STRING; // feature must be named importURI</pre>
							<p>
						</p>
						<p>
							This effectively allows import statements to be declared before the events section. In addition 
							you will have to make sure that you have bound the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/impl/ImportUriGlobalScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.impl.ImportUriGlobalScopeProvider">ImportUriGlobalScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/impl/ImportUriGlobalScopeProvider.java">(src)</a> for the type 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IGlobalScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IGlobalScopeProvider">IGlobalScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IGlobalScopeProvider.java">(src)</a> by the means of <a href="#dependencyInjection">Guice</a>. 
							That implementation looks up any <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EAttribute.html">EAttributes</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EAttribute.java">(src)</a> named 'importURI' in your
							model and interprets their values as URIs that point to imported resources. That is it adds the corresponding 
							resources to the current resource's resource set. In addition the scope provider uses the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.Manager.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a> of that 
							imported resource to compute all the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html">IEObjectDescriptions</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a> returned 
							by the <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/runtime/preferences/IScope.html"><abbr title="org.eclipse.core.runtime.preferences.IScope">IScope</abbr></a>.
						</p>
						<p>
							Global scopes based on import URIs are available if you use the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/scoping/ImportURIScopingFragment.html"><abbr title="org.eclipse.xtext.generator.scoping.ImportURIScopingFragment">ImportURIScopingFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/scoping/ImportURIScopingFragment.java">(src)</a> in the workflow of your language.
							It will bind an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/impl/ImportUriGlobalScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.impl.ImportUriGlobalScopeProvider">ImportUriGlobalScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/impl/ImportUriGlobalScopeProvider.java">(src)</a> that handles 
							<strong>importURI</strong> features.
						</p>
						</section>
						<!-- subsection -->
						<section id="index_based" style="padding-top: 68px; margin-top: -68px;">
						<h4>Global Scopes Based On External Configuration (e.g. Class Path Based)</h4>
						<p>
							Instead of explicitly referring to imported resources, the other possibility is to have some kind of 
							external configuration in order to define what is visible from outside a resource. Java for instances 
							uses the notion of the class path to define containers (jars and class folders) which contain any 
							referenceable elements. In the case of Java also the order of such entries is important.
						</p>
						<p>
							Since version 1.0.0 Xtext provides support for this kind of global scoping. To enable it, a 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/impl/DefaultGlobalScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.impl.DefaultGlobalScopeProvider">DefaultGlobalScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/impl/DefaultGlobalScopeProvider.java">(src)</a> has to be bound to 
							the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IGlobalScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IGlobalScopeProvider">IGlobalScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IGlobalScopeProvider.java">(src)</a> interface.
						</p>
						<p>
							By default Xtext leverages the class path mechanism since it is well designed and already understood 
							by most of our users. The available tooling provided by JDT and PDE to configure the class path adds 
							even more value. However, it is just a default: You can reuse the infrastructure without using Java 
							and independent from the JDT.
						</p>
						<p>
							In order to know what is available in the "world" a global scope provider which relies on external 
							configuration needs to read that configuration in and be able to find all candidates for a certain 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EReference.html"><abbr title="org.eclipse.emf.ecore.EReference">EReference</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EReference.java">(src)</a>. If you don't want to force users to have a folder and file name 
							structure reflecting the actual qualified names of the referenceable <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html">EObjects</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>, 
							you'll have to load all resources up front and either keep holding them in memory or remembering all information 
							which is needed for the resolution of cross-references. In Xtext that information is provided by a so called 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html"><abbr title="org.eclipse.xtext.resource.IEObjectDescription">IEObjectDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a>.
						</p>
						<!-- subsection -->
						<section id="containers" style="padding-top: 68px; margin-top: -68px;">
						<h5>About the Index, Containers and Their Manager</h5>
						<p>
							Xtext ships with an index which remembers all <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription">IResourceDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a> and 
							their <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html"><abbr title="org.eclipse.xtext.resource.IEObjectDescription">IEObjectDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a> objects. In the IDE-context (i.e. when running 
							the editor, etc.) the index is updated by an incremental project builder. As opposed to that, in a non-UI 
							context you typically do not have to deal with changes such that the infrastructure can be much simpler. In 
							both situations the global index state is held by an implementation of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescriptions.html"><abbr title="org.eclipse.xtext.resource.IResourceDescriptions">IResourceDescriptions</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescriptions.java">(src)</a> 
							(Note the plural form!). The bound singleton in the UI scenario is even aware of unsaved editor changes, 
							such that all linking happens to the latest maybe unsaved version of the resources. You will find the 
							Guice configuration of the global index in the UI scenario in 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/shared/internal/SharedModule.html"><abbr title="org.eclipse.xtext.ui.shared.internal.SharedModule">SharedModule</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui.shared/src/org/eclipse/xtext/ui/shared/internal/SharedModule.java">(src)</a>.
						</p>
						<p>
							The index is basically a flat list of instances of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription">IResourceDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a>. 
							The index itself doesn't know about visibility constraints due to class path restriction. Rather than that, 
							they are defined by the referencing language by means of so called <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IContainer.html">IContainers</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IContainer.java">(src)</a>: 
							While Java might load a resource via <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ClassLoader.html">ClassLoader.loadResource()</a> (i.e. using the class path mechanism), another 
							language could load the same resource using the file system paths.
						</p>
						<p>
							Consequently, the information which container a resource belongs to depends on the referencing 
							context. Therefore an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceServiceProvider.html"><abbr title="org.eclipse.xtext.resource.IResourceServiceProvider">IResourceServiceProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceServiceProvider.java">(src)</a> provides another interesting 
							service, which is called <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IContainer.Manager.html"><abbr title="org.eclipse.xtext.resource.IContainer$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IContainer.java">(src)</a>. For a given 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription">IResourceDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a>, the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IContainer.Manager.html"><abbr title="org.eclipse.xtext.resource.IContainer$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IContainer.java">(src)</a> 
							provides you with the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IContainer.html"><abbr title="org.eclipse.xtext.resource.IContainer">IContainer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IContainer.java">(src)</a> as well as with a list of all 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IContainer.html">IContainers</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IContainer.java">(src)</a> which are visible from there. Note that the  
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescriptions.html">index</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescriptions.java">(src)</a> is globally 
							shared between all languages while the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IContainer.Manager.html"><abbr title="org.eclipse.xtext.resource.IContainer$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IContainer.java">(src)</a> which adds the semantics of containers, can 
							be very different depending on the language. The following method lists all resources visible from a 
							given <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/resource/Resource.html"><abbr title="org.eclipse.emf.ecore.resource.Resource">Resource</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/Resource.java">(src)</a>:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Inject
IContainer.Manager manager;

public void listVisibleResources(
        Resource myResource, IResourceDescriptions index) {
  IResourceDescription descr = 
        index.getResourceDescription(myResource.getURI());
  for(IContainer visibleContainer: 
        manager.getVisibleContainers(descr, index)) { 
    for(IResourceDescription visibleResourceDesc:
            visibleContainer.getResourceDescriptions()) { 
      System.out.println(visibleResourceDesc.getURI());
    }
  }
}</pre>
							<p>
						</p>
						<p>
							Xtext ships two implementations of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IContainer.Manager.html"><abbr title="org.eclipse.xtext.resource.IContainer$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IContainer.java">(src)</a> which are 
							as usual bound with Guice: The default binding is to 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/impl/SimpleResourceDescriptionsBasedContainerManager.html"><abbr title="org.eclipse.xtext.resource.impl.SimpleResourceDescriptionsBasedContainerManager">SimpleResourceDescriptionsBasedContainerManager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/impl/SimpleResourceDescriptionsBasedContainerManager.java">(src)</a>, 
							which assumes all <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription">IResourceDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a> to be in a single common
							container. If you don't care about container support, you'll be fine with this one. Alternatively, 
							you can bind <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/containers/StateBasedContainerManager.html"><abbr title="org.eclipse.xtext.resource.containers.StateBasedContainerManager">StateBasedContainerManager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/containers/StateBasedContainerManager.java">(src)</a> and an 
							additional <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/containers/IAllContainersState.html"><abbr title="org.eclipse.xtext.resource.containers.IAllContainersState">IAllContainersState</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/containers/IAllContainersState.java">(src)</a> which 
							keeps track of the set of available containers and their visibility relationships.
						</p>
						<p>
							Xtext offers a couple of strategies for managing containers: If you're running an Eclipse workbench, 
							you can define containers based on Java projects and their class paths or based on plain Eclipse projects. 
							Outside Eclipse, you can provide a set of file system paths to be scanned for models. All of these only 
							differ in the bound instance of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/containers/IAllContainersState.html"><abbr title="org.eclipse.xtext.resource.containers.IAllContainersState">IAllContainersState</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/containers/IAllContainersState.java">(src)</a> 
							of the referring language. These will be described in detail in the following sections.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/index_container.png" alt="IContainer Management" width="691" height="640">
							</div>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="jdt_based_containers" style="padding-top: 68px; margin-top: -68px;">
						<h5>JDT-Based Container Manager</h5>
						<p>
							As JDT is an Eclipse feature, this JDT-based container management is only available in the UI scenario. 
							It assumes so called <a href="http://help.eclipse.org/helios/topic/org.eclipse.jdt.doc.isv/reference/api/org/eclipse/jdt/core/IPackageFragmentRoot.html">IPackageFragmentRoots</a> as containers. An 
							<a href="http://help.eclipse.org/helios/topic/org.eclipse.jdt.doc.isv/reference/api/org/eclipse/jdt/core/IPackageFragmentRoot.html"><abbr title="org.eclipse.jdt.core.IPackageFragmentRoot">IPackageFragmentRoot</abbr></a> in JDT is the root of a tree of Java model elements. 
							It usually refers to 
							</p>
							<ul>
								<li>a source folder of a Java project,</li>
								<li>a referenced jar,</li>
								<li>a class path entry of a referenced Java project, or</li>
								<li>the exported packages of a required PDE plug-in.</li>
							</ul>
							<p>
						</p>
						<p>
							So for an element to be referable, its resource must be on the class path of the caller's Java project 
							and it must be exported (as described above).
						</p>
						<p>
							As this strategy allows to reuse a lot of nice Java things like jars, OSGi, maven, etc. it is part of 
							the default: You should not have to reconfigure anything to make it work. Nevertheless, if you messed 
							something up, make sure you bind
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public Class&lt;? extends IContainer.Manager&gt; bindIContainer$Manager() {
  return StateBasedContainerManager.class;
}</pre>
							<p>
						</p>
						<p>
							in the runtime module and
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public Provider&lt;IAllContainersState&gt; provideIAllContainersState() {
  return org.eclipse.xtext.ui.shared.Access.getJavaProjectsState();
}</pre>
							<p>
						</p>
						<p>
							in the UI module of the referencing language. The latter looks a bit more difficult than a common 
							binding, as we have to bind a global singleton to a Guice provider. A 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/containers/StrictJavaProjectsState.html"><abbr title="org.eclipse.xtext.ui.containers.StrictJavaProjectsState">StrictJavaProjectsState</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/containers/StrictJavaProjectsState.java">(src)</a> requires all elements to be on the 
							class path, while the default <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/containers/JavaProjectsState.html"><abbr title="org.eclipse.xtext.ui.containers.JavaProjectsState">JavaProjectsState</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/containers/JavaProjectsState.java">(src)</a> also allows 
							models in non-source folders.
						</p>
						</section>
						<!-- subsection -->
						<section id="project_based_containers" style="padding-top: 68px; margin-top: -68px;">
						<h5>Eclipse Project-Based Containers</h5>
						<p>
							If the class path based mechanism doesn't work for your case, Xtext offers an alternative container 
							manager based on plain Eclipse projects: Each project acts as a container and the project references 
							<strong>Properties-&gt;Project References</strong> are the visible containers.
						</p>
						<p>
							In this case, your runtime module should define
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtend linenums">
public Class&lt;? extends IContainer.Manager&gt; bindIContainer$Manager() {
  return StateBasedContainerManager.class;
}</pre>
							<p>
							
							and the UI module should bind
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public Provider&lt;IAllContainersState&gt; provideIAllContainersState() {
  return org.eclipse.xtext.ui.shared.Access.getWorkspaceProjectsState();
}</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="resource_set_containers" style="padding-top: 68px; margin-top: -68px;">
						<h5>ResourceSet-Based Containers</h5>
						<p>
							If you need an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IContainer.Manager.html"><abbr title="org.eclipse.xtext.resource.IContainer$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IContainer.java">(src)</a> that is independent of 
							Eclipse projects, you can use the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/containers/ResourceSetBasedAllContainersState.html"><abbr title="org.eclipse.xtext.resource.containers.ResourceSetBasedAllContainersState">ResourceSetBasedAllContainersState</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/containers/ResourceSetBasedAllContainersState.java">(src)</a>. 
							This one can be configured with a mapping of container handles to resource URIs.
						</p>
						<p>
							It is unlikely you want to use this strategy directly in your own code, but it is used in the back-end 
							of the MWE2 workflow component <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/mwe/Reader.html"><abbr title="org.eclipse.xtext.mwe.Reader">Reader</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/mwe/Reader.java">(src)</a>. This is responsible 
							for reading in models in a workflow, e.g. for later code generation. The 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/mwe/Reader.html"><abbr title="org.eclipse.xtext.mwe.Reader">Reader</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/mwe/Reader.java">(src)</a> allows to either scan the whole class path or a set of paths 
							for all models therein. When paths are given, each path entry becomes an 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IContainer.html"><abbr title="org.eclipse.xtext.resource.IContainer">IContainer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IContainer.java">(src)</a> of its own. In the following snippet,
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
component = org.eclipse.xtext.mwe.Reader {
  // lookup all resources on the class path
  // useJavaClassPath = true
  
  // or define search scope explicitly
  path = "src/models"
  path = "src/further-models"

  ...
}</pre>
							<p>
						</p>
						</section>
						</section>
						</section>
						<!-- subsection -->
						<section id="local_scoping" style="padding-top: 68px; margin-top: -68px;">
						<h3>Local Scoping</h3>
						<p>
							We now know how the outer world of referenceable elements can be defined in Xtext. Nevertheless, not 
							everything is available in any context and with a global name. Rather than that, each context can usually 
							have a different scope. As already stated, scopes can be nested, i.e. a scope can in addition to its 
							own elements contain elements of a parent scope. When parent and child scope contain different elements 
							with the same name, the parent scope's element will usually be <strong>shadowed</strong> by the element from the child scope.
						</p>
						<p>
							To illustrate that, let's have a look at Java: Java defines multiple kinds of scopes 
							(object scope, type scope, etc.). For Java one would create the scope hierarchy as commented in the 
							following example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
// file contents scope
import static my.Constants.STATIC;

public class ScopeExample { // class body scope
  private Object field = STATIC;

  private void method(String param) { // method body scope
    String localVar = "bar";
    innerBlock: { // block scope
      String innerScopeVar = "foo";
      Object field = innerScopeVar;
      // the scope hierarchy at this point would look like this:
      //  blockScope{field,innerScopeVar}-&gt;
      //  methodScope{localVar, param}-&gt;
      //  classScope{field}-&gt; ('field' is shadowed)
      //  fileScope{STATIC}-&gt;
      //  classpathScope{
      //      'all qualified names of accessible static fields'} -&gt;
      //  NULLSCOPE{}
      //
    }
    field.add(localVar);
  }
}</pre>
							<p>
						</p>
						<p>
							In fact the class path scope should also reflect the order of class path entries.
							For instance:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
classpathScope{stuff from bin/}
-&gt; classpathScope{stuff from foo.jar/}
-&gt; ...
-&gt; classpathScope{stuff from JRE System Library}
-&gt; NULLSCOPE{}</pre>
							<p>
						</p>
						<p>
							Please find the motivation behind this and some additional details in 
							<a href="http://blog.efftinge.de/2009/01/xtext-scopes-and-emf-index.html">this blog post</a> .
						</p>
						<!-- subsection -->
						<section id="_53" style="padding-top: 68px; margin-top: -68px;">
						<h4>Declarative Scoping</h4>
						<p>
							If you have to define scopes for certain contexts, the base class 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/impl/AbstractDeclarativeScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.impl.AbstractDeclarativeScopeProvider">AbstractDeclarativeScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/impl/AbstractDeclarativeScopeProvider.java">(src)</a> allows to do 
							that in a declarative way. It looks up methods which have either of the following two signatures:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
IScope scope_&lt;RefDeclaringEClass&gt;_&lt;Reference&gt;(
    &lt;ContextType&gt; ctx, EReference ref)

IScope scope_&lt;TypeToReturn&gt;(&lt;ContextType&gt; ctx, EReference ref)</pre>
							<p>
						</p>
						<p>
							The former is used when evaluating the scope for a specific cross-reference and here <strong>ContextReference</strong> 
							corresponds to the name of this reference (prefixed with the name of the reference's declaring type and 
							separated by an underscore). The <strong>ref</strong> parameter represents this cross-reference.
						</p>
						<p>
							The latter method signature is used when computing the scope for a given element type and is applicable 
							to all cross-references of that type. Here <strong>TypeToReturn</strong> is the name of that type.
						</p>
						<p>
							So if you for example have a state machine with a  <strong>Transition</strong> object owned by its source <strong>State</strong> and 
							you want to compute all reachable states (i.e. potential target states), the corresponding method could 
							be declared as follows (assuming the cross-reference is declared by the <strong>Transition</strong> type and is called <strong>target</strong>):
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
IScope scope_Transition_target(Transition this, EReference ref)</pre>
							<p>
						</p>
						<p>
							If such a method does not exist, the implementation will try to find one for the context object's container. 
							Thus in the example this would match a method with the same name but <strong>State</strong> as the type of the first 
							parameter. It will keep on walking the containment hierarchy until a matching method is found. This 
							container delegation allows to reuse the same scope definition for elements in different places of the 
							containment hierarchy. Also it may make the method easier to implement as the elements comprising the 
							scope are quite often owned or referenced by a container of the context object. In the example the 
							<strong>State</strong> objects could for instance be owned by a containing <strong>StateMachine</strong> object.
						</p>
						<p>
							If no method specific to the cross-reference in question was found for any of the objects in the 
							containment hierarchy, the implementation will start looking for methods matching the other signature.
							Again it will first attempt to match the context object. Thus in the 
							example the signature first matched would be:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
IScope scope_State(Transition this, EReference ref)</pre>
							<p>
						</p>
						<p>
							If no such method exists, the implementation will again try to find a method matching the context object's 
							container objects. In the case of the state machine example you might want to declare the scope with 
							available states at the state machine level:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
IScope scope_State(StateMachine this, EReference ref)</pre>
							<p>
						</p>
						<p>
							This scope can now be used for any cross-references of type <strong>State</strong> for context objects owned by the 
							state machine.
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="namespaceImports" style="padding-top: 68px; margin-top: -68px;">
						<h3>Imported Namespace-Aware Scoping</h3>
						<p>
							The imported namespace aware scoping is based on qualified names and namespaces. It adds namespace 
							support to your language, which is comparable and similar to the one in Scala and C#. Scala and C# both 
							allow to have multiple nested packages within one file and you can put imports per namespace, so that 
							imported names are only visible within that namespace. See the domain model example: its scope provider 
							extends <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/impl/ImportedNamespaceAwareLocalScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.impl.ImportedNamespaceAwareLocalScopeProvider">ImportedNamespaceAwareLocalScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/impl/ImportedNamespaceAwareLocalScopeProvider.java">(src)</a>.
						</p>
						<!-- subsection -->
						<section id="_54" style="padding-top: 68px; margin-top: -68px;">
						<h4><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/IQualifiedNameProvider.html"><abbr title="org.eclipse.xtext.naming.IQualifiedNameProvider">IQualifiedNameProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/IQualifiedNameProvider.java">(src)</a></h4>
						<p>
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/impl/ImportedNamespaceAwareLocalScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.impl.ImportedNamespaceAwareLocalScopeProvider">ImportedNamespaceAwareLocalScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/impl/ImportedNamespaceAwareLocalScopeProvider.java">(src)</a> 
							makes use of the so called <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/IQualifiedNameProvider.html"><abbr title="org.eclipse.xtext.naming.IQualifiedNameProvider">IQualifiedNameProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/IQualifiedNameProvider.java">(src)</a> 
							service. It computes <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/QualifiedName.html">QualifiedNames</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/QualifiedName.java">(src)</a> for 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html">EObjects</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>. A qualified name consists of several segments
						</p>
						<p>
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/DefaultDeclarativeQualifiedNameProvider.html">default implementation</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/DefaultDeclarativeQualifiedNameProvider.java">(src)</a> uses 
							a simple name look up composes the qualified name of the simple names of all containers and the object
							itself.
						</p>
						<p>
							It also allows to override the name computation declaratively. The following snippet shows how you could 
							make <strong>Transitions</strong> in the state machine example referable by giving them a name. Don't forget to bind 
							your implementation in your runtime module.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
FowlerDslQualifiedNameProvider 
      extends DefaultDeclarativeQualifiedNameProvider {
  public QualifiedName qualifiedName(Transition t) {
    if(t.getEvent() == null || !(t.eContainer() instanceof State)) 
      return null;
    else 
      return QualifiedName.create((State)t.eContainer()).getName(), 
        t.getEvent().getName());
  }
}</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_55" style="padding-top: 68px; margin-top: -68px;">
						<h4>Importing Namespaces</h4>
						<p>
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/impl/ImportedNamespaceAwareLocalScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.impl.ImportedNamespaceAwareLocalScopeProvider">ImportedNamespaceAwareLocalScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/impl/ImportedNamespaceAwareLocalScopeProvider.java">(src)</a> looks up 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EAttribute.html">EAttributes</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EAttribute.java">(src)</a> with name 'importedNamespace' and 
							interprets them as import statements. By default qualified names with or without a wildcard at the end 
							are supported. For an import of a qualified name the simple name is made available as we know from e.g. 
							Java, where
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
import java.util.Set;</pre>
							<p>
						</p>
						<p>
							makes it possible to refer to <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html">java.util.Set</a> by its simple name <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html"><abbr title="java.util.Set">Set</abbr></a>.
							Contrary to Java the import is not active for the whole file but only for the namespace it is declared 
							in and its child namespaces. That is why you can write the following in the example DSL:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
package foo {
  import bar.Foo
  entity Bar extends Foo {
  }
}

package bar {
  entity Foo {}
}</pre>
							<p>
						</p>
						<p>
							Of course the declared elements within a package are as well referable by their simple name:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
package bar {
  entity Bar extends Foo {}
  entity Foo {}
}</pre>
							<p>
						</p>
						<p>
							The following would as well be ok:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
package bar {
  entity Bar extends bar.Foo {}
  entity Foo {}
}</pre>
							<p>
						</p>
						<p>
							See the JavaDocs and <a href="http://blogs.itemis.de/stundzig/archives/773">this blog post</a> 
							for details.
						</p>
						</section>
						</section>
						</section>
						<!--  section -->
						<section id="valueconverter" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Value Converter</h2>
						<p>
							Value converters are registered to convert the parsed text into a data type instance and vice versa.
							The primary hook is the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/conversion/IValueConverterService.html"><abbr title="org.eclipse.xtext.conversion.IValueConverterService">IValueConverterService</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/conversion/IValueConverterService.java">(src)</a> 
							and the concrete implementation can be registered via the runtime <a href="#guicemodules">Guice module</a>.
							Simply override the corresponding binding in your runtime module like shown in this example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Override
public Class&lt;? extends IValueConverterService&gt; 
    bindIValueConverterService() {
    return MySpecialValueConverterService.class;
}</pre>
							<p>
						</p>
						<p>
							The most simple way to register additional value converters is to make use of 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/conversion/impl/AbstractDeclarativeValueConverterService.html"><abbr title="org.eclipse.xtext.conversion.impl.AbstractDeclarativeValueConverterService">AbstractDeclarativeValueConverterService</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/conversion/impl/AbstractDeclarativeValueConverterService.java">(src)</a>, 
							which allows to declaratively register an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/conversion/IValueConverter.html"><abbr title="org.eclipse.xtext.conversion.IValueConverter">IValueConverter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/conversion/IValueConverter.java">(src)</a>
							by means of an annotated method.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@ValueConverter(rule = "MyRuleName")
public IValueConverter&lt;MyDataType&gt; getMyRuleNameConverter() {
  return new MyValueConverterImplementation();
}</pre>
							<p>
						</p>
						<p>
							If you use the common terminals grammar <code class="prettyprint lang-xtext">org.eclipse.xtext.common.Terminals</code> you should extend the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/services/DefaultTerminalConverters.html"><abbr title="org.eclipse.xtext.common.services.DefaultTerminalConverters">DefaultTerminalConverters</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/common/services/DefaultTerminalConverters.java">(src)</a> and override or 
							add value converters by adding the respective methods. In addition to the explicitly 
							defined converters in the default implementation, a delegating converter is registered for each 
							available <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EDataType.html"><abbr title="org.eclipse.emf.ecore.EDataType">EDataType</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EDataType.java">(src)</a>. The delegating converter reuses the functionality of the corresponding EMF 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EFactory.html"><abbr title="org.eclipse.emf.ecore.EFactory">EFactory</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EFactory.java">(src)</a>.
						</p>
						<p>
							Many languages introduce a concept for qualified names, i.e. names composed of namespaces separated by
							a delimiter. Since this is such a common use case, Xtext provides an extensible converter implementation
							for qualified names. The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/conversion/impl/QualifiedNameValueConverter.html"><abbr title="org.eclipse.xtext.conversion.impl.QualifiedNameValueConverter">QualifiedNameValueConverter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/conversion/impl/QualifiedNameValueConverter.java">(src)</a> handles
							comments and white space gracefully and is capable to use the appropriate value converter for each segment of
							a qualified name. This allows for individually quoted segments. The domainmodel example shows how to use it.
						</p>
						<p>
							The protocol of an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/conversion/IValueConverter.html"><abbr title="org.eclipse.xtext.conversion.IValueConverter">IValueConverter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/conversion/IValueConverter.java">(src)</a> allows to throw a 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/conversion/ValueConverterException.html"><abbr title="org.eclipse.xtext.conversion.ValueConverterException">ValueConverterException</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/conversion/ValueConverterException.java">(src)</a> if something went wrong.
							The exception is propagated as a syntax error by the parser or as a validation problem by the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/impl/ConcreteSyntaxValidator.html"><abbr title="org.eclipse.xtext.validation.impl.ConcreteSyntaxValidator">ConcreteSyntaxValidator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/impl/ConcreteSyntaxValidator.java">(src)</a> if the value cannot be converted 
							to a valid string. The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/conversion/impl/AbstractLexerBasedConverter.html"><abbr title="org.eclipse.xtext.conversion.impl.AbstractLexerBasedConverter">AbstractLexerBasedConverter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/conversion/impl/AbstractLexerBasedConverter.java">(src)</a> is useful when 
							implementing a custom value converter. If the converter needs to know about the rule that it currently 
							works with, it may implement the interface <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/conversion/IValueConverter.RuleSpecific.html"><abbr title="org.eclipse.xtext.conversion.IValueConverter$RuleSpecific">RuleSpecific</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/conversion/IValueConverter.java">(src)</a>. 
							The framework will set the rule such as the implementation may use it afterwards.
						</p>
						</section>
						<!--  section -->
						<section id="serialization" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Serialization</h2>
						<p>
							Serialization is the process of transforming an EMF model into its textual representation. Thereby, 
							serialization complements parsing and lexing.
						</p>
						<p>
							In Xtext, the process of serialization is split into the following steps:
						</p>
						<p>
							</p>
							<ol>
								<li>Validating the semantic model. This is optional, enabled by default, done by the 
								<a href="#concrete_syntax_validation">concrete syntax validator</a> and can be turned off in 
								     the <a href="#saveoptions">save options</a>.</li>
								<li>Matching the model elements with the grammar rules and creating a stream of tokens. 
								     This is done by the <a href="#parsetreeconstructor">parse tree constructor</a>.</li>
								<li>Associating comments with semantic objects. This is done by the
								<a href="#commentassociater">comment associator</a>.</li>
								<li>Associating existing nodes from the node model with tokens from the token stream.</li>
								<li><a href="#hiddentokenmerger">Merging existing white space</a> and line-wraps into the token stream.</li>
								<li>Adding further needed white space or replacing all white space using a 
								<a href="#formatting">formatter</a>.</li>
							</ol>
							<p>
						</p>
						<p>
							Serialization is invoked when calling 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/XtextResource.html">XtextResource.save(..)</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">(src)</a>. Furthermore, the
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/Serializer.html"><abbr title="org.eclipse.xtext.parsetree.reconstr.Serializer">Serializer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/Serializer.java">(src)</a> provides resource-independent 
							support for serialization. Another situation that triggers serialization is applying <a href="#quickfixes">quick fixes</a> 
							with semantic modifications. Serialization is <strong>not</strong> called when a textual editors contents is saved to disk.
						</p>
						<!-- subsection -->
						<section id="serializationcontract" style="padding-top: 68px; margin-top: -68px;">
						<h3>The Contract</h3>
						<p>
							The contract of serialization says that a model which is saved (serialized) to its textual representation 
							and then loaded (parsed) again yields a new model that is equal to the original model. Please be 
							aware that this does <strong>not</strong> imply, that loading a textual representation and serializing it back produces 
							identical textual representations. However, the serialization algorithm tries to restore as much information
							as possible. That is, if the parsed model was not modified in-memory, the serialized output will usually
							be equal to the previous input. Unfortunately, this cannot be ensured for each and every case. A use
							case where is is hardly possible, is shown in the following example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
MyRule:
  (xval+=ID | yval+=INT)*;</pre>
							<p>
						</p>
						<p>
							The given <strong>MyRule</strong> reads <strong>ID</strong>- and <strong>INT</strong>-elements which may occur in an arbitrary order in 
							the textual representation. However, when serializing the model all <strong>ID</strong>-elements will be written 
							first and then all <strong>INT</strong>-elements. If the order is important it can be preserved by storing all elements 
							in the same list - which may require wrapping the <strong>ID</strong>- and <strong>INT</strong>-elements into other objects.
						</p>
						</section>
						<!-- subsection -->
						<section id="_56" style="padding-top: 68px; margin-top: -68px;">
						<h3>Roles of the Semantic Model and the Node Model During Serialization</h3>
						<p>
							A serialized document represents the state of the semantic model. However, if there is a node model 
							available (i.e. the semantic model has been created by the parser), the serializer
							</p>
							<ul>
								<li>preserves <a href="#hiddentokenmerger">existing white spaces</a> from the node model.</li>
								<li>preserves <a href="#commentassociater">existing comments</a> from the node model.</li>
								<li>preserves the representation of cross-references: If a cross-referenced object can be 
								     identified by multiple names (i.e. scoping returns multiple 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html">IEObjectDescriptions</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a> for the 
								     same object), the serializer tries to keep the name that was used in the input file.</li>
								<li>preserves the representation of values: For values handled by the 
								<a href="#valueconverter">value converter</a>, the serializer checks whether the textual representation 
								    converted to a value equals the value from the semantic model. If that is true, the textual 
								    representation is kept.</li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="parsetreeconstructor" style="padding-top: 68px; margin-top: -68px;">
						<h3>Parse Tree Constructor</h3>
						<p>
							The parse tree constructor usually does not need to be customized since it is automatically derived 
							from the <a href="#grammarLanguage">Xtext Grammar</a>. However, it can be helpful to look into it to understand 
							its error messages and its runtime performance.
						</p>
						<p>
							For serialization to succeed, the parse tree constructor must be able to <strong>consume</strong> every non-transient 
							element of the to-be-serialized EMF model. To <strong>consume</strong> means, in this context, to write the element to 
							the textual representation of the model. This can turn out to be a not-so-easy-to-fulfill requirement, 
							since a grammar usually introduces implicit constraints to the EMF model as explained for the 
							<a href="#concrete_syntax_validation">concrete syntax validator</a>.
						</p>
						<p>
							If a model can not be serialized, an 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/XtextSerializationException.html"><abbr title="org.eclipse.xtext.parsetree.reconstr.XtextSerializationException">XtextSerializationException</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/XtextSerializationException.java">(src)</a> is thrown. 
							Possible reasons are listed below:
						</p>
						<p>
							</p>
							<ul>
								<li>A model element can not be consumed. This can have the following reasons/solutions:
								<ul>
									<li>The model element should not be stored in the model.</li>
									<li>The grammar needs an assignment which would consume the model element.</li>
									<li>The <a href="#transientvalues">transient value service</a> can be used to indicate that this model 
									      element should not be consumed.</li>
								</ul></li>
								<li>An assignment in the grammar has no corresponding model element. The default transient 
								    value service considers a model element to be transient if it is <strong>unset</strong> or <strong>equals</strong> its 
								    default value. However, the parse tree constructor may serialize default values if 
								    this is required by a grammar constraint to be able to serialize another model element.
								    The following solution may help to solve such a scenario:
								<ul>
									<li>A model element should be added to the model.</li>
									<li>The assignment in the grammar should be made optional.</li>
								</ul></li>
								<li>The type of the model element differs from the type in the grammar. The type of the model 
								    element must be identical to the return type of the grammar rule or the action's type. 
								    Subtypes are not allowed.</li>
								<li><a href="#valueconverter">Value conversion</a> fails. The value converter can indicate that a value 
								    is not serializable by throwing a <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/conversion/ValueConverterException.html"><abbr title="org.eclipse.xtext.conversion.ValueConverterException">ValueConverterException</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/conversion/ValueConverterException.java">(src)</a>.</li>
								<li>An enum literal is not allowed at this position. This can happen if the referenced enum 
								    rule only lists a subset of the literals of the actual enumeration.</li>
							</ul>
							<p>
						</p>
						<p>
							To understand error messages and performance issues of the parse tree constructor it is important to 
							know that it implements a backtracking algorithm. This basically means that the grammar is used to 
							specify the structure of a tree in which one path (from the root node to a leaf node) is a valid 
							serialization of a specific model. The parse tree constructor's task is to find this path - with the 
							condition, that all model elements are consumed while walking this path. The parse tree constructor's 
							strategy is to take the most promising branch first (the one that would consume the most model elements). 
							If the branch leads to a dead end (for example, if a model element needs to be consumed that is not 
							present in the model), the parse tree constructor goes back the path until a different branch can be 
							taken. This behavior has two consequences:
							</p>
							<ul>
								<li>In case of an error, the parse tree constructor has found only dead ends but no leaf. It cannot
								    tell which dead end is actually erroneous. Therefore, the error message lists dead ends of the 
								    longest paths, a fragment of their serialization and the reason why the path could not be continued 
								    at this point. The developer has to judge on his own which reason is the actual error.</li>
								<li>For reasons of performance, it is critical that the parse tree constructor takes the most promising
								    branch first and detects wrong branches early. One way to achieve this is to avoid having many rules 
								    which return the same type and which are called from within the same alternative in the grammar.</li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="saveoptions" style="padding-top: 68px; margin-top: -68px;">
						<h3>Options</h3>
						<p>
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/SaveOptions.html"><abbr title="org.eclipse.xtext.resource.SaveOptions">SaveOptions</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/SaveOptions.java">(src)</a> can be passed to 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/XtextResource.html">XtextResource.save(options)</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">(src)</a> and to 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/Serializer.html">Serializer.serialize(..)</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/Serializer.java">(src)</a>. 
							Available options are:
							</p>
							<ul>
								<li><strong>Formatting</strong>. Default: <code class="prettyprint lang-java">false</code>. If enabled, it is the <a href="#formatting">formatters</a> job to determine
								     all white space information during serialization. If disabled, the formatter only defines white
								     space 
								     information for the places in which no white space information can be preserved from the node model. 
								     E.g. When new model elements are inserted or there is no node model.</li>
								<li><strong>Validating</strong>. Default: <code class="prettyprint lang-java">true</code>: Run the <a href="#concrete_syntax_validation">concrete syntax validator</a> 
								    before serializing the model.</li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="commentassociater" style="padding-top: 68px; margin-top: -68px;">
						<h3>Preserving Comments from the Node Model</h3>
						<p>
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/ICommentAssociater.html"><abbr title="org.eclipse.xtext.parsetree.reconstr.ICommentAssociater">ICommentAssociater</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/ICommentAssociater.java">(src)</a> associates 
							comments with semantic objects. This is important in case an element in the semantic model is moved 
							to a different position and the model is serialized, one expects the comments to be moved to the 
							new position in the document as well.
						</p>
						<p>
							Which comment belongs to which semantic object is surely a very subjective issue. The 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/impl/DefaultCommentAssociater.html">default 
							implementation</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/impl/DefaultCommentAssociater.java">(src)</a>
							behaves as follows, but can be customized:
							</p>
							<ul>
								<li>If there is a semantic token before a comment and in the same line, the comment is associated 
								    with this token's semantic object.</li>
								<li>In all other cases, the comment is associated with the semantic object of the next following 
								    object.</li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="transientvalues" style="padding-top: 68px; margin-top: -68px;">
						<h3>Transient Values</h3>
						<p>
							Transient values are values or model elements which are not persisted (written to the textual 
							representation in the serialization phase). If a model contains model elements which can not be serialized 
							with the current grammar, it is critical to mark them transient using the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/ITransientValueService.html"><abbr title="org.eclipse.xtext.parsetree.reconstr.ITransientValueService">ITransientValueService</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/ITransientValueService.java">(src)</a>, or serialization 
							will fail. The default implementation marks all model elements transient, which are <code class="prettyprint lang-java">eStructuralFeature.isTransient()</code> 
							or not <code class="prettyprint lang-java">eObject.eIsSet(eStructuralFeature)</code>. By default, EMF returns <code class="prettyprint lang-java">false</code> for <code class="prettyprint lang-java">eIsSet(..)</code> if the 
							value equals the default value.
						</p>
						</section>
						<!-- subsection -->
						<section id="unassignedtext" style="padding-top: 68px; margin-top: -68px;">
						<h3>Unassigned Text</h3>
						<p>
							If there are calls of data type rules or terminal rules that do not reside in an assignment, 
							the serializer by default doesn't know which value to use for serialization.
						</p>
						<p>
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
PluralRule:
  'contents:' count=INT Plural;
  
terminal Plural: 
  'item' | 'items';</pre>
							<p>
						</p>
						<p>
							Valid models for this example are <strong>contents 1 item</strong> or <strong>contents 5 items</strong>. However, it is not stored 
							in the semantic model whether the keyword <strong>item</strong> or <strong>items</strong> has been parsed. This is due to the fact 
							that the rule call <strong>Plural</strong> is unassigned. However, the <a href="#parsetreeconstructor">parse tree constructor</a> 
							needs to decide which value to write during serialization. This decision can be be made by customizing 
							the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/ITokenSerializer.IValueSerializer.html">IValueSerializer.serializeUnassignedValue(EObject, RuleCall, INode)</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/ITokenSerializer.java">(src)</a>.
						</p>
						</section>
						<!-- subsection -->
						<section id="crossreferenceserializer" style="padding-top: 68px; margin-top: -68px;">
						<h3>Cross-Reference Serializer</h3>
						<p>
							The cross-reference serializer specifies which values are to be written to the textual representation 
							for cross-references. This behavior can be customized by implementing 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/ITokenSerializer.ICrossReferenceSerializer.html"><abbr title="org.eclipse.xtext.parsetree.reconstr.ITokenSerializer$ICrossReferenceSerializer">ICrossReferenceSerializer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/ITokenSerializer.java">(src)</a>. 
							The default implementation delegates to various other services such as the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IScopeProvider">IScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">(src)</a> or the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/linking/impl/LinkingHelper.html"><abbr title="org.eclipse.xtext.linking.impl.LinkingHelper">LinkingHelper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/linking/impl/LinkingHelper.java">(src)</a> each of which may be the better place for customization.
						</p>
						</section>
						<!-- subsection -->
						<section id="hiddentokenmerger" style="padding-top: 68px; margin-top: -68px;">
						<h3>Merge White Space</h3>
						<p>
							After the <a href="#parsetreeconstructor">parse tree constructor</a> has done its job to create a stream of 
							tokens which are to be written to the textual representation, and the <a href="#commentassociater">comment associator</a> 
							has done its work, existing white space form the node model is merged into the stream.
						</p>
						<p>
							The strategy is as follows: If two tokens follow each other in the stream and the corresponding 
							nodes in the node model follow each other as well, then the white space information in between is kept. 
							In all other cases it is up to the <a href="#formatting">formatter</a> to calculate new white space information.
						</p>
						</section>
						<!-- subsection -->
						<section id="tokenstream" style="padding-top: 68px; margin-top: -68px;">
						<h3>Token Stream</h3>
						<p>
							The <a href="#parsetreeconstructor">parse tree constructor</a> and the <a href="#formatting">formatter</a> use an 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/ITokenStream.html"><abbr title="org.eclipse.xtext.parsetree.reconstr.ITokenStream">ITokenStream</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/ITokenStream.java">(src)</a> for their output, and the 
							latter for its input as well. This allows for chaining the two components. Token streams can be converted to a <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html"><abbr title="java.lang.String">String</abbr></a> 
							using the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/impl/TokenStringBuffer.html"><abbr title="org.eclipse.xtext.parsetree.reconstr.impl.TokenStringBuffer">TokenStringBuffer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/impl/TokenStringBuffer.java">(src)</a> and to 
							a <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/Writer.html"><abbr title="java.io.Writer">Writer</abbr></a> using the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/impl/WriterTokenStream.html"><abbr title="org.eclipse.xtext.parsetree.reconstr.impl.WriterTokenStream">WriterTokenStream</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/impl/WriterTokenStream.java">(src)</a>.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public interface ITokenStream {

  void flush() throws IOException;
  void writeHidden(EObject grammarElement, String value);
  void writeSemantic(EObject grammarElement, String value);
}</pre>
							<p>
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="formatting" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Formatting (Pretty Printing)</h2>
						<p>
							A formatter can be implemented via the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/formatting/IFormatter.html"><abbr title="org.eclipse.xtext.formatting.IFormatter">IFormatter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/formatting/IFormatter.java">(src)</a> 
							service. Technically speaking, a formatter is a <a href="#tokenstream">Token Stream</a> which 
							inserts/removes/modifies hidden tokens (white space, line-breaks, comments).
						</p>
						<p>
							The formatter is invoked during the <a href="#serialization">serialization phase</a> and when the user triggers 
							formatting in the editor (for example, using the CTRL+SHIFT+F shortcut).
						</p>
						<p>
							Xtext ships with two formatters:
							</p>
							<ul>
								<li>The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/formatting/impl/OneWhitespaceFormatter.html"><abbr title="org.eclipse.xtext.formatting.impl.OneWhitespaceFormatter">OneWhitespaceFormatter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/formatting/impl/OneWhitespaceFormatter.java">(src)</a> simply writes one 
								    white space between all tokens.</li>
								<li>The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/formatting/impl/AbstractDeclarativeFormatter.html"><abbr title="org.eclipse.xtext.formatting.impl.AbstractDeclarativeFormatter">AbstractDeclarativeFormatter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/formatting/impl/AbstractDeclarativeFormatter.java">(src)</a> allows advanced 
								    configuration using a <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/formatting/impl/FormattingConfig.html"><abbr title="org.eclipse.xtext.formatting.impl.FormattingConfig">FormattingConfig</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/formatting/impl/FormattingConfig.java">(src)</a>. Both are explained
								    below.</li>
							</ul>
							<p>
						</p>
						<p>
							A declarative formatter can be implemented by subclassing 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/formatting/impl/AbstractDeclarativeFormatter.html"><abbr title="org.eclipse.xtext.formatting.impl.AbstractDeclarativeFormatter">AbstractDeclarativeFormatter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/formatting/impl/AbstractDeclarativeFormatter.java">(src)</a>, as shown in 
							the following example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class ExampleFormatter extends AbstractDeclarativeFormatter {

  @Override
  protected void configureFormatting(FormattingConfig c) {
    ExampleLanguageGrammarAccess f = getGrammarAccess();
    
    c.setAutoLinewrap(120);
    
    // find common keywords an specify formatting for them
    for (Pair&lt;Keyword, Keyword&gt; pair : f.findKeywordPairs("(", ")")) {
      c.setNoSpace().after(pair.getFirst());
      c.setNoSpace().before(pair.getSecond());
    }
    for (Keyword comma : f.findKeywords(",")) {
      c.setNoSpace().before(comma);
    }

    // formatting for grammar rule Line
    c.setLinewrap(2).after(f.getLineAccess().getSemicolonKeyword_1());
    c.setNoSpace().before(f.getLineAccess().getSemicolonKeyword_1());
    
    // formatting for grammar rule TestIndentation
    c.setIndentationIncrement().after(
        f.getTestIndentationAccess().getLeftCurlyBracketKeyword_1());
    c.setIndentationDecrement().before(
        f.getTestIndentationAccess().getRightCurlyBracketKeyword_3());
    c.setLinewrap().after(
        f.getTestIndentationAccess().getLeftCurlyBracketKeyword_1());
    c.setLinewrap().after(
        f.getTestIndentationAccess().getRightCurlyBracketKeyword_3());
    
    // formatting for grammar rule Param
    c.setNoLinewrap().around(f.getParamAccess().getColonKeyword_1());
    c.setNoSpace().around(f.getParamAccess().getColonKeyword_1());
    
    // formatting for Comments 
    cfg.setLinewrap(0, 1, 2).before(g.getSL_COMMENTRule());
    cfg.setLinewrap(0, 1, 2).before(g.getML_COMMENTRule());
    cfg.setLinewrap(0, 1, 1).after(g.getML_COMMENTRule());
  }
}</pre>
							<p>
						</p>
						<p>
							The formatter has to implement the method <code class="prettyprint lang-java">configureFormatting(...)</code> which declaratively sets up 
							a <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/formatting/impl/FormattingConfig.html"><abbr title="org.eclipse.xtext.formatting.impl.FormattingConfig">FormattingConfig</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/formatting/impl/FormattingConfig.java">(src)</a>.
						</p>
						<p>
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/formatting/impl/FormattingConfig.html"><abbr title="org.eclipse.xtext.formatting.impl.FormattingConfig">FormattingConfig</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/formatting/impl/FormattingConfig.java">(src)</a> consist of general 
							settings and a set of formatting instructions:
						</p>
						<!-- subsection -->
						<section id="_57" style="padding-top: 68px; margin-top: -68px;">
						<h3>General FormattingConfig Settings</h3>
						<p>
							<code class="prettyprint lang-java">setAutoLinewrap(int)</code> defines the amount of characters after which a line-break should 
							be dynamically inserted between two tokens. The instructions <code class="prettyprint lang-java">setNoLinewrap().???()</code>, 
							<code class="prettyprint lang-java">setNoSpace().???()</code> and <code class="prettyprint lang-java">setSpace(space).???()</code> suppress this behavior locally. 
							The default is 80.
						</p>
						</section>
						<!-- subsection -->
						<section id="_58" style="padding-top: 68px; margin-top: -68px;">
						<h3>FormattingConfig Instructions</h3>
						<p>
							Per default, the declarative formatter inserts one white space between two 
							tokens. Instructions can be used to specify a different behavior. They consist of two parts: <strong>When</strong> 
							to apply the instruction and <strong>what</strong> to do.
						</p>
						<p>
							To understand <strong>when</strong> an instruction is applied think of a stream of tokens whereas each token is 
							associated with the corresponding grammar element. The instructions are matched against these grammar 
							elements. The following matching criteria exist:
							</p>
							<ul>
								<li><code class="prettyprint lang-java">after(element)</code>: The instruction is applied after the grammar element has been matched. 
								    For example, if your grammar uses the keyword <code class="prettyprint lang-xtext">";"</code> to end lines, this can instruct the formatter 
								    to insert a line break after the semicolon.</li>
								<li><code class="prettyprint lang-java">before(element)</code>: The instruction is executed before the matched element. For example, if your 
								    grammar contains lists which separate their values with the keyword <code class="prettyprint lang-xtext">","</code>, you can instruct the 
								    formatter to suppress the white space before the comma.</li>
								<li><code class="prettyprint lang-java">around(element)</code>: This is the same as <code class="prettyprint lang-java">before(element)</code> combined with <code class="prettyprint lang-java">after(element)</code>.</li>
								<li><code class="prettyprint lang-java">between(left, right)</code>: This matches if <strong>left</strong> directly follows <strong>right</strong> in the document. 
								    There may be no other tokens in between <strong>left</strong> and <strong>right</strong>.</li>
								<li><code class="prettyprint lang-java">bounds(left, right)</code>: This is the same as <code class="prettyprint lang-java">after(left)</code> combined with  <code class="prettyprint lang-java">before(right)</code>.</li>
								<li><code class="prettyprint lang-java">range(start, end)</code>: The rule is enabled when <strong>start</strong> is matched, and disabled when <strong>end</strong> 
								    is matched. Thereby, the rule is active for the complete region which is surrounded by <strong>start</strong> 
								    and <strong>end</strong>.</li>
							</ul>
							<p>
						</p>
						<p>
							The term <strong>tokens</strong> is used slightly different here compared to the parser/lexer. Here, a token is a 
							keyword or the string that is matched by a terminal rule, data type rule or cross-reference. In the 
							terminology of the lexer a data type rule can match a composition of multiple tokens.
						</p>
						<p>
							The parameter <strong>element</strong> can be a grammar's <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/AbstractElement.html"><abbr title="org.eclipse.xtext.AbstractElement">AbstractElement</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/emf-gen/org/eclipse/xtext/AbstractElement.java">(src)</a> or a grammar's 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/AbstractRule.html"><abbr title="org.eclipse.xtext.AbstractRule">AbstractRule</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/emf-gen/org/eclipse/xtext/AbstractRule.java">(src)</a>. All grammar 
							rules and almost all abstract elements can be matched. This includes rule calls, parser rules, groups 
							and alternatives. The semantic of <code class="prettyprint lang-java">before(element)</code>, <code class="prettyprint lang-java">after(element)</code>, etc. for rule calls and parser rules is 
							identical to when the parser would "pass" this part of the grammar. The stack of called rules is taken 
							into account. The following abstract elements can <strong>not</strong> have assigned formatting instructions:
							</p>
							<ul>
								<li>Actions. E.g. <code class="prettyprint lang-xtext">{MyAction}</code> or <code class="prettyprint lang-xtext">{MyAction.myFeature=current}</code>.</li>
								<li>Grammar elements nested in data type rules. This is due to to the fact that tokens matched 
								    by a data type rule are treated as atomic by the serializer. To format these tokens, please 
								    implement a <a href="#valueconverter">ValueConverter</a>.</li>
								<li>Grammar elements nested in <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/CrossReference.html"><abbr title="org.eclipse.xtext.CrossReference">CrossReference</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/emf-gen/org/eclipse/xtext/CrossReference.java">(src)</a>.</li>
							</ul>
							<p>
						</p>
						<p>
							After having explained how rules can be activated, this is what they can do:
							</p>
							<ul>
								<li><code class="prettyprint lang-java">setIndentationIncrement()</code> increments indentation by one unit at this position. Whether 
								    one unit consists of one tab-character or spaces is defined by 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/formatting/IIndentationInformation.html"><abbr title="org.eclipse.xtext.formatting.IIndentationInformation">IIndentationInformation</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/formatting/IIndentationInformation.java">(src)</a>. The default implementation 
								    consults Eclipse's <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/preference/IPreferenceStore.html"><abbr title="org.eclipse.jface.preference.IPreferenceStore">IPreferenceStore</abbr></a>.</li>
								<li><code class="prettyprint lang-java">setIndentationDecrement()</code> decrements indentation by one unit.</li>
								<li><code class="prettyprint lang-java">setLinewrap()</code>: Inserts a line-wrap at this position.</li>
								<li><code class="prettyprint lang-java">setLinewrap(int count)</code>: Inserts <strong>count</strong> numbers of line-wrap at this position.</li>
								<li><code class="prettyprint lang-java">setLinewrap(int min, int def, int max)</code>: If the amount of line-wraps that have been 
								    at this position before formatting can be determined (i.e. when a node model is present), 
								    then the amount of of line-wraps is adjusted to be within the interval <strong>min</strong>, <strong>max</strong> 
								    and is then reused. In all other cases <strong>def</strong> line-wraps are inserted. Example: 
								<code class="prettyprint lang-java">setLinewrap(0, 0, 1)</code> will preserve existing line-wraps, but won't allow more than one 
								    line-wrap between two tokens.</li>
								<li><code class="prettyprint lang-java">setNoLinewrap()</code>: Suppresses automatic line wrap, which may occur when the line's length 
								    exceeds the defined limit.</li>
								<li><code class="prettyprint lang-java">setSpace(String space)</code>: Inserts the string <strong>space</strong> at this position. If you use this 
								    to insert something else than white space, tabs or newlines, a small puppy will die somewhere 
								    in this world.</li>
								<li><code class="prettyprint lang-java">setNoSpace()</code>: Suppresses the white space between tokens at this position. Be aware that 
								    between some tokens a white space is required to maintain a valid concrete syntax.</li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_59" style="padding-top: 68px; margin-top: -68px;">
						<h3>Grammar Element Finders</h3>
						<p>
							Sometimes, if a grammar contains many similar elements for which the same formatting instructions ought 
							to apply, it can be tedious to specify them for each grammar element individually. The 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/IGrammarAccess.html"><abbr title="org.eclipse.xtext.IGrammarAccess">IGrammarAccess</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/IGrammarAccess.java">(src)</a> provides convenience methods for this. The 
							find methods are available for the grammar and for each parser rule.
						</p>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-java">findKeywords(String... keywords)</code> returns all keywords that equal one of the parameters.</li>
								<li><code class="prettyprint lang-java">findKeywordPairs(String leftKw, String rightKw)</code>: returns tuples of keywords from the same 
								    grammar rule. Pairs are matched nested and sequentially.  Example: for <code class="prettyprint lang-xtext">Rule: '(' name=ID ('(' foo=ID ')') ')' | '(' bar=ID ')'</code> 
								<code class="prettyprint lang-java">findKeywordPairs("(", ")")</code> returns three pairs.</li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="fragmentProvider" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Fragment Provider (Referencing Xtext Models From Other EMF Artifacts)</h2>
						<p>
							Although inter-Xtext linking is not done by URIs, you may want to be able to reference your <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> 
							from non-Xtext models. In those cases URIs are used, which are made up of a part identifying the resource 
							and a second part that points to an object. 
							Each <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> contained in a resource can be identified by a so called <strong>fragment</strong>.
						</p>
						<p>
							A fragment is a part of an EMF URI and needs to be unique per resource.
						</p>
						<p>
							The generic resource shipped with EMF provides a generic path-like computation of fragments. These 
							fragment paths are unique by default and do not have to be serialized. On the other hand, they can be 
							easily broken by reordering the elements in a resource.
						</p>
						<p>
							With an XMI or other binary-like serialization it is also common and possible to use UUIDs. UUIDs 
							are usually binary and technical, so you don't want to deal with them in human readable representations.
						</p>
						<p>
							However with a textual concrete syntax we want to be able to compute fragments out of the human readable 
							information. We don't want to force people to use UUIDs (i.e. synthetic identifiers) or fragile, relative, generic 
							paths in order to refer to <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html">EObjects</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>.
						</p>
						<p>
							Therefore one can contribute an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IFragmentProvider.html"><abbr title="org.eclipse.xtext.resource.IFragmentProvider">IFragmentProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IFragmentProvider.java">(src)</a> 
							per language. It has two methods: <code class="prettyprint lang-java">getFragment(EObject, Fallback)</code> to calculate the fragment of an 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> and <code class="prettyprint lang-java">getEObject(Resource, String, Fallback)</code> to go the opposite direction. 
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IFragmentProvider.Fallback.html"><abbr title="org.eclipse.xtext.resource.IFragmentProvider$Fallback">Fallback</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IFragmentProvider.java">(src)</a> interface allows to delegate to the default strategy - 
							which usually uses the fragment paths described above.
						</p>
						<p>
							The following snippet shows how to use qualified names as fragments:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public QualifiedNameFragmentProvider implements IFragmentProvider {

  @Inject
  private IQualifiedNameProvider qualifiedNameProvider;

  public String getFragment(EObject obj, Fallback fallback) {
    String qName = qualifiedNameProvider.getQualifiedName(obj);
    return qName != null ? qName : fallback.getFragment(obj);
  }

  public EObject getEObject(Resource resource, 
                            String fragment, 
                            Fallback fallback) {
    if (fragment != null) {
      Iterator&lt;EObject&gt; i = EcoreUtil.getAllContents(resource, false);
      while(i.hasNext()) {
        EObject eObject = i.next();
        String candidateFragment = (eObject.eIsProxy()) 
            ? ((InternalEObject) eObject).eProxyURI().fragment()
            : getFragment(eObject, fallback);
        if (fragment.equals(candidateFragment)) 
          return eObject;
      }
    }
    return fallback.getEObject(fragment);
  }
}</pre>
							<p>
						</p>
						<p>
							For performance reasons it is usually a good idea to navigate the resource based on the fragment 
							information instead of traversing it completely. If you know that your fragment is computed from 
							qualified names and your model contains something like <strong>NamedElements</strong>, you should split your fragment
							into those parts and query the root elements, the children of the best match and so on.
						</p>
						<p>
							Furthermore it's a good idea to have some kind of conflict resolution strategy to be able to distinguish
							between equally named elements that actually are different, e.g. properties may have the very same qualified
							name as entities.
						</p>
						</section>
						<!--  section -->
						<section id="encoding" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Encoding in Xtext</h2>
						<p>
							Encoding, aka <strong>character set</strong>, describes the way characters are encoded into bytes and vice versa. 
							Famous standard encodings are <strong>UTF-8</strong> or <strong>ISO-8859-1</strong>. The list of available encodings can be determined
							by calling <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/nio/charset/Charset.html">Charset.availableCharsets()</a>. There is also a list of encodings and their 
							canonical Java names in the <a href="http://download.oracle.com/javase/1.5.0/docs/guide/intl/encoding.doc.html">API docs</a>.
						</p>
						<p>
							Unfortunately, each platform and/or spoken language tends to define its own native encoding, 
							e.g. <strong>Cp1258</strong> on Windows in Vietnamese or <strong>MacIceland</strong> on Mac OS X in Icelandic.
						</p>
						<p>
							In an Eclipse workspace, files, folders, projects can have individual encodings, which are stored
							in the hidden file <strong>.settings/org.eclipse.core.resources.prefs</strong> in each project. If a resource does not have an 
							explicit encoding, it inherits the one from its parent recursively. Eclipse chooses the native
							platform encoding as the default for the workspace root. You can change the default workspace 
							encoding in the Eclipse preferences <strong>Preferences-&gt;Workspace-&gt;Default text encoding</strong>. If you develop on
							different platforms, you should consider choosing an explicit common encoding for your text or code
							files, especially if you use special characters.
						</p>
						<p>
							While Eclipse allows to define and inspect the encoding of a file, your file system usually doesn't. 
							Given an arbitrary text file there is no general strategy to tell how it was encoded. If you deploy 
							an Eclipse project as a jar (even a plug-in), any encoding information not stored in the file itself 
							is lost, too. Some languages define the encoding of a file explicitly, as in the first processing 
							instruction of an XML file. Most languages don't. Others imply a fixed encoding or offer enhanced 
							syntax for character literals, e.g. the unicode escape sequences <strong>\uXXXX</strong> in Java.
						</p>
						<p>
							As Xtext is about textual modeling, it allows to tweak the encoding in various places.
						</p>
						<!-- subsection -->
						<section id="_60" style="padding-top: 68px; margin-top: -68px;">
						<h3>Encoding at Language Design Time</h3>
						<p>
							The plug-ins created by the <strong>New Xtext Project</strong> wizard are by default encoded in the workspace's standard
							encoding. The same holds for all files that Xtext generates in there.
							If you want to change that, e.g. because your grammar uses/allows special characters, you should manually 
							set the encoding in the properties of these projects after their creation. Do this before 
							adding special characters to your grammar or at least make sure the grammar reads correctly after the 
							encoding change. To tell the Xtext generator to generate files in the same encoding, set the encoding 
							property in the workflow next to your grammar, e.g.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
Generator {
  encoding ="UTF-8"
  ...</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_61" style="padding-top: 68px; margin-top: -68px;">
						<h3>Encoding at Language Runtime</h3>
						<p>
							As each language could handle the encoding problem differently, Xtext offers a service here. 
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parser/IEncodingProvider.html"><abbr title="org.eclipse.xtext.parser.IEncodingProvider">IEncodingProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parser/IEncodingProvider.java">(src)</a> has a single method 
							<code class="prettyprint lang-java">getEncoding(URI)</code> to define the encoding of the resource with the given URI. Users can implement 
							their own strategy but keep in mind that this is not intended to be a long running method. If the 
							encoding is stored within the model file itself, it should be extractable in an easy way, like from 
							the first line in an XML file. The default implementation returns the default Java character set 
							in the runtime scenario.
						</p>
						<p>
							In the UI scenario, when there is a workspace, users will expect the encoding of the model files 
							to be settable the same way as for other files in the workspace. The default implementation 
							of the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parser/IEncodingProvider.html"><abbr title="org.eclipse.xtext.parser.IEncodingProvider">IEncodingProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parser/IEncodingProvider.java">(src)</a> in the UI scenario therefore returns 
							the file's workspace encoding for files in the workspace and delegates to the runtime implementation 
							for all other resources, e.g. models in a jar or from a deployed plug-in. Keep in mind that you are 
							going to loose the workspace encoding information as soon as you leave this workspace, e.g. deploy your 
							project.
						</p>
						<p>
							Unless you want to enforce a uniform encoding for all models of your language, we advise to 
							override the runtime service only. It is bound in the runtime module using the binding annotation 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/service/DispatchingProvider.Runtime.html">@Runtime</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/service/DispatchingProvider.java">(src)</a>:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Override
public void configureRuntimeEncodingProvider(Binder binder) {
    binder.bind(IEncodingProvider.class)
          .annotatedWith(DispatchingProvider.Runtime.class)
          .to(MyEncodingProvider.class);
}</pre>
							<p>
						</p>
						<p>
							For the uniform encoding, bind the plain <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parser/IEncodingProvider.html"><abbr title="org.eclipse.xtext.parser.IEncodingProvider">IEncodingProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parser/IEncodingProvider.java">(src)</a> to the same
							implementation in both modules:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Override
public Class&lt;? extends IEncodingProvider&gt; bindIEncodingProvider() {
    return MyEncodingProvider.class;
}</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_62" style="padding-top: 68px; margin-top: -68px;">
						<h3>Encoding of an XtextResource</h3>
						<p>
							An <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/XtextResource.html"><abbr title="org.eclipse.xtext.resource.XtextResource">XtextResource</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">(src)</a> uses the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parser/IEncodingProvider.html"><abbr title="org.eclipse.xtext.parser.IEncodingProvider">IEncodingProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parser/IEncodingProvider.java">(src)</a> 
							of your language by default. You can override that by passing an option on load and save, e.g.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
Map&lt;?,?&gt; options = new HashMap();
options.put(XtextResource.OPTION_ENCODING, "UTF-8");
myXtextResource.load(options);

options.put(XtextResource.OPTION_ENCODING, "ISO-8859-1");
myXtextResource.save(options);</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_63" style="padding-top: 68px; margin-top: -68px;">
						<h3>Encoding in New Model Projects</h3>
						<p>
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/generator/projectWizard/SimpleProjectWizardFragment.html"><abbr title="org.eclipse.xtext.ui.generator.projectWizard.SimpleProjectWizardFragment">SimpleProjectWizardFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/ui/generator/projectWizard/SimpleProjectWizardFragment.java">(src)</a> 
							generates a wizard that clients of your language can use to create model 
							projects. This wizard expects its templates to be in the encoding of the Generator that created it 
							(see above). As for every new project wizard, its output will be encoded in the default encoding of the 
							target workspace. If your language enforces a special encoding that ignores the workspace settings, you'll
							have to make sure that your wizard uses the right encoding by yourself.
						</p>
						</section>
						<!-- subsection -->
						<section id="_64" style="padding-top: 68px; margin-top: -68px;">
						<h3>Encoding of Xtext Source Code</h3>
						<p>
							The source code of the Xtext framework itself is completely encoded in <strong>ISO 8859-1</strong>, which is necessary 
							to make the Xpand templates work everywhere (they use french quotation markup). That encoding is hard 
							coded into the Xtext generator code. You are likely never going to change that.
						</p>
						</section>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="ide_concepts" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							IDE Concepts
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							For the following part we will refer to the <a href="#statemachine">state machine example</a> to describe the different
							aspects of Xtext's UI features.
						</p>
						<!--  section -->
						<section id="labelProvider" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Label Provider</h2>
						<p>
							There are various places in the UI in which model elements have to be presented to the user: In the 
							<a href="#outline">outline view</a>, in <a href="#hyperlinking">hyperlinks</a>, in <a href="#contentAssist">content proposals</a>, 
							find dialogs etc. Xtext allows to customize each of these appearances by individual implementation of
							the <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/viewers/ILabelProvider.html"><abbr title="org.eclipse.jface.viewers.ILabelProvider">ILabelProvider</abbr></a> interface.
						</p>
						<p>
							An <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/viewers/ILabelProvider.html"><abbr title="org.eclipse.jface.viewers.ILabelProvider">ILabelProvider</abbr></a> has two methods: <code class="prettyprint lang-java">getText(Object)</code> returns
							the text in an object's label, while <code class="prettyprint lang-java">getImage(Object)</code> returns the icon. In addition, the 
							Eclipse UI framework offers the <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/viewers/DelegatingStyledCellLabelProvider.IStyledLabelProvider.html"><abbr title="org.eclipse.jface.viewers.DelegatingStyledCellLabelProvider$IStyledLabelProvider">IStyledLabelProvider</abbr></a>, 
							which returns a <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/viewers/StyledString.html"><abbr title="org.eclipse.jface.viewers.StyledString">StyledString</abbr></a> (i.e. with custom fonts, colors etc.) in the 
							<code class="prettyprint lang-java">getStyledText(Object)</code> method.
						</p>
						<p>
							Almost all label providers in the Xtext framework inherit from the base class 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/label/AbstractLabelProvider.html"><abbr title="org.eclipse.xtext.ui.label.AbstractLabelProvider">AbstractLabelProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/label/AbstractLabelProvider.java">(src)</a> which unifies both 
							approaches. Subclasses can either return a styled string or a string in the <code class="prettyprint lang-java">doGetText(Object)</code> method. 
							The framework will automatically convert it to a styled text (with default styles) or to a plain text 
							in the respective methods.
						</p>
						<p>
							Dealing with images can be cumbersome, too, as image handles tend to be scarce system resources. 
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/label/AbstractLabelProvider.html"><abbr title="org.eclipse.xtext.ui.label.AbstractLabelProvider">AbstractLabelProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/label/AbstractLabelProvider.java">(src)</a> helps you managing 
							the images: In your implementation of <code class="prettyprint lang-java">doGetImage(Object)</code> you can as well return an 
							<a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/graphics/Image.html"><abbr title="org.eclipse.swt.graphics.Image">Image</abbr></a>, an <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/resource/ImageDescriptor.html"><abbr title="org.eclipse.jface.resource.ImageDescriptor">ImageDescriptor</abbr></a> or a string, 
							representing a path in the <strong>icons/</strong> folder of the containing plug-in. This path is actually 
							configurable by Google Guice. Have a look at the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/PluginImageHelper.html"><abbr title="org.eclipse.xtext.ui.PluginImageHelper">PluginImageHelper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/PluginImageHelper.java">(src)</a> to learn about the 
							customizing possibilities.
						</p>
						<p>
							If you have the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/generator/labeling/LabelProviderFragment.html"><abbr title="org.eclipse.xtext.ui.generator.labeling.LabelProviderFragment">LabelProviderFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/ui/generator/labeling/LabelProviderFragment.java">(src)</a> in the 
							list of generator fragments in the MWE2 workflow for your language, it will automatically create 
							stubs and bindings for an <a href="#EObjectLabelProvider"><code class="prettyprint lang-xtend">{MyLang}EObjectLabelProvider</code></a> and an 
							<a href="#DescriptionLabelProvider"><code class="prettyprint lang-xtend">{MyLang}DescriptionLabelProvider</code></a> which you can implement manually.
						</p>
						<!-- subsection -->
						<section id="EObjectLabelProvider" style="padding-top: 68px; margin-top: -68px;">
						<h3>Label Providers For EObjects</h3>
						<p>
							The EObject label provider refers to actually loaded and thereby available model elements. 
							By default, Xtext binds the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/label/DefaultEObjectLabelProvider.html"><abbr title="org.eclipse.xtext.ui.label.DefaultEObjectLabelProvider">DefaultEObjectLabelProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/label/DefaultEObjectLabelProvider.java">(src)</a> to all use cases,
							but you can change the binding individually for the Outline, Content Assist or other places. For that purpose, 
							there is a so called <strong>binding annotation</strong> for each use case. For example, to use a custom 
							<strong>MyContentAssistLabelProvider</strong> to display elements in the content assist, you have to override 
							<code class="prettyprint lang-java">configureContentProposalLabelProvider(..)</code> in your language's UI module:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Override
public void configureContentProposalLabelProvider(Binder binder) {
  binder.bind(ILabelProvider.class)
    .annotatedWith(ContentProposalLabelProvider.class)
    .to(MyContentAssistLabelProvider.class);
}</pre>
							<p>
						</p>
						<p>
							If your grammar uses an imported <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a>, there may be an existing <strong>edit</strong>-plug-in generated 
							by EMF that also provides label providers for model elements. To use this as a fallback, your label 
							provider should call the constructor with the 
							delegate parameter and use dependency injection for its initialization, e.g.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class MyLabelProvider {
  @Inject  
  public MyLabelProvider(AdapterFactoryLabelProvider delegate) {
    super(delegate);
  }
}</pre>
							<p>
						</p>
						<!-- subsection -->
						<section id="DefaultEObjectLabelProvider" style="padding-top: 68px; margin-top: -68px;">
						<h4>DefaultEObjectLabelProvider</h4>
						<p>
							The default implementation of the <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/viewers/ILabelProvider.html"><abbr title="org.eclipse.jface.viewers.ILabelProvider">ILabelProvider</abbr></a> interface utilizes 
							the polymorphic dispatcher idiom to implement an external visitor as the requirements of the label provider 
							are kind of a best match for this pattern. It boils down to the fact that the only thing you need to do 
							is to implement a method that matches a specific signature. It either provides a image filename or the 
							text to be used to represent your model element. Have a look at following example to get a more detailed 
							idea about the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/label/DefaultEObjectLabelProvider.html"><abbr title="org.eclipse.xtext.ui.label.DefaultEObjectLabelProvider">DefaultEObjectLabelProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/label/DefaultEObjectLabelProvider.java">(src)</a>.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class SecretCompartmentsLabelProvider 
    extends DefaultLabelProvider {

  public String text(Event event) {
    return event.getName() + " (" + event.getCode() + ")";
  }
  
  public String image(Event event) {
    return "event.gif";
  }
  
  public String image(State state) {
    return "state.gif";
  }
}</pre>
							<p>
						</p>
						<p>
							What is especially nice about the default implementation is the actual reason for its class 
							name: It provides very reasonable defaults. To compute the label for a certain model element, it will 
							at first have a look for an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EAttribute.html"><abbr title="org.eclipse.emf.ecore.EAttribute">EAttribute</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EAttribute.java">(src)</a> <strong>name</strong> and try to use this one.
							If it cannot find such a feature, it will try to use the first feature, that can be used best as a label. 
							At worst it will return the class name of the model element, which is kind of unlikely to happen.
						</p>
						<p>
							You can a also customize error handling by overriding the methods <code class="prettyprint lang-java">handleTextError()</code> or 
							<code class="prettyprint lang-java">handleImageError()</code>.
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="DescriptionLabelProvider" style="padding-top: 68px; margin-top: -68px;">
						<h3>Label Providers For Index Entries</h3>
						<p>
							Xtext maintains an index of all model elements to allow quick searching and linking without loading 
							the referenced resource (see the chapter on <a href="#index_based">index-based scopes</a> for details). The 
							elements from this index also appear in some UI contexts, e.g. in the <strong>Find model elements</strong> dialog or 
							in the <strong>Find references</strong> view. For reasons of scalability, the UI should not automatically load 
							resources, so we need another implementation of a label provider that works with the elements from the 
							index, i.e. <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription">IResourceDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a>, <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html"><abbr title="org.eclipse.xtext.resource.IEObjectDescription">IEObjectDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a>, and 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IReferenceDescription.html"><abbr title="org.eclipse.xtext.resource.IReferenceDescription">IReferenceDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IReferenceDescription.java">(src)</a>.
						</p>
						<p>
							The default implementation of this service is the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/label/DefaultDescriptionLabelProvider.html"><abbr title="org.eclipse.xtext.ui.label.DefaultDescriptionLabelProvider">DefaultDescriptionLabelProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/label/DefaultDescriptionLabelProvider.java">(src)</a>. It employs the 
							same polymorphic dispatch mechanism as the <a href="#DefaultEObjectLabelProvider">DefaultEObjectLabelProvider</a>. 
							The default text of an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html"><abbr title="org.eclipse.xtext.resource.IEObjectDescription">IEObjectDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a> is its indexed name. 
							The image is resolved by dispatching to <code class="prettyprint lang-java">image(EClass)</code> with the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a> of the described object. 
							This is likely the only method you want to override. Instances of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription">IResourceDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a> 
							will be represented with their path and the icon registered for your language's editor.
						</p>
						<p>
							To have a custom description label provider, make sure it is bound in your UI module:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public void configureResourceUIServiceLabelProvider(Binder binder) {
  binder.bind(ILabelProvider.class)
    .annotatedWith(ResourceServiceDescriptionLabelProvider.class)
    .to(MyCustomDefaultDescriptionLabelProvider.class);
}</pre>
							<p>
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="contentAssist" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Content Assist</h2>
						<p>
							The Xtext generator, amongst other things, generates the following two content assist related artifacts:
						</p>
						<p>
							</p>
							<ul>
								<li>An abstract proposal provider class named <code class="prettyprint lang-java">Abstract{MyLang}ProposalProvider</code> generated 
								    into the <strong>src-gen</strong> folder within the <strong>ui</strong> project, and</li>
								<li>a concrete subclass in the <strong>src</strong>-folder of the <strong>ui</strong> project called 
								<code class="prettyprint lang-java">{MyLang}ProposalProvider</code></li>
							</ul>
							<p>
						</p>
						<p>
							First we will investigate the generated <code class="prettyprint lang-java">Abstract{MyLang}ProposalProvider</code> with methods that look like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public void complete{TypeName}_{FeatureName}(
  EObject model, Assignment assignment, 
  ContentAssistContext context, ICompletionProposalAcceptor acceptor) {
  // clients may override
}

public void complete_{RuleName}(
  EObject model, RuleCall ruleCall, 
  ContentAssistContext context, ICompletionProposalAcceptor acceptor) {
  // clients may override
}</pre>
							<p>
						</p>
						<p>
							The snippet above indicates that the generated class contains a <strong>complete*</strong>-method 
							for each assigned feature in the grammar and for each rule. The braces in the snippet are place-holders that should 
							give a clue about the naming scheme used to create the various entry points for implementors. The generated 
							proposal provider falls back to some default behavior for cross-references and keywords. Furthermore 
							it inherits the logic that was introduced in grammars that were mixed into the current language.
						</p>
						<p>
							Clients who want to customize the behavior may override the methods from the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/contentassist/AbstractJavaBasedContentProposalProvider.html"><abbr title="org.eclipse.xtext.ui.editor.contentassist.AbstractJavaBasedContentProposalProvider">AbstractJavaBasedContentProposalProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/contentassist/AbstractJavaBasedContentProposalProvider.java">(src)</a> or introduce new
							 methods with a specialized first parameter. The framework inspects the type of the model object and 
							dispatches method calls to the most concrete implementation, that can be found.
						</p>
						<p>
							It is important to know, that for a given offset in a model file, many possible grammar elements exist. 
							The framework dispatches to the method declarations for any valid element. That means, that a bunch 
							of <strong>complete*</strong> methods may be called.
						</p>
						<p>
							To provide a dummy proposal for the code of an <code class="prettyprint lang-fowlerexample">event</code> instance, you may introduce a specialization 
							of the generated method and implement it as follows. This will propose <code class="prettyprint lang-fowlerexample">ZonkID</code> for an 
							event with the name <code class="prettyprint lang-fowlerexample">Zonk</code>.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public void completeEvent_Code(
  Event event, Assignment assignment, 
  ContentAssistContext context, ICompletionProposalAcceptor acceptor) {
  // call implementation of superclass
  super.completeEvent_Code(model, assignment, context, acceptor);

  // compute the plain proposal
  String proposal = event.getName() + "ID";

  // Create and register the completion proposal:
  // The proposal may be null as the createCompletionProposal(..) 
  // methods check for valid prefixes and terminal token conflicts.
  // The acceptor handles null-values gracefully.
  acceptor.accept(createCompletionProposal(proposal, context));
}</pre>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="quickfixes" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Quick Fixes</h2>
						<p>
							For validations written using the <a href="#custom_validation">AbstractDeclarativeValidator</a> 
							it is possible to provide corresponding quick fixes in the editor. To be able to implement a quick fix 
							for a given diagnostic (a warning or error) the underlying <strong>cause</strong> of the diagnostic must be known 
							(i.e. what actual problem does the diagnostic represent), otherwise the fix doesn't know what needs 
							to be done. As we don't want to deduce this from the diagnostic's error message we associate a problem 
							specific <strong>code</strong> with the diagnostic.
						</p>
						<p>
							In the following example taken from the <strong>DomainmodelJavaValidator</strong> 
							the diagnostic's <strong>code</strong> is given by the third argument to the <code class="prettyprint lang-java">warning()</code> method and it is a reference 
							to the static <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html"><abbr title="java.lang.String">String</abbr></a> field <code class="prettyprint lang-java">INVALID_TYPE_NAME</code> in the validator class.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
warning("Name should start with a capital", 
    DomainmodelPackage.TYPE__NAME, INVALID_TYPE_NAME, type.getName());</pre>
							<p>
						</p>
						<p>
							Now that the validation has a unique code identifying the problem we can register quick fixes for it. 
							We start by adding the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/generator/quickfix/QuickfixProviderFragment.html"><abbr title="org.eclipse.xtext.ui.generator.quickfix.QuickfixProviderFragment">QuickfixProviderFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/ui/generator/quickfix/QuickfixProviderFragment.java">(src)</a> 
							to our workflow and after regenerating the code we should find an empty class <strong>MyDslQuickfixProvider</strong> 
							in our DSL's UI project and new entries in the <strong>plugin.xml_gen</strong> file.
						</p>
						<p>
							Continuing with the <code class="prettyprint lang-java">INVALID_TYPE_NAME</code> problem from the domain model example we add a method with which 
							the problem can be fixed (have a look at the <strong>DomainmodelQuickfixProvider</strong> for details):
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Fix(DomainmodelJavaValidator.INVALID_TYPE_NAME)
public void fixName(final Issue issue, 
  IssueResolutionAcceptor acceptor) {
  acceptor.accept(issue, 
    "Capitalize name", // quick fix label
    "Capitalize name  of '" + issue.getData()[0] + "'", 
                       // description
    "upcase.png",      // quick fix icon
    new IModification() {
      public void apply(IModificationContext context) 
    throws BadLocationException {
        IXtextDocument xtextDocument = context.getXtextDocument();
        String firstLetter = xtextDocument.get(issue.getOffset(), 1);
        xtextDocument.replace(issue.getOffset(), 1, 
                              Strings.toFirstUpper(firstLetter));
      }
    }
  );
}</pre>
							<p>
						</p>
						<p>
							By using the correct signature (see below) and annotating the method with the 
							@<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/quickfix/Fix.html"><abbr title="org.eclipse.xtext.ui.editor.quickfix.Fix">@Fix</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/quickfix/Fix.java">(src)</a> annotation referencing the previously specified 
							issue code from the validator, Xtext knows that this method implements a fix for the problem. This 
							also allows us to annotate multiple methods as fixes for the same problem.
						</p>
						<p>
							The first three parameters given to the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/quickfix/IssueResolutionAcceptor.html"><abbr title="org.eclipse.xtext.ui.editor.quickfix.IssueResolutionAcceptor">IssueResolutionAcceptor</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/quickfix/IssueResolutionAcceptor.java">(src)</a> define the 
							UI representation of the quick fix. As the document is not necessarily loaded when the quick fix is 
							offered, we need to provide any additional data from the model that we want to refer to in the UI 
							when creating the issue in the validator above. In this case, we provided the existing type name. 
							The additional data is available as <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/Issue.html">Issue.getData()</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/Issue.java">(src)</a>. As it is persisted in markers, only strings 
							are allowed.
						</p>
						<p>
							The actual model modification is implemented in the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/model/edit/IModification.html"><abbr title="org.eclipse.xtext.ui.editor.model.edit.IModification">IModification</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/model/edit/IModification.java">(src)</a>. 
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/model/edit/IModificationContext.html"><abbr title="org.eclipse.xtext.ui.editor.model.edit.IModificationContext">IModificationContext</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/model/edit/IModificationContext.java">(src)</a> provides 
							access to the erroneous document. In this case, we're using Eclipse's <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/text/IDocument.html"><abbr title="org.eclipse.jface.text.IDocument">IDocument</abbr></a> API to replace a 
							text region.
						</p>
						<p>
							If you prefer to implement the quick fix in terms of the semantic model use a 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/model/edit/ISemanticModification.html"><abbr title="org.eclipse.xtext.ui.editor.model.edit.ISemanticModification">ISemanticModification</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/model/edit/ISemanticModification.java">(src)</a> instead. 
							Its <code class="prettyprint lang-java">apply(EObject, IModificationContext)</code> method will be invoked inside a modify-transaction and the 
							first argument will be the erroneous semantic element. This makes it very easy for the fix method to 
							modify the model as necessary. After the method returns the model as well as the Xtext editor's content 
							will be updated accordingly. If the method fails (throws an exception) the change will not be committed. 
							The following snippet shows a semantic quick fix for a similar problem.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Fix(DomainmodelJavaValidator.INVALID_FEATURE_NAME)
public void fixFeatureName(final Issue issue, 
                           IssueResolutionAcceptor acceptor) {
  acceptor.accept(issue, 
    "Uncapitalize name",    // label
    "Uncapitalize name of '" + issue.getData()[0] + "'", // description
    "upcase.png",           // icon 
    new ISemanticModification() {
      public void apply(EObject element, IModificationContext context) {
        ((Feature) element).setName(
            Strings.toFirstLower(issue.getData()[0]));
      }
    }
  );
}</pre>
							<p>
						</p>
						<!-- subsection -->
						<section id="_65" style="padding-top: 68px; margin-top: -68px;">
						<h3>Quick Fixes for Linking Errors and Syntax Errors</h3>
						<p>
							You can even define quick fixes for linking errors. The issue codes are assigned by the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/linking/ILinkingDiagnosticMessageProvider.html"><abbr title="org.eclipse.xtext.linking.ILinkingDiagnosticMessageProvider">ILinkingDiagnosticMessageProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/linking/ILinkingDiagnosticMessageProvider.java">(src)</a>. Have a look at the domain model 
							example how to add quick fixes for these errors.
						</p>
						<p>
							Hence, there is the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parser/antlr/ISyntaxErrorMessageProvider.html"><abbr title="org.eclipse.xtext.parser.antlr.ISyntaxErrorMessageProvider">ISyntaxErrorMessageProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parser/antlr/ISyntaxErrorMessageProvider.java">(src)</a> to assign 
							issue codes to syntactical errors.
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="templates" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Template Proposals</h2>
						<p>
							Xtext-based editors automatically support code templates. That means that you get the corresponding 
							preference page where users can add and change template proposals. If you want to ship a couple of 
							default templates, you have to put a file named <strong>templates.xml</strong> inside the <strong>templates</strong> directory of 
							the generated UI-plug-in. This file contains templates in a format as described in the 
							<a href="http://help.eclipse.org/ganymede/topic/org.eclipse.cdt.doc.user/tasks/cdt_t_imp_code_temp.htm">Eclipse online help</a> .
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/preferences_templates.png" alt="" width="866" height="673">
							</div>
							<p>
						</p>
						<p>
							By default Xtext registers <strong>context types</strong> that follow certain patterns. A context type will be created
							</p>
							<ol>
								<li>for each rule (<code class="prettyprint lang-xml">{languageName}.{RuleName}</code>) and</li>
								<li>for each keyword (<code class="prettyprint lang-xml">{languageName}.kw_{keyword}</code>).</li>
							</ol>
							<p>
							
							If you don't like these defaults you'll have to subclass 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/templates/XtextTemplateContextTypeRegistry.html"><abbr title="org.eclipse.xtext.ui.editor.templates.XtextTemplateContextTypeRegistry">XtextTemplateContextTypeRegistry</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/templates/XtextTemplateContextTypeRegistry.java">(src)</a> 
							and configure it via <a href="#guicemodules">Guice</a>.
						</p>
						<p>
							In addition to the standard template proposal extension mechanism, Xtext ships with a predefined set 
							of <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/text/templates/TemplateVariableResolver.html">TemplateVariableResolvers</a> to resolve special variable types in templates. 
							Besides the standard template variables available in 
							<a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/text/templates/GlobalTemplateVariables.html"><abbr title="org.eclipse.jface.text.templates.GlobalTemplateVariables">GlobalTemplateVariables</abbr></a> like <code class="prettyprint lang-xml">${user}</code>, <code class="prettyprint lang-xml">${date}</code>, <code class="prettyprint lang-xml">${time}</code>, 
							<code class="prettyprint lang-xml">${cursor}</code>, etc., these <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/text/templates/TemplateVariableResolver.html">TemplateVariableResolvers</a> support the automatic resolving of 
							cross references enumeration values. Both resolvers are explained in the 
							following sections.
						</p>
						<p>
							It is best practice to edit the templates in the preferences page, export them into the 
							<strong>templates.xml</strong>-file and put this one into the <strong>templates</strong> folder of your UI-plug-in. However, these 
							templates will not be visible by default. To fix it, you have to manually edit the xml-file and insert 
							an <code class="prettyprint lang-xml">id</code> attribute for each template element. Note that the attribute name is case sensitive.
							As always in eclipse plug-in development, if the folder <strong>templates</strong> did not exist before, you have to
							add it to the <strong>bin.includes</strong> in your <strong>build.properties</strong>.
						</p>
						<!-- subsection -->
						<section id="_66" style="padding-top: 68px; margin-top: -68px;">
						<h3>Cross Reference Template Variable Resolver</h3>
						<p>
							Xtext comes with a specific template variable resolver called 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/templates/CrossReferenceTemplateVariableResolver.html"><abbr title="org.eclipse.xtext.ui.editor.templates.CrossReferenceTemplateVariableResolver">CrossReferenceTemplateVariableResolver</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/templates/CrossReferenceTemplateVariableResolver.java">(src)</a>, 
							which can be used to pre-populate placeholders for cross-references within a template. The respective
							template variable is called <strong>CrossReference</strong> and its syntax is as follows:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xml linenums">
${&lt;displayText&gt;:CrossReference([&lt;MyPackageName&gt;.]&lt;MyType&gt;.&lt;myRef&gt;)}</pre>
							<p>
						</p>
						<p>
							This small example yields the text <strong>event =&gt; state</strong> and allows selecting any events and states using a drop down:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xml linenums">
&lt;template 
  name="transition" 
  description="event transition" 
  id="transition"
    context="org.xtext.example.SecretCompartments.Transition" 
    enabled="true"&gt;
${event:CrossReference('Transition.event')} =&gt;
  ${state:CrossReference('Transition.state')
&lt;/template&gt;</pre>
							<p>
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/templates_crossref.png" alt="" width="430" height="354">
							</div>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_67" style="padding-top: 68px; margin-top: -68px;">
						<h3>Enumeration Template Variable Resolver</h3>
						<p>
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/templates/EnumTemplateVariableResolver.html"><abbr title="org.eclipse.xtext.ui.editor.templates.EnumTemplateVariableResolver">EnumTemplateVariableResolver</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/templates/EnumTemplateVariableResolver.java">(src)</a> 
							resolves a template variable to <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EEnumLiteral.html">EEnumLiterals</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EEnumLiteral.java">(src)</a>
							which are assignment-compatible to the enumeration type declared as the first parameter of the the <strong>Enum</strong>
							template variable.
						</p>
						<p>
							The syntax is as follows:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
${&lt;displayText&gt;:Enum([&lt;MyPackage&gt;.]&lt;EnumType&gt;)</pre>
							<p>
						</p>
						<p>
							For example the following template (taken from another example):
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
&lt;template 
  name="Entity" 
  description="template for an Entity"
  id="entity"
  context="org.eclipse.xtext.example.Domainmodel.Entity"
  enabled="true"&gt;
${public:Enum('Visibility')} entity ${Name} {
  ${cursor}
}
&lt;/template&gt;</pre>
							<p>
						</p>
						<p>
							yields the text <code class="prettyprint lang-domainexample">public entity Name {}</code> where the text <code class="prettyprint lang-domainexample">public</code> is the default value of the <code class="prettyprint lang-java">Visibility</code>.
							The editor provides a drop down that is populated with the other literal values as defined in the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EEnum.html"><abbr title="org.eclipse.emf.ecore.EEnum">EEnum</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EEnum.java">(src)</a>.
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="outline" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Outline View</h2>
						<p>
							Xtext provides an outline view to help you navigate your models. By default, it provides a hierarchical 
							view on your model and allows you to sort tree elements alphabetically. Selecting an element in the 
							outline will highlight the corresponding element in the text editor. Users can choose to synchronize 
							the outline with the editor selection by clicking the <strong>Link with Editor</strong> button.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/sample_outline.png" alt="" width="579" height="323">
							</div>
							<p>
						</p>
						<p>
							In its default implementation, the outline view shows the containment hierarchy of your model. 
							This should be sufficient in most cases. If you want to adjust the structure of the outline, i.e. 
							by omitting a certain kind of node or by introducing additional nodes, you can customize 
							the outline by implementing your own <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/IOutlineTreeProvider.html"><abbr title="org.eclipse.xtext.ui.editor.outline.IOutlineTreeProvider">IOutlineTreeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/IOutlineTreeProvider.java">(src)</a>.
						</p>
						<p>
							If your workflow defines the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/generator/outline/OutlineTreeProviderFragment.html"><abbr title="org.eclipse.xtext.ui.generator.outline.OutlineTreeProviderFragment">OutlineTreeProviderFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/ui/generator/outline/OutlineTreeProviderFragment.java">(src)</a>, 
							Xtext generates a stub for your own <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/IOutlineTreeProvider.html"><abbr title="org.eclipse.xtext.ui.editor.outline.IOutlineTreeProvider">IOutlineTreeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/IOutlineTreeProvider.java">(src)</a>
							that allows you to customize every aspect of the outline by inheriting the powerful customization methods
							of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/impl/DefaultOutlineTreeProvider.html"><abbr title="org.eclipse.xtext.ui.editor.outline.impl.DefaultOutlineTreeProvider">DefaultOutlineTreeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/impl/DefaultOutlineTreeProvider.java">(src)</a>. The following sections 
							show how to do fill this stub with life.
						</p>
						<!-- subsection -->
						<section id="_68" style="padding-top: 68px; margin-top: -68px;">
						<h3>Influencing the outline structure</h3>
						<p>
							Each node the outline tree is an instance of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/IOutlineNode.html"><abbr title="org.eclipse.xtext.ui.editor.outline.IOutlineNode">IOutlineNode</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/IOutlineNode.java">(src)</a>.
							The outline tree is always rooted in a <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/impl/DocumentRootNode.html"><abbr title="org.eclipse.xtext.ui.editor.outline.impl.DocumentRootNode">DocumentRootNode</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/impl/DocumentRootNode.java">(src)</a>.
							This node is automatically created for you. Its children are the root nodes in the displayed view.
						</p>
						<p>
							An <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/impl/EObjectNode.html"><abbr title="org.eclipse.xtext.ui.editor.outline.impl.EObjectNode">EObjectNode</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/impl/EObjectNode.java">(src)</a> represents a model element. By default, Xtext
							creates an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/impl/EObjectNode.html"><abbr title="org.eclipse.xtext.ui.editor.outline.impl.EObjectNode">EObjectNode</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/impl/EObjectNode.java">(src)</a> for each model element in the
							node of its container. Nodes are created by calling the method <code class="prettyprint lang-java">createNode(parentNode, modelElement)</code> which
							delegates to <code class="prettyprint lang-java">createEObjectNode(..)</code> if not specified differently.
						</p>
						<p>
							To change the children of specific nodes, you have to implement the method </p>
							<pre class="prettyprint lang-java linenums">
_createChildren(parentNode,
parentModelElement)</pre>
							<p>
							 with the appropriate types. The following snippet shows you how to skip the root model element
							of type <code class="prettyprint lang-java">Domainmodel</code> in the outline of our domain model example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
protected void _createChildren(DocumentRootNode parentNode, 
                               Domainmodel domainModel) {
  for (AbstractElement element : domainModel.getElements()) {
    createNode(parentNode, element);
  }
}</pre>
							<p>
						</p>
						<p>
							You can choose not to create any node in the <code class="prettyprint lang-java">_createChildren()</code> method. Because the outline nodes are 
							calculated on demand, the UI will show you an expandable node that doesn't reveal any children if expanded.
							This might be confuse your users a bit. To overcome this shortcoming, you have to implement the method 
							<code class="prettyprint lang-java">_isLeaf(modelElement)</code> with the appropriate argument type, e.g.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
// feature nodes are leafs and not expandable
protected boolean _isLeaf(Feature feature) {
  return true;
}</pre>
							<p>
						</p>
						<p>
							Xtext provides a third type of node: <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/impl/EStructuralFeatureNode.html"><abbr title="org.eclipse.xtext.ui.editor.outline.impl.EStructuralFeatureNode">EStructuralFeatureNode</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/impl/EStructuralFeatureNode.java">(src)</a>.
							It is used to represent a feature of a model element rather than element itself. The following simplified
							snippet from Xtend2 illustrates how to use it:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
protected void _createChildren(DocumentRootNode parentNode, 
                               XtendFile xtendFile) {
  // show a node for the attribute XtendFile.package
  createEStructuralFeatureNode(parentNode, 
    xtendFile, 
    Xtend2Package.Literals.XTEND_FILE__PACKAGE,
    getImageForPackage(), 
    xtendFile.getPackage(), 
    true);
  // show a container node for the list reference XtendFile.imports
  // the imports will be shown as individual child nodes automatically 
  createEStructuralFeatureNode(parentNode, 
    xtendFile, 
    Xtend2Package.Literals.XTEND_FILE__IMPORTS,
    getImageForImportContainer(), 
    "import declarations", 
    false);
  createEObjectNode(parentNode, xtendFile.getXtendClass());
}</pre>
							<p>
						</p>
						<p>
							Of course you can add further custom types of nodes. For consistency, make sure to inherit from 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/impl/AbstractOutlineNode.html"><abbr title="org.eclipse.xtext.ui.editor.outline.impl.AbstractOutlineNode">AbstractOutlineNode</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/impl/AbstractOutlineNode.java">(src)</a>. To instantiate these, you have
							to implement <code class="prettyprint lang-java">_createNode(parentNode, semanticElement)</code> with the appropriate parameter types.
						</p>
						</section>
						<!-- subsection -->
						<section id="_69" style="padding-top: 68px; margin-top: -68px;">
						<h3>Styling the outline</h3>
						<p>
							You can also customize the icons and texts for an outline node. By default, Xtext uses the <a href="#labelProvider">label
							provider</a> of your language. If you want the labels to be specific to the outline, you can override the methods 
							<code class="prettyprint lang-java">_text(modelElement)</code> and <code class="prettyprint lang-java">_image(modelElement)</code> in your 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/impl/DefaultOutlineTreeProvider.html"><abbr title="org.eclipse.xtext.ui.editor.outline.impl.DefaultOutlineTreeProvider">DefaultOutlineTreeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/impl/DefaultOutlineTreeProvider.java">(src)</a>.
						</p>
						<p>
							Note that the method <code class="prettyprint lang-java">_text(modelElement)</code> can return a <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html"><abbr title="java.lang.String">String</abbr></a> or a 
							<a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/viewers/StyledString.html"><abbr title="org.eclipse.jface.viewers.StyledString">StyledString</abbr></a>. The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/label/StylerFactory.html"><abbr title="org.eclipse.xtext.ui.label.StylerFactory">StylerFactory</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/label/StylerFactory.java">(src)</a>
							can be used to create <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/viewers/StyledString.html">StyledStrings</a>, like in the following example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Inject 
private StylerFactory stylerFactory;

public Object _text(Entity entity) {
  if(entity.isAbstract()) {
    return new StyledString(entity.getName(), 
      stylerFactory
        .createXtextStyleAdapterStyler(getTypeTextStyle())));
  else
    return entity.getName();
}

protected TextStyle getTypeTextStyle() {
  TextStyle textStyle = new TextStyle();
  textStyle.setColor(new RGB(149, 125, 71));
  textStyle.setStyle(SWT.ITALIC);
  return textStyle;
}</pre>
							<p>
						</p>
						<p>
							To access images we recommend to use the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/PluginImageHelper.html"><abbr title="org.eclipse.xtext.ui.PluginImageHelper">PluginImageHelper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/PluginImageHelper.java">(src)</a>.
						</p>
						</section>
						<!-- subsection -->
						<section id="_70" style="padding-top: 68px; margin-top: -68px;">
						<h3>Filtering actions</h3>
						<p>
							Often, you want to allow users to filter the contents of the outline to make it easier to concentrate 
							on the relevant aspects of the model. To add filtering capabilities to your outline, you need to add 
							a filter action to your outline. Filter actions must extend 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/actions/AbstractFilterOutlineContribution.html"><abbr title="org.eclipse.xtext.ui.editor.outline.actions.AbstractFilterOutlineContribution">AbstractFilterOutlineContribution</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/actions/AbstractFilterOutlineContribution.java">(src)</a>
							to ensure that the action toggle state is handled correctly. Here is an example form our domain model
							example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class FilterOperationsContribution 
    extends AbstractFilterOutlineContribution {

  public static final String PREFERENCE_KEY = 
    "ui.outline.filterOperations";

  @Inject
  private PluginImageHelper imageHelper;
  
  @Override
  protected boolean apply(IOutlineNode node) {
    return !(node instanceof EObjectNode)
        || !((EObjectNode) node).getEClass()
          .equals(DomainmodelPackage.Literals.OPERATION);
  }

  @Override
  public String getPreferenceKey() {
    return PREFERENCE_KEY;
  }

  @Override
  protected void configureAction(Action action) {
    action.setText("Hide operations");
    action.setDescription("Hide operations");
    action.setToolTipText("Hide operations");
    action.setImageDescriptor(getImageDescriptor());
  }

  protected ImageDescriptor getImageDescriptor(String imagePath) {
    return ImageDescriptor.createFromImage(
      imageHelper.getImage("Operation.gif"));
  }

  
}</pre>
							<p>
						</p>
						<p>
							The contribution must be bound in the <strong>MyDslUiModule</strong> like this
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public void configureFilterOperationsContribution(Binder binder) {
  binder
    .bind(IOutlineContribution.class).annotatedWith(
      Names.named("FilterOperationsContribution"))
    .to(FilterOperationsContribution.class);
}</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_71" style="padding-top: 68px; margin-top: -68px;">
						<h3>Sorting actions</h3>
						<p>
							Xtext already adds a sorting action to your outline. By default, nodes are sorted lexically by their
							text. You can change this behavior by binding your own 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/impl/OutlineFilterAndSorter.IComparator.html"><abbr title="org.eclipse.xtext.ui.editor.outline.impl.OutlineFilterAndSorter$IComparator">IComparator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/impl/OutlineFilterAndSorter.java">(src)</a>.
						</p>
						<p>
							A very common use case is to group the children by categories first, e.g. show the imports before the types
							in a package declaration, and sort the categories separately. That is why the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/outline/actions/SortOutlineContribution.DefaultComparator.html"><abbr title="org.eclipse.xtext.ui.editor.outline.actions.SortOutlineContribution$DefaultComparator">DefaultComparator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/outline/actions/SortOutlineContribution.java">(src)</a> has a
							method <code class="prettyprint lang-java">getCategory(IOutlineNode)</code> that allows to specify such categories. The example shows how to
							use such categories:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class MydslOutlineNodeComparator extends DefaultComparator {
  @Override
  public int getCategory(IOutlineNode node) {
    if (node instanceof EObjectNode) 
      switch((EObjectNode) node).getEClass().getClassifierID())) {
      case MydslPackage.TYPE0:  
        return -10;
      case MydslPackage.TYPE1:  
        return -20;
      }
    return Integer.MIN_VALUE;
  }
}</pre>
							<p>
						</p>
						<p>
							As always, you have to declare a binding for your custom implementation in your <strong>MyDslUiModule</strong>:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Override
public Class&lt;? extends IComparator&gt; 
  bindOutlineFilterAndSorter$IComparator() {
    return MydslOutlineNodeComparator.class;
}</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="quick_outline" style="padding-top: 68px; margin-top: -68px;">
						<h3>Quick Outline</h3>
						<p>
							Xtext also provides a quick outline: If you press CTRL-O in an Xtext editor, the outline of the model is shown 
							in a popup window. The quick outline also supports drill-down search with wildcards. To enable the quick outline,
							you have to put the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/generator/outline/QuickOutlineFragment.html"><abbr title="org.eclipse.xtext.ui.generator.outline.QuickOutlineFragment">QuickOutlineFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/ui/generator/outline/QuickOutlineFragment.java">(src)</a> 
							into your workflow.
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="hyperlinking" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Hyperlinking</h2>
						<p>
							The Xtext editor provides hyperlinking support for any tokens corresponding to cross-references in your 
							grammar definition. You can either <strong>CTRL-click</strong> on any of these tokens or hit <strong>F3</strong> 
							while the cursor position is at the token in question and this will take you to the referenced model 
							element. As you'd expect this works for references to elements in the same resource as well as for 
							references to elements in other resources. In the latter case the referenced resource will first be 
							opened using the corresponding editor.
						</p>
						<!-- subsection -->
						<section id="locationProvider" style="padding-top: 68px; margin-top: -68px;">
						<h3>Location Provider</h3>
						<p>
							When navigating a hyperlink, Xtext will also select the text region corresponding to the referenced model 
							element. Determining this text region is the responsibility of the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/ILocationInFileProvider.html"><abbr title="org.eclipse.xtext.resource.ILocationInFileProvider">ILocationInFileProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/ILocationInFileProvider.java">(src)</a>. The 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/DefaultLocationInFileProvider.html">default implementation</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/DefaultLocationInFileProvider.java">(src)</a> implements a best 
							effort strategy which can be summarized as:
						</p>
						<p>
							</p>
							<ol>
								<li>If the model element's <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html">type</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a> declares a feature <strong>name</strong> then return the 
								    region of the corresponding token(s). As a fallback also check for a feature <strong>id</strong>.</li>
								<li>If the model element's node model contains any top-level tokens corresponding to invocations
								    of the rule <strong>ID</strong> in the grammar then return a region spanning all those tokens.</li>
								<li>As a last resort return the region corresponding to the first keyword token of the referenced
								    model element.</li>
							</ol>
							<p>
						</p>
						<p>
							The location service offers different methods to obtain the region of interest for special use cases.
							You can either obtain the complete region for an object or only the identifying string which is usually
							the name of the instance (see <code class="prettyprint lang-java">getSignificantTextRegion(EObject)</code>). You can also query for
							the text region of a specific <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EStructuralFeature.html"><abbr title="org.eclipse.emf.ecore.EStructuralFeature">EStructuralFeature</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EStructuralFeature.java">(src)</a> by means of 
							<code class="prettyprint lang-java">getFullTextRegion(EObject, EStructuralFeature, int)</code>.
						</p>
						<p>
							As the default strategy is a best effort it may not always result in the selection you want. If that's 
							the case you can <a href="#guicemodules">override</a> the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/ILocationInFileProvider.html"><abbr title="org.eclipse.xtext.resource.ILocationInFileProvider">ILocationInFileProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/ILocationInFileProvider.java">(src)</a> binding in 
							the UI module as in the following example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class MyDslUiModule extends AbstractMyDslUiModule {
  @Override
  public Class&lt;? extends ILocationInFileProvider&gt; 
      bindILocationInFileProvider() {
    return MyDslLocationInFileProvider.class;
  }
}</pre>
							<p>
						</p>
						<p>
							Often the default strategy only needs some guidance (e.g. selecting the text corresponding to another 
							feature than <strong>name</strong>). In that case you can simply subclass the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/DefaultLocationInFileProvider.html"><abbr title="org.eclipse.xtext.resource.DefaultLocationInFileProvider">DefaultLocationInFileProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/DefaultLocationInFileProvider.java">(src)</a>
							and override the methods <code class="prettyprint lang-java">getIdentifierFeature()</code> or <code class="prettyprint lang-java">useKeyword()</code> to guide the first and 
							last steps of the strategy as described above (see <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xtext/XtextLocationInFileProvider.html"><abbr title="org.eclipse.xtext.xtext.XtextLocationInFileProvider">XtextLocationInFileProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/xtext/XtextLocationInFileProvider.java">(src)</a> 
							for an example).
						</p>
						</section>
						<!-- subsection -->
						<section id="_72" style="padding-top: 68px; margin-top: -68px;">
						<h3>Customizing Available Hyperlinks</h3>
						<p>
							The hyperlinks are provided by the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/hyperlinking/HyperlinkHelper.html"><abbr title="org.eclipse.xtext.ui.editor.hyperlinking.HyperlinkHelper">HyperlinkHelper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/hyperlinking/HyperlinkHelper.java">(src)</a>
							which will create links for cross-referenced objects by default. Clients may want to override 
							<code class="prettyprint lang-java">createHyperlinksByOffset(XtextResource, int, IHyperlinkAcceptor)</code> to provide additional links or 
							supersede the default implementation.
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="highlighting" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Syntax Coloring</h2>
						<p>
							Besides the already mentioned advanced features like <a href="#contentAssist">content assist</a>  and 
							<a href="#formatting">code formatting</a> the powerful 
							editor for your DSL is capable to mark up your model-code to improve the overall readability. It is 
							possible to use different colors and fonts according to the meaning of the different parts of your 
							input file. One may want to use some unintrusive colors for large blocks of comments while identifiers, 
							keywords and strings should be colored differently to make it easier to distinguish between them. 
							This kind of text decorating markup does not influence the semantics of the various sections but 
							helps to understand the meaning and to find errors in the source code.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/highlighting.png" alt="" width="198" height="82">
							</div>
							<p>
						</p>
						<p>
							The highlighting is done in two stages. This allows for sophisticated algorithms that are executed 
							asynchronously to provide advanced coloring while simple pattern matching may be used to highlight 
							parts of the text instantaneously. The latter is called lexical highlighting while the first is based 
							on the meaning of your different model elements and therefore called semantic highlighting.
						</p>
						<p>
							When you introduce new highlighting styles, the preference page for your DSL is automatically 
							configured and allows the customization of any registered highlighting setting. They are automatically 
							persisted and reloaded on startup.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/preferences_syntax.png" alt="" width="760" height="434">
							</div>
							<p>
						</p>
						<!-- subsection -->
						<section id="_73" style="padding-top: 68px; margin-top: -68px;">
						<h3>Lexical Highlighting</h3>
						<p>
							The lexical highlighting can be customized by providing implementations of the interface 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightingConfiguration.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.IHighlightingConfiguration">IHighlightingConfiguration</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightingConfiguration.java">(src)</a> and 
							the abstract class <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/AbstractTokenScanner.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.AbstractTokenScanner">AbstractTokenScanner</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/AbstractTokenScanner.java">(src)</a>. 
							The latter fulfills the interface <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/text/rules/ITokenScanner.html"><abbr title="org.eclipse.jface.text.rules.ITokenScanner">ITokenScanner</abbr></a> 
							from the underlying JFace Framework, which may be implemented by clients directly.
						</p>
						<p>
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightingConfiguration.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.IHighlightingConfiguration">IHighlightingConfiguration</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightingConfiguration.java">(src)</a> is used
							to register any default style without a specific binding to 
							a pattern in the model file. It is used to populate the preferences page and to initialize the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/ITextAttributeProvider.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.ITextAttributeProvider">ITextAttributeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/ITextAttributeProvider.java">(src)</a>, which in turn is the 
							component that is used to obtain the actual settings for a style's id. An implementation 
							will usually be very similar to the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/DefaultHighlightingConfiguration.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.DefaultHighlightingConfiguration">DefaultHighlightingConfiguration</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/DefaultHighlightingConfiguration.java">(src)</a> 
							and read like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class DefaultHighlightingConfiguration 
    implements IHighlightingConfiguration {

  public static final String KEYWORD_ID = "keyword";
  public static final String COMMENT_ID = "comment";

  public void configure(IHighlightingConfigurationAcceptor acceptor) {
    acceptor.acceptDefaultHighlighting(
      KEYWORD_ID, "Keyword", keywordTextStyle());
    acceptor.acceptDefaultHighlighting(COMMENT_ID, "Comment", // ...
  }
  
  public TextStyle keywordTextStyle() {
    TextStyle textStyle = new TextStyle();
    textStyle.setColor(new RGB(127, 0, 85));
    textStyle.setStyle(SWT.BOLD);
    return textStyle;
  }
}</pre>
							<p>
						</p>
						<p>
							Implementations of the <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/text/rules/ITokenScanner.html"><abbr title="org.eclipse.jface.text.rules.ITokenScanner">ITokenScanner</abbr></a> are responsible 
							for splitting the content of a document into 
							various parts, the so called tokens, and return the highlighting information for each identified range. 
							It is critical that this is done very fast because this component is used on each keystroke. Xtext 
							ships with a default implementation that is based on the lexer that is generated by ANTLR which is very 
							lightweight and fast. This default implementation can be customized by clients easily. They simply have 
							to bind another implementation of the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/AbstractAntlrTokenToAttributeIdMapper.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.AbstractAntlrTokenToAttributeIdMapper">AbstractAntlrTokenToAttributeIdMapper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/AbstractAntlrTokenToAttributeIdMapper.java">(src)</a>. 
							To get an idea about it, have a look at the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/DefaultAntlrTokenToAttributeIdMapper.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.DefaultAntlrTokenToAttributeIdMapper">DefaultAntlrTokenToAttributeIdMapper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/DefaultAntlrTokenToAttributeIdMapper.java">(src)</a>.
						</p>
						</section>
						<!-- subsection -->
						<section id="_74" style="padding-top: 68px; margin-top: -68px;">
						<h3>Semantic Highlighting</h3>
						<p>
							The semantic highlighting stage is executed asynchronously in the background and can be used to calculate
							highlighting states based on the meaning of the different model elements. Users of the editor will 
							notice a very short delay after they have edited the text until the styles are actually applied to the 
							document. This keeps the editor responsive while providing aid when reading and writing your model.
						</p>
						<p>
							As for the lexical highlighting the interface to register the available styles is the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightingConfiguration.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.IHighlightingConfiguration">IHighlightingConfiguration</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightingConfiguration.java">(src)</a>. 
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/ISemanticHighlightingCalculator.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.ISemanticHighlightingCalculator">ISemanticHighlightingCalculator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/ISemanticHighlightingCalculator.java">(src)</a> 
							is the primary hook to implement the logic that will compute to-be-highlighted ranges based on the model 
							elements.
						</p>
						<p>
							The framework will pass the current <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/XtextResource.html"><abbr title="org.eclipse.xtext.resource.XtextResource">XtextResource</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">(src)</a> and an 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightedPositionAcceptor.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.IHighlightedPositionAcceptor">IHighlightedPositionAcceptor</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightedPositionAcceptor.java">(src)</a> to 
							the calculator. It is ensured, that the resource will not be altered externally until the called method 
							<code class="prettyprint lang-java">provideHighlightingFor()</code> returns. However, the resource may be <code class="prettyprint lang-java">null</code> in case of
							errors in the model. The implementor's task is to 
							navigate the semantic model and compute various ranges based on the attached node information and 
							associate styles with them. This may read similar to the following snippet:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public void provideHighlightingFor(XtextResource resource, 
    IHighlightedPositionAcceptor acceptor) {
  if (resource == null || resource.getParseResult() == null)
    return;
    
  INode root = resource.getParseResult().getRootNode();
  for (INode node : root.getAsTreeIterable()) {
    if (node.getGrammarElement() instanceof CrossReference) {
      acceptor.addPosition(node.getOffset(), node.getLength(), 
        MyHighlightingConfiguration.CROSS_REF);
    }
  }
}</pre>
							<p>
						</p>
						<p>
							This example refers to an implementation of the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightingConfiguration.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.IHighlightingConfiguration">IHighlightingConfiguration</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightingConfiguration.java">(src)</a> 
							that registers an own style for each cross-reference. It is pretty much the same implementation as for the previously 
							mentioned sample of a lexical <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightingConfiguration.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.IHighlightingConfiguration">IHighlightingConfiguration</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightingConfiguration.java">(src)</a>.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class HighlightingConfiguration 
    implements IHighlightingConfiguration {
  
  // lexical stuff goes here 
  // ..
  public final static String CROSS_REF = "CrossReference"; 

  public void configure(IHighlightingConfigurationAcceptor acceptor) {
    // lexical stuff goes here 
    // ..
    acceptor.acceptDefaultHighlighting(CROSS_REF, 
      "Cross-References", crossReferenceTextStyle());
  }
  
  public TextStyle crossReferenceTextStyle() {
    TextStyle textStyle = new TextStyle();
    textStyle.setStyle(SWT.ITALIC);
    return textStyle;
  }
}</pre>
							<p>
						</p>
						<p>
							The implementor of an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/ISemanticHighlightingCalculator.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.ISemanticHighlightingCalculator">ISemanticHighlightingCalculator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/ISemanticHighlightingCalculator.java">(src)</a> 
							should be aware of performance to ensure a good user 
							experience. It is probably not a good idea to traverse everything of your model when you will only 
							register a few highlighted ranges that can be found easier with some typed method calls. It is strongly 
							advised to use purposeful ways to navigate your model. The parts of Xtext's core that are responsible 
							for the semantic highlighting are pretty optimized in this regard as well. The framework will only 
							update the ranges that actually have been altered, for example. This speeds up the redraw process. It 
							will even move, shrink or enlarge previously announced regions based on a best guess before the next 
							semantic highlighting pass has been triggered after the user has changed the document.
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="refactoring" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Rename Refactoring</h2>
						<p>
							Xtext provides rename refactoring of the elements in your language. That includes
						</p>
						<p>
							</p>
							<ul>
								<li>a command, handlers and keybindings on both declarations and references,</li>
								<li>in-place linked editing for the new name,</li>
								<li>validation and preview,</li>
								<li>renaming of declaration and all references even across language boundaries.</li>
							</ul>
							<p>
						</p>
						<p>
							To enable refactoring support make sure the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/generator/refactoring/RefactorElementNameFragment.html"><abbr title="org.eclipse.xtext.ui.generator.refactoring.RefactorElementNameFragment">RefactorElementNameFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/ui/generator/refactoring/RefactorElementNameFragment.java">(src)</a>
							is enabled in the fragment section of the MWE workflow of your language, e.g.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
// rename refactoring
fragment = refactoring.RefactorElementNameFragment {}</pre>
							<p>
						</p>
						<p>
							The fragment has an additional flag <code class="prettyprint lang-xtend">useJdtRefactoring</code> which can be used to delegate to JDT's
							refactoring infrastructure for languages using <a href="#Xbase">Xbase</a> and an 
							<a href="#xbaseInferredType">inferred JVM model</a> (i.e. the domain model example or Xtend).
						</p>
						<p>
							If you have stuck to the defaults with regard to naming, cross-referencing, and indexing rename refactoring
							should not need any customization. Give it a try.
						</p>
						<!-- subsection -->
						<section id="_75" style="padding-top: 68px; margin-top: -68px;">
						<h3>Customizing</h3>
						<p>
							The most likely component you want to customize is the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/refactoring/IRenameStrategy.html"><abbr title="org.eclipse.xtext.ui.refactoring.IRenameStrategy">IRenameStrategy</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/refactoring/IRenameStrategy.java">(src)</a>. 
							This component defines how the declaration of the target element is performed. It has two major responsibilities:
						</p>
						<p>
							</p>
							<ul>
								<li>Apply and revert the declaration change on the semantic model (methods <code class="prettyprint lang-xtend">applyDeclarationChange</code> 
								and <code class="prettyprint lang-xtend">revertDeclarationChange</code>). The default is to look for an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EAttribute.html"><abbr title="org.eclipse.emf.ecore.EAttribute">EAttribute</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EAttribute.java">(src)</a> 
								<code class="prettyprint lang-xtend">name</code> on the target object and set its value using EMFs reflective API.</li>
								<li>Create the LTK <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/ltk/core/refactoring/Change.html"><abbr title="org.eclipse.ltk.core.refactoring.Change">Change</abbr></a> objects of the declaration change. These 
								changes will be aggregated, checked for overlaps, presented to you in the preview and finally executed if you 
								apply the refactoring. The default is to use the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/ILocationInFileProvider.html"><abbr title="org.eclipse.xtext.resource.ILocationInFileProvider">ILocationInFileProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/ILocationInFileProvider.java">(src)</a>
								to locate the text range representing the name and create a <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/text/edits/ReplaceEdit.html"><abbr title="org.eclipse.text.edits.ReplaceEdit">ReplaceEdit</abbr></a> for it.</li>
							</ul>
							<p>
						</p>
						<p>
							As the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/refactoring/IRenameStrategy.html"><abbr title="org.eclipse.xtext.ui.refactoring.IRenameStrategy">IRenameStrategy</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/refactoring/IRenameStrategy.java">(src)</a> is a stateful object, you have to bind a 
							custom <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/refactoring/IRenameStrategy.Provider.html"><abbr title="org.eclipse.xtext.ui.refactoring.IRenameStrategy$Provider">Provider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/refactoring/IRenameStrategy.java">(src)</a> to create it.
						</p>
						<p>
							The second component you might want to customize is the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/refactoring/IDependentElementsCalculator.html"><abbr title="org.eclipse.xtext.ui.refactoring.IDependentElementsCalculator">IDependentElementsCalculator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/refactoring/IDependentElementsCalculator.java">(src)</a>. Dependent elements are those elements 
							whose name change when the target element is renamed. For example, when you rename a Java class the qualified 
							names of its inner classes change, too, thus references to these have to be updated as well. This calculation 
							is performed by the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/refactoring/IDependentElementsCalculator.html"><abbr title="org.eclipse.xtext.ui.refactoring.IDependentElementsCalculator">IDependentElementsCalculator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/refactoring/IDependentElementsCalculator.java">(src)</a>. By default, all 
							elements contained in the target element are added. This matches Xtext's default strategy of qualified name 
							computation.
						</p>
						</section>
						<!-- subsection -->
						<section id="_76" style="padding-top: 68px; margin-top: -68px;">
						<h3>Rename Participants</h3>
						<p>
							One refactoring can trigger another: When renaming a rule in an Xtext grammar, the returned
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a> should be renamed, too. For these cases, you can register a 
							<a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/ltk/core/refactoring/participants/RenameParticipant.html"><abbr title="org.eclipse.ltk.core.refactoring.participants.RenameParticipant">RenameParticipant</abbr></a> by the common means of LTK. If the 
							target of the participant is Xtext based, you can use a 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/refactoring/impl/AbstractProcessorBasedRenameParticipant.html"><abbr title="org.eclipse.xtext.ui.refactoring.impl.AbstractProcessorBasedRenameParticipant">AbstractProcessorBasedRenameParticipant</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/refactoring/impl/AbstractProcessorBasedRenameParticipant.java">(src)</a>.
						</p>
						</section>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="Xbase" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							Xtext and Java
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							The following chapter demonstrates how to integrate your own DSL with Java. We will do this in four
							stages: First, you will learn how to refer to existing Java elements from within your language. Then
							you will use Xbase to refer to generic types. In the third step, you will map your own DSL's concepts 
							to Java concepts. Last but not least, you will use both Java types and your concepts within Xbase 
							expressions and execute it.
						</p>
						<p>
							Throughout this chapter, we will step by step improve the <a href="#DomainmodelNextSteps">domain model example from the tutorial</a>.
						</p>
						<!--  section -->
						<section id="_17" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Plug-in Setup</h2>
						<p>
							In the following, we are going to use the JVM types model and the Xbase language library. Have a look at your 
							MWE2 workflow and make sure that 
							</p>
							<ul>
								<li>the Xbase models are registered in the standalone setup and</li>
								<li>the 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/types/TypesGeneratorFragment.html"><abbr title="org.eclipse.xtext.generator.types.TypesGeneratorFragment">TypesGeneratorFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/types/TypesGeneratorFragment.java">(src)</a> and the 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/xbase/XbaseGeneratorFragment.html"><abbr title="org.eclipse.xtext.generator.xbase.XbaseGeneratorFragment">XbaseGeneratorFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/xbase/XbaseGeneratorFragment.java">(src)</a> are enabled.</li>
							</ul>
							<p>
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
bean = StandaloneSetup {
  ...
  registerGeneratedEPackage = "org.eclipse.xtext.xbase.XbasePackage"
  registerGenModelFile = "platform:/resource/org.eclipse.xtext.xbase/model/Xbase.genmodel"
}
...
fragment = types.TypesGeneratorFragment {}
fragment = xbase.XbaseGeneratorFragment {}</pre>
							<p>
						</p>
						<p>
							To avoid running out of memory when regenerating, make sure to run the workflow with reasonably sized heap and
							PermGen space. We recommend at least
						</p>
						<p>
							<code class="prettyprint lang-xtend">-Xmx512m -XX:MaxPermSize=128m</code>
						</p>
						<p>
							in the <strong>VM Arguments</strong> section of the <strong>Arguments</strong> tab of the run configuration. If you are experiencing ambiguity 
							warnings from Antlr, the <a href="#antlr_errors">usual countermeasures</a> apply. The launch configuration that
							you get with a new Xtext project is already configured properly.
						</p>
						</section>
						<!--  section -->
						<section id="jvmtypes" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Referring to Java Elements using JVM Types</h2>
						<p>
							A common case when developing languages is the requirement to refer to existing concepts of other 
							languages. Xtext makes this very easy for other self defined DSLs. However, it is often very useful
							to have access to the available types of the Java Virtual Machine as well. The JVM types Ecore model enables
							clients to do exactly this. It is possible to create cross-references to classes, interfaces, and their 
							fields and methods. Basically every information about the structural concepts of the Java type system
							is available via the JVM types. This includes annotations and their specific values and enumeration 
							literals, too.
						</p>
						<p>
							The implementation will be selected transparently depending on how the client code is 
							executed. If the environment is a plain stand-alone Java or OSGi environment, the <strong>java.lang.reflect</strong> 
							API will be used to deduce the necessary data. On the contrary, the type-model will be created from the 
							live data of the JDT in an interactive Eclipse environment. All this happens transparently for the clients
							behind the scenes via different implementations that are bound to specific interfaces by means of Google Guice.
						</p>
						<p>
							Using the JVM types model is very simple. First of all, the grammar has to import the <strong>JavaVMTypes</strong> Ecore model. 
							Thanks to content assist this is easy to spot in the list of proposals.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
import "http://www.eclipse.org/xtext/common/JavaVMTypes" as jvmTypes</pre>
							<p>
						</p>
						<p>
							The next step is to actually refer to an imported concept. Let's define a mapping to available
							Java types for the simple data types in the domain model language. This can be done with a simple cross-reference:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
// simple cross reference to a Java type
DataType:
  'datatype' name=ID 
  'mapped-to' javaType=[jvmTypes::JvmType|QualifiedName];</pre>
							<p>
						</p>
						<p>
							After regenerating your language, it will be allowed to define a type <code class="prettyprint lang-domainexample">Date</code> that maps to the <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Date.html"><abbr title="java.util.Date">Date</abbr></a>
							like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-javatypesexample linenums">
datatype Date mapped-to java.util.Date</pre>
							<p>
						</p>
						<p>
							These two steps will provide a nice integration into the Eclipse JDT. There is <strong>Find References</strong> on Java methods, 
							fields and types that will reveal results in your language files. <strong>Go To Declaration</strong> works as expected
							and content assist will propose the list of available types. Even the <strong>import</strong> statements will also
							apply for Java types.
						</p>
						<!-- subsection -->
						<section id="_77" style="padding-top: 68px; margin-top: -68px;">
						<h3>Customization Points</h3>
						<p>
							There are several customization hooks in the runtime layer of the JVM types and on the editor side as well:
						</p>
						<p>
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/xtext/AbstractTypeScopeProvider.html"><abbr title="org.eclipse.xtext.common.types.xtext.AbstractTypeScopeProvider">AbstractTypeScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/src/org/eclipse/xtext/common/types/xtext/AbstractTypeScopeProvider.java">(src)</a> 
							can be used to create scopes for members with respect to
							the override semantics of the Java language. Of course it is possible to use this implementation to
							create scopes for types as well.
						</p>
						<p>
							As the Java VM types expose a lot of information about visibility, parameter types and return types, generics,
							available annotations or enumeration literals, it is very easy to define constraints for the referred types.
						</p>
						<p>
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/xtext/ui/ITypesProposalProvider.html"><abbr title="org.eclipse.xtext.common.types.xtext.ui.ITypesProposalProvider">ITypesProposalProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types.ui/src/org/eclipse/xtext/common/types/xtext/ui/ITypesProposalProvider.java">(src)</a> can be
							used to provide optimized proposals based on various filter criteria. 
							The most common selector can be used directly via <code class="prettyprint lang-java">createSubTypeProposals(..)</code>. The implementation is optimized
							and uses the JDT Index directly to minimize the effort for object instantiation. The class 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/xtext/ui/TypeMatchFilters.html"><abbr title="org.eclipse.xtext.common.types.xtext.ui.TypeMatchFilters">TypeMatchFilters</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types.ui/src/org/eclipse/xtext/common/types/xtext/ui/TypeMatchFilters.java">(src)</a>
							provides a comprehensive set of reusable filters that can be easily combined to reduce the list of proposals
							to a smaller number of valid entries.
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="xbaseJavaReferences" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Referring to Java Types Using Xbase</h2>
						<p>
							While the JVM types approach from the previous chapter allows to refer to any Java element, it is quite
							limited when it comes to generics. Usually, a type reference in Java can have type arguments which can also include
							wildcards, upper and lower bounds etc. A simple cross-reference using a qualified name is not enough
							to express neither the syntax nor the structure of such a type reference.
						</p>
						<p>
							Xbase offers a parser rule <strong>JvmTypeReference</strong> which supports the full syntax of a Java type reference
							and instantiates a JVM element of type <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmTypeReference.html"><abbr title="org.eclipse.xtext.common.types.JvmTypeReference">JvmTypeReference</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmTypeReference.java">(src)</a>. So
							let us start by inheriting from Xbase:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.eclipse.xtext.example.Domainmodel 
   with org.eclipse.xtext.xbase.Xbase</pre>
							<p>
						</p>
						<p>
							Because we can express all kinds of Java type references directly now, an indirection for <strong>DataTypes</strong> as
							in the previous section is no longer necessary. If we start from the <a href="#DomainmodelNextSteps">domain model 
							example in the tutorial</a> again, we have to replace all cross-references to <strong>Types</strong> by calls to the production 
							rule <strong>JvmTypeReference</strong>. The rules <strong>DataType</strong>, <strong>Type</strong>, and <strong>QualifiedName</strong> become obsolete (the latter is 
							already defined in Xbase), and the <strong>Type</strong> in <strong>AbstractEntity</strong> must be changed to <strong>Entity</strong>. As we now have 
							all kinds of generic Java collections at hand, <strong>Feature.many</strong> is obsolete, too. The whole grammar now reads:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.eclipse.xtext.example.Domainmodel with
                                      org.eclipse.xtext.xbase.Xbase

generate domainmodel "http://www.eclipse.org/xtext/example/Domainmodel"

Domainmodel:
  (elements += AbstractElement)*
;

PackageDeclaration:
  'package' name = QualifiedName '{'
    (elements += AbstractElement)*
  '}'
;

AbstractElement:
  PackageDeclaration | Entity | Import
;

Import:
  'import' importedNamespace = QualifiedNameWithWildcard
;
  
QualifiedNameWithWildcard:
  QualifiedName '.*'?
;
  
Entity:
  'entity' name = ID 
              ('extends' superType = JvmTypeReference)?
  '{'
    (features += Feature)*
  '}'
;
 
Feature:
  name = ID ':' type = JvmTypeReference
;</pre>
							<p>
						</p>
						<p>
							As we changed the grammar, we have to regenerate the language now.
						</p>
						<p>
							Being able to parse a Java type reference is already nice, but we also have to write them back to their string
							representation when we generate Java code. Unfortunately, a generic type reference with fully qualified
							class names can become a bit bulky. Therefore, the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/compiler/ImportManager.html"><abbr title="org.eclipse.xtext.xbase.compiler.ImportManager">ImportManager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/compiler/ImportManager.java">(src)</a> shortens
							fully qualified names, keeps track of imported namespaces, avoids name collisions, and helps to serialize
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmTypeReference.html">JvmTypeReferences</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmTypeReference.java">(src)</a> by means of the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/compiler/TypeReferenceSerializer.html"><abbr title="org.eclipse.xtext.xbase.compiler.TypeReferenceSerializer">TypeReferenceSerializer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/compiler/TypeReferenceSerializer.java">(src)</a>. This utility encapsulates how type
							references may be serialized depending on the concrete context in the output.
						</p>
						<p>
							The following snippet shows our code generator using an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/compiler/ImportManager.html"><abbr title="org.eclipse.xtext.xbase.compiler.ImportManager">ImportManager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/compiler/ImportManager.java">(src)</a>
							in conjunction with as <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/compiler/TypeReferenceSerializer.html"><abbr title="org.eclipse.xtext.xbase.compiler.TypeReferenceSerializer">TypeReferenceSerializer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/compiler/TypeReferenceSerializer.java">(src)</a>.
							We create a new instance and pass it through the generation functions, collecting types on the way. As
							the import section in a Java file precedes the class body, we create the body into a String variable
							and assemble the whole file's content in a second step.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtend linenums">
class DomainmodelGenerator implements IGenerator {
  
  @Inject extension IQualifiedNameProvider
  @Inject extension TypeReferenceSerializer 

  override void doGenerate(Resource resource, IFileSystemAccess fsa) {
    for(e: resource.allContents.toIterable.filter(typeof(Entity))) {
      fsa.generateFile(
        e.fullyQualifiedName.toString("/") + ".java",
        e.compile)
    }
  }
  
  def compile(Entity it) '''
    &laquo;val importManager = new ImportManager(true)&raquo; 
    &laquo;val body = body(importManager)&raquo;
    &laquo;IF eContainer != null&raquo;
      package &laquo;eContainer.fullyQualifiedName&raquo;;
    &laquo;ENDIF&raquo;
    
    &laquo;FOR i:importManager.imports&raquo;
      import &laquo;i&raquo;;
    &laquo;ENDFOR&raquo;
    
    &laquo;body&raquo;
  '''
  
  def body(Entity it, ImportManager importManager) '''
    public class &laquo;name&raquo; &laquo;IF superType != null&raquo;
      extends &laquo;superType.shortName(importManager)&raquo; &laquo;ENDIF&raquo;{
      &laquo;FOR f : features&raquo;
        &laquo;f.compile(importManager)&raquo;
      &laquo;ENDFOR&raquo;
    }
  '''
    
  def compile(Feature it, ImportManager importManager) '''
    private &laquo;type.shortName(importManager)&raquo; &laquo;name&raquo;;
    
    public &laquo;type.shortName(importManager)&raquo; 
      get&laquo;name.toFirstUpper&raquo;() {
      return &laquo;name&raquo;;
    }
    
    public void set&laquo;name.toFirstUpper&raquo;(
      &laquo;type.shortName(importManager)&raquo; &laquo;name&raquo;) {
      this.&laquo;name&raquo; = &laquo;name&raquo;;
    }
  '''
  
  def shortName(JvmTypeReference ref, 
          ImportManager importManager) {
    val result = new StringBuilderBasedAppendable(importManager)
    ref.serialize(ref.eContainer, result);
    result.toString
  }
}</pre>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="xbaseInferredType" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Inferring a JVM Model</h2>
						<p>
							In many cases, you will want your DSLs concepts to be usable as Java elements. E.g. an <strong>Entity</strong> will
							become a Java class and should be usable as such. In the domain model example, you can write
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
entity Employee extends Person {
  boss: Person
...

entity Person {
  friends: List&lt;Person&gt;
...</pre>
							<p>
						</p>
						<p>
							i.e. use entities instead of Java types or even mix Java types as <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html"><abbr title="java.util.List">List</abbr></a> with entities such as <strong>Person</strong>.
							One way to achieve this is to let your concepts inherit from a corresponding JVM type, e.g. let <strong>Entity</strong>
							inherit from <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmGenericType.html"><abbr title="org.eclipse.xtext.common.types.JvmGenericType">JvmGenericType</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmGenericType.java">(src)</a>. But this would result in a lot of 
							accidentally inherited properties in your domain model. In Xbase there is an alternative: You can simply define how
							to derive a JVM model from your model. This <strong>inferred JVM model</strong> is the representation of your concepts
							in the type system of Xbase.
						</p>
						<p>
							The main component for the inferred JVM model is the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelInferrer">IJvmModelInferrer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.java">(src)</a>.
							It has a single method that takes the root model element as an argument and produces a number of 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmDeclaredType.html">JvmDeclaredTypes</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmDeclaredType.java">(src)</a>. As Xbase cannot guess how you
							would like to map your concepts to JVM elements, you have to implement this component yourself. This
							usually boils down to using an injected <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.JvmTypesBuilder">JvmTypesBuilder</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.java">(src)</a> to create
							a hierarchy of JVM elements. The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.html">builder</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.java">(src)</a> helps
							to initialize the produced types with sensible default and encapsulates the logic that associates the
							source elements with the derived JVM concepts. As this kind of transformation can be elegantly implemented 
							using polymorphic dispatch functions and extension methods, it is a good choice to write the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelInferrer">IJvmModelInferrer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.java">(src)</a> in Xtend. It becomes even simpler if you
							inherit from the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/AbstractModelInferrer.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.AbstractModelInferrer">AbstractModelInferrer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/AbstractModelInferrer.java">(src)</a> which traverses the
							input model and dispatches to its contents until you decide which elements to handle.
						</p>
						<p>
							The inference runs in two phases: In the first phase all the types are created with empty bodies. This way you
							make sure all types exist and are referable when you create their members in the second phase. 
							Use <code class="prettyprint lang-xtend">acceptor.accept(JvmDeclaredType)</code> for the first phase and provide the initialization
							code for the second phase. You have to pass a <a href="#Xbase_Expressions_Lambda">lambda expression</a> to the method
							<code class="prettyprint lang-xtend">initializeLater()</code> on the return type of the <code class="prettyprint lang-xtend">acceptor.accept()</code> method.
							     
							For our domain model example, we implement a polymorphic dispatch function <strong>infer</strong> for
							<strong>Entities</strong> to transform them into a <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmGenericType.html"><abbr title="org.eclipse.xtext.common.types.JvmGenericType">JvmGenericType</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmGenericType.java">(src)</a> in the first phase. 
							In the second phase, we add a  
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmField.html"><abbr title="org.eclipse.xtext.common.types.JvmField">JvmField</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmField.java">(src)</a> and corresponding accessors for each <strong>Property</strong>. The final 
							<strong>DomainmodelJvmModelInferrer</strong> looks like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtend linenums">
class DomainmodelJvmModelInferrer extends AbstractModelInferrer {

  @Inject extension JvmTypesBuilder
  
  @Inject extension IQualifiedNameProvider
  
  def dispatch void infer(Entity element, 
                IJvmDeclaredTypeAcceptor acceptor, 
                boolean isPrelinkingPhase) {
    
    acceptor.accept(element.toClass(element.fullyQualifiedName)).initializeLater [
      documentation = element.documentation
      for (feature : element.features) {
        members += feature.toField(feature.name, feature.type)
        members += feature.toSetter(feature.name, feature.type)
        members += feature.toGetter(feature.name, feature.type)
      }
    ]
  }
}</pre>
							<p>
						</p>
						<!-- subsection -->
						<section id="_78" style="padding-top: 68px; margin-top: -68px;">
						<h3>Linking and Indexing</h3>
						<p>
							As Java elements and your concepts are now represented as JVM model elements, other models can now transparently
							link to Java or your DSL. In other words, you can use a mapped element of your DSL in the same places
							as the corresponding Java type.
						</p>
						<p>
							The Xbase framework will automatically switch between the JVM element or the DSL element when needed, e.g. when 
							following hyperlinks. The component allowing to navigate between the source model and the JVM model is
							called <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/IJvmModelAssociations.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelAssociations">IJvmModelAssociations</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelAssociations.java">(src)</a>, the read-only antagonist of the
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/IJvmModelAssociator.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelAssociator">IJvmModelAssociator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelAssociator.java">(src)</a> that is used by the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.JvmTypesBuilder">JvmTypesBuilder</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.java">(src)</a>.
						</p>
						<p>
							By default, the inferred model is <a href="#global_scopes">indexed</a>, so it can be cross referenced from other
							models.
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="xbaseExpressions" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Using Xbase Expressions</h2>
						<p>
							Xbase is an expression language that can be embedded into Xtext languages. Its syntax is close to Java,
							but it additionally offers type inference, lambda expressions, a powerful switch expression and a lot more. For details
							on this expression language, please consult the <a href="#xbaseLanguageRef_Introduction">reference documentation</a> and the 
							Xbase tutorial <strong>(File &gt; New &gt; Example &gt; Xtext Examples &gt; Xbase Tutorial)</strong>.
						</p>
						<p>
							Xbase ships with an interpreter and a compiler that produces Java code. Thus, it is easy to add  
							behavior to your DSLs and make them executable. As Xbase integrates tightly with Java, there is usually no additional code needed to run 
							your DSL as part of a Java application.
						</p>
						<!-- subsection -->
						<section id="_79" style="padding-top: 68px; margin-top: -68px;">
						<h3>Making Your Grammar Refer To Xbase</h3>
						<p>
							If you want to refer to <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClassifier.html">EClassifiers</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClassifier.java">(src)</a> from the Xbase model, you need
							to import Xbase first:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
import "http://www.eclipse.org/xtext/xbase/Xbase" as xbase</pre>
							<p>
						</p>
						<p>
							Now identify the location in your grammar where you want references to Java types and Xbase expressions to appear
							and call the appropriate rules of the super grammar. Adding Xbase expression to the domainmodel example leads to the
							additional concept <strong>Operation</strong>.: An <strong>Operation</strong>'s 
							parameters are <strong>FullJvmFormalParameters</strong>. The production rule for <strong>FullJvmFormalParameters</strong> expects
							both the name and the type here. That is reasonable since the type of parameters should not be inferred. 
							The operation's return type is a <strong>JvmTypeReference</strong> and its <strong>body</strong> is
							an <strong>XBlockExpression</strong>. The final parser rule reads as:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Operation:
  'op' name=ValidID '(' 
  (params+=FullJvmFormalParameter (',' params+=FullJvmFormalParameter)*)? ')' 
  ':' type=JvmTypeReference 
    body=XBlockExpression;</pre>
							<p>
						</p>
						<p>
							If you are unsure which entry point to choose for your expressions, consider the <strong>XBlockExpression</strong>.
						</p>
						<p>
							To integrate <strong>Operations</strong> in our models, we have to call this rule. We copy the previous <strong>Feature</strong>
							to a new rule <strong>Property</strong> and let <strong>Feature</strong> become the super type of <strong>Property</strong> and <strong>Operation</strong>:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Feature:
  Property | Operation
;
 
Property:
  name = ID ':' type = JvmTypeReference
;</pre>
							<p>
						</p>
						<p>
							Note: You will have to adapt the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelInferrer">IJvmModelInferrer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.java">(src)</a> to these
							changes, i.e. rename <strong>Feature</strong> to <strong>Property</strong> and create a <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmOperation.html"><abbr title="org.eclipse.xtext.common.types.JvmOperation">JvmOperation</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmOperation.java">(src)</a>
							for each <strong>Operation</strong>. We leave that as an exercise :-)
						</p>
						<p>
							If you are done with that, everything will work out of the box. Since each expression is now logically
							contained in an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmOperation.html">operation</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmOperation.java">(src)</a>, all the scoping rules and
							visibility constraints are implied from that context. The framework will take care that the operation's
							parameters are visible inside the operation's body and that the declared return types are validated against the actual
							expression types.
						</p>
						<p>
							There is yet another aspect of the JVM model that can be explored. Since all the coarse grained concepts
							such as <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmType.html">types</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmType.java">(src)</a> and <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmOperation.html">operations</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmOperation.java">(src)</a>
							were already derived from the model, a generator can be used to serialize that information to Java code.
							There is no need to write a code generator on top of that. The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/compiler/JvmModelGenerator.html"><abbr title="org.eclipse.xtext.xbase.compiler.JvmModelGenerator">JvmModelGenerator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/compiler/JvmModelGenerator.xtend">(src)</a>
							knows how to generate operation bodies properly.
						</p>
						</section>
						<!-- subsection -->
						<section id="_80" style="padding-top: 68px; margin-top: -68px;">
						<h3>Using the Xbase Interpreter</h3>
						<p>
							Sometimes it is more convenient to interpret a model that uses Xbase than to generate code from it.  
							Xbase ships with the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/interpreter/impl/XbaseInterpreter.html"><abbr title="org.eclipse.xtext.xbase.interpreter.impl.XbaseInterpreter">XbaseInterpreter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/interpreter/impl/XbaseInterpreter.java">(src)</a> which makes this
							rather easy.
						</p>
						<p>
							An interpreter is essentially an external visitor, that recursively processes a model based on the model
							element's types. By now you should be aware that polymorphic dispatching is exactly the technology needed
							here. In the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/interpreter/impl/XbaseInterpreter.html"><abbr title="org.eclipse.xtext.xbase.interpreter.impl.XbaseInterpreter">XbaseInterpreter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/interpreter/impl/XbaseInterpreter.java">(src)</a>, the dispatch method
							is called <strong>_evaluate&lt;SomeDescription&gt;</strong> and takes three parameters, e.g.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
protected Object _evaluateBlockExpression(XBlockExpression literal, 
                      IEvaluationContext context, 
                      CancelIndicator indicator)</pre>
							<p>
						</p>
						<p>
							The <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/expressions/IEvaluationContext.html"><abbr title="org.eclipse.core.expressions.IEvaluationContext">IEvaluationContext</abbr></a> keeps the state of the running application,
							i.e. the local variables and their values. Additionally, it can be <strong>fork</strong>ed, thus allowing to shadow the 
							elements of the original context. Here is an example code snippet how to call the
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/interpreter/impl/XbaseInterpreter.html"><abbr title="org.eclipse.xtext.xbase.interpreter.impl.XbaseInterpreter">XbaseInterpreter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/interpreter/impl/XbaseInterpreter.java">(src)</a>:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
@Inject private XbaseInterpreter xbaseInterpreter;

@Inject private Provider&lt;IEvaluationContext&gt; contextProvider;

...
public Object evaluate(XExpression expression, Object thisElement) {
  IEvaluationContext evaluationContext = contextProvider.get();
  // provide initial context and implicit variables
  evaluationContext.newValue(XbaseScopeProvider.THIS, thisElement);
  
  IEvaluationResult result = xbaseInterpreter.evaluate(expression,   
    evaluationContext, CancelIndicator.NullImpl);
  if (result.getException() != null) {
    // handle exception
  } 
  return result.getResult();
}</pre>
							<p>
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="xbaseLanguageRef_Introduction" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Xbase Language Reference</h2>
						<p>
							This document describes the expression language library Xbase. Xbase is a partial programming language
							implemented in Xtext and is meant to be embedded and extended within other programming languages and 
							domain-specific languages (DSL) written in Xtext. Xtext is a highly extendable language development 
							framework covering all aspects of language infrastructure such as parsers, linkers, compilers, 
							interpreters and even full-blown IDE support based on Eclipse.
						</p>
						<p>
							Developing DSLs has become incredibly easy with Xtext. Structural languages which introduce new 
							coarse-grained concepts, such as services, entities, value objects or state-machines can be developed 
							in minutes. However, software systems do not consist of structures solely. At some point a system needs 
							to have some behavior, which is usually specified using so called <strong>expressions</strong>. Expressions are the 
							heart of every programming language and are not easy to get right. On the other hand, expressions are 
							well understood and many programming languages share a common set and understanding of expressions.
						</p>
						<p>
							That is why most people do not add support for expressions in their DSL but try to solve this 
							differently. The most often used workaround is to define only the structural information in the DSL 
							and add behavior by modifying or extending the generated code. It is not only unpleasant to write, 
							read and maintain information which closely belongs together in two different places, abstraction levels 
							and languages. Also, modifying the generated source code comes with a lot of additional problems. 
							This has long time been the preferred solution since adding support for expressions (and a corresponding 
							execution environment) for your language has been hard - even with Xtext.
						</p>
						<p>
							Xbase serves as a language library providing a common expression language bound to the Java platform 
							(i.e. Java Virtual Machine). It consists of an Xtext grammar, as well as reusable and adaptable 
							implementations for the different aspects of a language infrastructure such as an AST structure, a 
							compiler, an interpreter, a linker, and a static analyzer. In addition it comes with implementations to 
							integrate the expression language within an Xtext-based Eclipse IDE. Default implementations for aspects
							like content assistance, syntax coloring, hovering, folding and navigation can be easily integrated and 
							reused within any Xtext based language.
						</p>
						<p>
							Conceptually and syntactically, Xbase is very close to Java statements and expressions, but with a few 
							differences:
							</p>
							<ul>
								<li>No checked exceptions</li>
								<li>Everything is an expression, there are no statements</li>
								<li>Lambda expressions</li>
								<li>Type inference</li>
								<li>Properties</li>
								<li>Simple operator overloading</li>
								<li>Powerful switch expressions</li>
							</ul>
							<p>
						</p>
						<!-- subsection -->
						<section id="xbaseLanguageRef_Syntax" style="padding-top: 68px; margin-top: -68px;">
						<h3>Lexical Syntax</h3>
						<p>
							Xbase comes with a small set of terminal rules, which can be overridden and hence changed by users. 
							However the default implementation is carefully chosen and it is recommended to stick with the 
							lexical syntax described in the following.
						</p>
						<!-- subsection -->
						<section id="Xbase_Syntax_Identifiers" style="padding-top: 68px; margin-top: -68px;">
						<h4>Identifiers</h4>
						<p>
							Identifiers are used to name all constructs, such as types, methods and variables. Xbase uses the default
							identifier-syntax from Xtext - compared to Java, they are slightly simplified to match the common cases
							while having less ambiguities. They start with a letter <strong>a</strong>-<strong>z</strong>, <strong>A</strong>-<strong>Z</strong> or an underscore followed
							by more of these characters or any digit <strong>0</strong>-<strong>9</strong>.
						</p>
						<!-- subsection -->
						<section id="Xbase_Syntax_EscapedIdentifiers" style="padding-top: 68px; margin-top: -68px;">
						<h5>Escaped Identifiers</h5>
						<p>
							Identifiers must not have the same spelling as any reserved keyword. 
							However, this limitation can be avoided by escaping identifiers with the prefix <code class="prettyprint lang-xtend">^</code>. Escaped identifiers 
							are used in cases when there is a conflict with a reserved keyword. Imagine you have introduced a 
							keyword <code class="prettyprint lang-xtend">service</code> in your language but want to call a Java property <strong>service</strong>. 
							In such cases you can use the escaped identifier <code class="prettyprint lang-xtend">^service</code> to reference the Java property.
						</p>
						</section>
						<!-- subsection -->
						<section id="_81" style="padding-top: 68px; margin-top: -68px;">
						<h5>Syntax</h5>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
terminal ID: 
  '^'? ('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*
;</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_82" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xtend">Foo</code></li>
								<li><code class="prettyprint lang-xtend">Foo42</code></li>
								<li><code class="prettyprint lang-xtend">FOO</code></li>
								<li><code class="prettyprint lang-xtend">_42</code></li>
								<li><code class="prettyprint lang-xtend">_foo</code></li>
								<li><code class="prettyprint lang-xtend">^extends</code></li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Syntax_Comments" style="padding-top: 68px; margin-top: -68px;">
						<h4>Comments</h4>
						<p>
							Xbase comes with two different kinds of comments: Single-line comments and multi-line comments.
							The syntax is the same as the one known from Java (see <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.7">§ 3.7 Comments</a>).
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Syntax_Whitespace" style="padding-top: 68px; margin-top: -68px;">
						<h4>White Space</h4>
						<p>
							The white space characters <code class="prettyprint lang-xtend">' '</code>, <code class="prettyprint lang-xtend">'\t'</code>, <code class="prettyprint lang-xtend">'\n'</code>, and <code class="prettyprint lang-xtend">'\r</code> are allowed to occur anywhere between the other syntactic elements.
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Syntax_Keywords" style="padding-top: 68px; margin-top: -68px;">
						<h4>Reserved Keywords</h4>
						<p>
							The following list of words are reserved keywords, thus reducing the set of possible identifiers:
							</p>
							<ol>
								<li><code class="prettyprint lang-xbase">as</code></li>
								<li><code class="prettyprint lang-xbase">case</code></li>
								<li><code class="prettyprint lang-xbase">catch</code></li>
								<li><code class="prettyprint lang-xbase">default</code></li>
								<li><code class="prettyprint lang-xbase">do</code></li>
								<li><code class="prettyprint lang-xbase">else</code></li>
								<li><code class="prettyprint lang-xbase">extends</code></li>
								<li><code class="prettyprint lang-xbase">false</code></li>
								<li><code class="prettyprint lang-xbase">finally</code></li>
								<li><code class="prettyprint lang-xbase">for</code></li>
								<li><code class="prettyprint lang-xbase">if</code></li>
								<li><code class="prettyprint lang-xbase">instanceof</code></li>
								<li><code class="prettyprint lang-xbase">new</code></li>
								<li><code class="prettyprint lang-xbase">null</code></li>
								<li><code class="prettyprint lang-xbase">return</code></li>
								<li><code class="prettyprint lang-xbase">super</code></li>
								<li><code class="prettyprint lang-xbase">switch</code></li>
								<li><code class="prettyprint lang-xbase">throw</code></li>
								<li><code class="prettyprint lang-xbase">true</code></li>
								<li><code class="prettyprint lang-xbase">try</code></li>
								<li><code class="prettyprint lang-xbase">typeof</code></li>
								<li><code class="prettyprint lang-xbase">val</code></li>
								<li><code class="prettyprint lang-xbase">var</code></li>
								<li><code class="prettyprint lang-xbase">while</code></li>
							</ol>
							<p>
						</p>
						<p>
							In case some of the keywords have to be used as identifiers, the escape character for <a href="#Xbase_Syntax_EscapedIdentifiers">identifiers</a> comes in handy.
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="xbaseLanguageRef_Types" style="padding-top: 68px; margin-top: -68px;">
						<h3>Types</h3>
						<p>
							Basically all kinds of JVM types are available and referable.
						</p>
						<!-- subsection -->
						<section id="Xbase_Types_Arrays" style="padding-top: 68px; margin-top: -68px;">
						<h4>Arrays</h4>
						<p>
							Arrays cannot be declared explicitly,
							but they can be passed around and they are (if needed) transparently converted to a List of the component type.
						</p>
						<p>
							In other words, the return type of a Java method that returns an array of ints (<code class="prettyprint lang-java">int[]</code>) can be directly assigned to 
							a variable of type <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html">List&lt;Integer&gt;</a>. Due to type inference
							this conversion happens implicitly. The conversion is bi-directional: Any method that takes an array as argument can be invoked 
							with a <code class="prettyprint lang-xtend">List</code> instead.
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Types_TypeReferences" style="padding-top: 68px; margin-top: -68px;">
						<h4>Simple Type References</h4>
						<p>
							A simple type reference only consists of a <strong>qualified name</strong>. A qualified name is a name made up of identifiers which are separated by a dot 
							(like in Java).
						</p>
						<p>
							There is no parser rule for a simple type reference, as it is expressed as a parameterized type references without parameters.
						</p>
						<!-- subsection -->
						<section id="_83" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xtend">java.lang.String</code></li>
								<li><code class="prettyprint lang-xtend">String</code></li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Types_FunctionTypes" style="padding-top: 68px; margin-top: -68px;">
						<h4>Function Types</h4>
						<p>
							Xbase introduces <strong>lambda expressions</strong>, and therefore an additional function type signature. On the JVM-Level a lambda
							expression (or more generally any function object) is just an instance of one of the types in 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/lib/Functions.html"><abbr title="org.eclipse.xtext.xbase.lib.Functions">Functions</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/Functions.java">(src)</a>, 
							depending on the number of arguments. However, as lambda expressions are a very important language feature, 
							a special sugared syntax for function types has been introduced.  
							So instead of writing <code class="prettyprint lang-java">Function1&lt;String,Boolean&gt;</code> one can write <code class="prettyprint lang-xbase">(String)=&gt;Boolean</code>.
						</p>
						<p>
							For more information on lambda expressions see <a href="#Xbase_Expressions_Lambda"></a>.
						</p>
						<!-- subsection -->
						<section id="_84" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xbase">=&gt;Boolean // predicate without parameters</code></li>
								<li><code class="prettyprint lang-xbase">()=&gt;String // provider of string</code></li>
								<li><code class="prettyprint lang-xbase">(String)=&gt;Boolean // One argument predicate</code></li>
								<li><code class="prettyprint lang-xbase">(Mutable)=&gt;void // A procedure doing side effects only</code></li>
								<li><code class="prettyprint lang-xbase">(List&lt;String&gt;, Integer)=&gt;String</code></li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Types_ParameterizedTypeReference" style="padding-top: 68px; margin-top: -68px;">
						<h4>Parameterized Type References</h4>
						<p>
							The general syntax for type references allows to take any number of type arguments. The semantics as well as the syntax is almost the same as in Java, so please 
							refer to the third edition of the  <a href="http://docs.oracle.com/javase/specs/jls/se7/html/index.html">Java Language Specification</a>.
						</p>
						<p>
							The only difference is that in Xbase a type reference can also be a function type. In the following the full syntax of type references is shown, including function types and
							type arguments.
						</p>
						<!-- subsection -->
						<section id="_85" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xbase">String</code></li>
								<li><code class="prettyprint lang-xbase">java.lang.String</code></li>
								<li><code class="prettyprint lang-xbase">List&lt;?&gt;</code></li>
								<li><code class="prettyprint lang-xbase">List&lt;? extends Comparable&lt;? extends FooBar&gt;</code></li>
								<li><code class="prettyprint lang-xbase">List&lt;? super MyLowerBound&gt;</code></li>
								<li><code class="prettyprint lang-xbase">List&lt;? extends =&gt;Boolean&gt;</code></li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Types_Primitives" style="padding-top: 68px; margin-top: -68px;">
						<h4>Primitives</h4>
						<p>
							Xbase supports all Java primitives. The conformance rules (e.g. boxing and unboxing) are also exactly like defined
							in the Java Language Specification.
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Types_ConformanceRules" style="padding-top: 68px; margin-top: -68px;">
						<h4>Conformance and Conversion</h4>
						<p>
							Type conformance rules are used in order to find out whether some expression can be used in a certain situation. For instance when assigning a value to a variable, 
							the type of the right hand expression needs to conform to the type of the variable.
						</p>
						<p>
							As Xbase implements the type system of Java it also fully supports the conformance rules defined
							in the <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html">Java Language Specification</a>.
						</p>
						<p>
							Some types in Xbase can be used synonymously even if they do not conform to each other in Java. An example for this are arrays and lists 
							or function types with compatible function parameters. Objects of these types are implicitly converted by Xbase on demand.
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Types_CommonSuperType" style="padding-top: 68px; margin-top: -68px;">
						<h4>Common Super Type</h4>
						<p>
							Because of type inference Xbase sometimes needs to compute the most common super type of a given set
							of types.
						</p>
						<p>
							For a set <strong>[T1,T2,...Tn]</strong> of types the common super type is computed by using the linear type inheritance sequence of <strong>T1</strong> and is iterated until one type
							conforms to each <strong>T2,..,Tn</strong>. The linear type inheritance sequence of <strong>T1</strong> is computed by ordering all types which are part if the type hierarchy of <strong>T1</strong>
							by their specificity. A type <strong>T1</strong> is considered more specific than <strong>T2</strong> if <strong>T1</strong> is a subtype of <strong>T2</strong>. Any types with equal specificity will be sorted by
							the maximal distance to the originating subtype. <strong>CharSequence</strong> has distance 2 to <strong>StringBuilder</strong> because
							the super type <strong>AbstractStringBuilder</strong> implements the interface, too. Even if <strong>StringBuilder</strong> implements
							<strong>CharSequence</strong> directly, the interface gets distance 2 in the ordering because it is not the most general class
							in the type hierarchy that implements the interface. If the distances for two classes are the same in
							the hierarchy, their qualified name is used as the compare-key to ensure deterministic results.
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="xbaseLanguageRef_Expressions" style="padding-top: 68px; margin-top: -68px;">
						<h3>Expressions</h3>
						<p>
							Expressions are the main language constructs which are used to express behavior and compute values. The concept of 
							statements is not supported, but instead powerful expressions are used to handle situations in which the imperative nature of statements would
							be helpful. An expression always results in a value (it might be the value <code class="prettyprint lang-xbase">null</code> though). In addition, every resolved expressions is
							of a static type.
						</p>
						<!-- subsection -->
						<section id="Xbase_Expressions_Literals" style="padding-top: 68px; margin-top: -68px;">
						<h4>Literals</h4>
						<p>
							A literal denotes a fixed unchangeable value. Literals for strings, numbers, booleans,
							<code class="prettyprint lang-xbase">null</code> and Java types are supported.
						</p>
						<!-- subsection -->
						<section id="Xbase_Expressions_StringLiteral" style="padding-top: 68px; margin-top: -68px;">
						<h5>String Literals</h5>
						<p>
							String literals can either use <code class="prettyprint lang-xbase">'single quotes'</code> or <code class="prettyprint lang-xbase">"double quotes"</code> as their terminals. When using
							double quotes all literals allowed by Java string literals are supported. In addition new line 
							characters are allowed, i.e. in Xbase string literals can span multiple lines. When using single 
							quotes the only difference is that single quotes within the literal have to be escaped and double quotes 
							do not.
						</p>
						<p>
							See <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5">§ 3.10.5 String Literals</a>
						</p>
						<p>
							In contrast to Java, equal string literals within the same class do not necessarily refer to the same
							instance at runtime.
						</p>
						</section>
						<!-- subsection -->
						<section id="_86" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xbase">'Foo Bar Baz'</code></li>
								<li><code class="prettyprint lang-xbase">"Foo Bar Baz"</code></li>
								<li><pre class="prettyprint lang-xbase linenums">
"the quick brown fox
   jumps over the lazy dog."</pre></li>
								<li><code class="prettyprint lang-xbase">'Escapes : \' '</code></li>
								<li><code class="prettyprint lang-xbase">"Escapes : \" "</code></li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_NumberLiteral" style="padding-top: 68px; margin-top: -68px;">
						<h5>Number Literals</h5>
						<p>
							Xbase supports roughly the same number literals as Java with a few notable differences.   
							As in Java 7, you can separate digits using <code class="prettyprint lang-xbase">_</code> for better readability
							of large numbers.
							 
							An integer literal represents an <code class="prettyprint lang-xbase">int</code>, a <code class="prettyprint lang-xbase">long</code> (suffix <code class="prettyprint lang-xtend">L</code>) or even a
							<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/math/BigInteger.html"><abbr title="java.math.BigInteger">BigInteger</abbr></a> (suffix <code class="prettyprint lang-xtend">BI</code>). There are no octal number literals.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
42
1_234_567_890 
0xbeef    // hexadecimal
077       // decimal 77 (*NOT* octal)
42L
0xbeef#L // hexadecimal, mind the '#'
0xbeef_beef_beef_beef_beef#BI // BigInteger</pre>
							<p>
						</p>
						<p>
							A floating-point literal creates a <code class="prettyprint lang-xbase">double</code> (suffix <code class="prettyprint lang-xtend">D</code> or omitted), a <code class="prettyprint lang-xbase">float</code> 
							(suffix <code class="prettyprint lang-xtend">F</code>) or a <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html"><abbr title="java.math.BigDecimal">BigDecimal</abbr></a> (suffix <code class="prettyprint lang-xtend">BD</code>). If you use a <code class="prettyprint lang-xtend">.</code> sign you have to 
							specify both, the integer and the fractional part of the mantissa. There are only decimal floating-point 
							literals.  
							</p>
							<pre class="prettyprint lang-xbase linenums">
42d     // double
0.42e2  // implicit double
0.42e2f // float
4.2f    // float
0.123_456_789_123_456_789_123_456_789e2000bd // BigDecimal</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_BooleanLiteral" style="padding-top: 68px; margin-top: -68px;">
						<h5>Boolean Literals</h5>
						<p>
							There are two boolean literals, <code class="prettyprint lang-xbase">true</code> and <code class="prettyprint lang-xbase">false</code> which correspond to their Java counterpart of type <strong>boolean</strong>.
						</p>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xbase">true</code></li>
								<li><code class="prettyprint lang-xbase">false</code></li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_NullLiteral" style="padding-top: 68px; margin-top: -68px;">
						<h5>Null Literal</h5>
						<p>
							The null literal is, as in Java, <code class="prettyprint lang-xbase">null</code>. 
							It is compatible to any reference type and therefore always of the null type.
						</p>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xbase">null</code></li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_TypeLiteral" style="padding-top: 68px; margin-top: -68px;">
						<h5>Type Literals</h5>
						<p>
							Type literals are specified using the keyword <code class="prettyprint lang-xbase">typeof</code> :
						</p>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xbase">typeof(String)</code> which yields <code class="prettyprint lang-java">String.class</code></li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_TypeCasts" style="padding-top: 68px; margin-top: -68px;">
						<h4>Type Casts</h4>
						<p>
							Type cast behave the same as in Java, but have a slightly more readable syntax.
							Type casts bind stronger than any other operator but weaker than feature calls.
						</p>
						<p>
							The conformance rules for casts are defined in the <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.5">Java Language Specification</a>.
						</p>
						<!-- subsection -->
						<section id="_87" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xbase">my.foo as MyType</code></li>
								<li><code class="prettyprint lang-xbase">(1 + 3 * 5 * (- 23)) as BigInteger</code></li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_Operators" style="padding-top: 68px; margin-top: -68px;">
						<h4>Infix Operators / Operator Overloading</h4>
						<p>
							There are a couple of common predefined infix operators. In contrast to Java, the operators are not limited
							to operations on certain types. Instead an operator-to-method mapping allows users to redefine the 
							operators for any type just by implementing the corresponding method signature.
							The following defines the operators and the corresponding Java method signatures / expressions.
						</p>
						<p>
							</p>
							<table class="table table-bordered table-condensed">
							<tr><td><code class="prettyprint lang-xtend">e1 += e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_add(e2)</code></td>
							</tr>
							<tr><td></td>
							<td></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 || e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_or(e2)</code></td>
							</tr>
							<tr><td></td>
							<td></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 &amp;&amp; e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_and(e2)</code></td>
							</tr>
							<tr><td></td>
							<td></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 == e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_equals(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 != e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_notEquals(e2)</code></td>
							</tr>
							<tr><td></td>
							<td></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 &lt; e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_lessThan(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 &gt; e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_greaterThan(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 &lt;= e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_lessEqualsThan(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 &gt;= e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_greaterEqualsThan(e2)</code></td>
							</tr>
							<tr><td></td>
							<td></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 -&gt; e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_mappedTo(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 .. e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_upTo(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 =&gt; e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_doubleArrow(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 &lt;&lt; e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_doubleLessThan(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 &gt;&gt; e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_doubleGreaterThan(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 &lt;&lt;&lt; e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_tripleLessThan(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 &gt;&gt;&gt; e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_tripleGreaterThan(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 &lt;&gt; e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_diamond(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 ?: e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_elvis(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 &lt;=&gt; e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_spaceship(e2)</code></td>
							</tr>
							<tr><td></td>
							<td></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 + e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_plus(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 - e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_minus(e2)</code></td>
							</tr>
							<tr><td></td>
							<td></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 * e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_multiply(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 / e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_divide(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 % e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_modulo(e2)</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">e1 ** e2</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_power(e2)</code></td>
							</tr>
							<tr><td></td>
							<td></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">! e1</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_not()</code></td>
							</tr>
							<tr><td><code class="prettyprint lang-xtend">- e1</code></td>
							<td><code class="prettyprint lang-xtend">e1.operator_minus()</code></td>
							</tr>
							</table>
							<p>
							
							    
							The table above also defines the operator precedence in ascending order. The blank lines separate precedence levels. 
							The assignment operator <code class="prettyprint lang-xtend">+=</code> is right-to-left associative in the same way as the plain assignment
							operator <code class="prettyprint lang-xtend">=</code> is. Consequently, <code class="prettyprint lang-xtend">a = b = c</code> is executed as <code class="prettyprint lang-xtend">a = (b = c)</code>. All other
							operators are left-to-right associative. Parentheses can be used to adjust the default precedence and associativity.
						</p>
						<!-- subsection -->
						<section id="_88" style="padding-top: 68px; margin-top: -68px;">
						<h5>Short-Circuit Boolean Operators</h5>
						<p>
							If the operators <code class="prettyprint lang-xtend">||</code> and <code class="prettyprint lang-xtend">&amp;&amp;</code> are used in a context where the left hand operand is of type boolean, the operation is evaluated
							in short circuit mode, which means that the right hand operand is not evaluated at all in the following cases: 
							</p>
							<ol>
								<li>in the case of <code class="prettyprint lang-xtend">||</code> the operand on the right hand side is not evaluated if the left operand evaluates to <code class="prettyprint lang-xbase">true</code>.</li>
								<li>in the case of <code class="prettyprint lang-xtend">&amp;&amp;</code> the operand on the right hand side is not evaluated if the left operand evaluates to <code class="prettyprint lang-xbase">false</code>.</li>
							</ol>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_89" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xbase">my.foo = 23</code></li>
								<li><code class="prettyprint lang-xbase">myList += 23</code></li>
								<li><code class="prettyprint lang-xbase">x &gt; 23 &amp;&amp; y &lt; 23</code></li>
								<li><code class="prettyprint lang-xbase">x &amp;&amp; y || z</code></li>
								<li><code class="prettyprint lang-xbase">1 + 3 * 5 * (- 23)</code></li>
								<li><code class="prettyprint lang-xbase">!(x)</code></li>
								<li><code class="prettyprint lang-xbase">my.foo = 23</code></li>
								<li><code class="prettyprint lang-xbase">my.foo = 23</code></li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_90" style="padding-top: 68px; margin-top: -68px;">
						<h5>With Operator</h5>
						<p>
							The <strong>with</strong> operator <code class="prettyprint lang-xtend">=&gt;</code> executes the <a href="#Xbase_Expressions_Lambda">lambda expression</a> with a single parameter on the right-hand
							 side with a given argument on its left-hand side. The result is the left operand after applying the lambda expression. In 
							combination with the  <a href="#Xbase_Expressions_implicit_parameter">implicit parameter</a> <code class="prettyprint lang-xbase">it</code> this allows very convenient
							initialization of newly created objects. Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
val person = new Person =&gt; [
  firstName = 'John'
  lastName = 'Coltrane'
]
// equivalent to
val person = new Person
person.firstName = 'John'
person.lastName = 'Coltrane'</pre>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_PropertyAssignment" style="padding-top: 68px; margin-top: -68px;">
						<h4>Assignments</h4>
						<p>
							<a href="#Xbase_Expressions_VariableDeclaration">Local variables</a> can be reassigned using the <code class="prettyprint lang-xtend">=</code> operator. Also properties can be set using 
							that operator:
							Given the expression
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
myObj.myProperty = "foo"</pre>
							<p>
						</p>
						<p>
							The compiler first looks for an accessible Java Field called <code class="prettyprint lang-xtend">myProperty</code> on the declared or inferred type of <code class="prettyprint lang-xtend">myObj</code>. If such
							a field can be found, the expressions translates to
							the following Java code:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
myObj.myProperty = "foo";</pre>
							<p>
						</p>
						<p>
							Remember, in Xbase everything is an expression and has to return something. In the case of simple assignments the return value is the value returned from the corresponding
							Java expression, which is the assigned value.
						</p>
						<p>
							If there is no accessible field on the left operand's type, a method called <code class="prettyprint lang-java">setMyProperty(OneArg)</code> (JavaBeans
							setter method) is looked up. It has to take one argument of the type (or a super type) of the right hand operand. The return value of the assignment will be the 
							return value of the setter method (which is usually of type <code class="prettyprint lang-xbase">void</code> and therefore the value <code class="prettyprint lang-xbase">null</code>). 
							As a result the compiler translates to :
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
myObj.setMyProperty("foo")</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_FeatureCalls" style="padding-top: 68px; margin-top: -68px;">
						<h4>Feature Calls</h4>
						<p>
							A feature call is used to access members of objects, such as fields and methods, but it can also refer to local variables and parameters, 
							which are made available by the current expression's scope.
						</p>
						<!-- subsection -->
						<section id="Xbase_Expressions_PropertyAccess" style="padding-top: 68px; margin-top: -68px;">
						<h5>Property Access</h5>
						<p>
							Feature calls are directly translated to their Java equivalent with the exception, that access to properties follows similar rules as 
							described in <a href="#Xbase_Expressions_PropertyAssignment"></a>. 
							That is, for the expression
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
myObj.myProperty</pre>
							<p>
						</p>
						<p>
							the compiler first looks for an accessible field <code class="prettyprint lang-xbase">myProperty</code> in the type of <code class="prettyprint lang-xbase">myObj</code>. If no such field exists it 
							tries to find a method called <code class="prettyprint lang-java">myProperty()</code> before it looks 
							for the getter methods <code class="prettyprint lang-java">getMyProperty()</code>. If none of these members can be found, the expression is unbound and a compilation error is indicated.
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_NullSafeFeatureCalls" style="padding-top: 68px; margin-top: -68px;">
						<h5>Null-Safe Feature Call</h5>
						<p>
							Checking for null references can make code very unreadable. In many situations it is ok for an expression to return <code class="prettyprint lang-xbase">null</code> if a receiver was <code class="prettyprint lang-xbase">null</code>.
							Xbase supports the safe navigation operator <code class="prettyprint lang-xbase">?.</code> to make such code more readable.
						</p>
						<p>
							Instead of writing
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
if ( myRef != null ) myRef.doStuff()</pre>
							<p>
						</p>
						<p>
							one can write
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
myRef?.doStuff()</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_staticFeatureCalls" style="padding-top: 68px; margin-top: -68px;">
						<h5>Static Feature Calls</h5>
						<p>
							To access static members of a type, use <code class="prettyprint lang-xtend">::</code>, e.g.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
java::util::Collections::singleton("Lonesome Cowboy")
System::err.println("An error occurred")</pre>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_ImplicitThis" style="padding-top: 68px; margin-top: -68px;">
						<h4>Implicit variables 'this' and 'it'</h4>
						<p>
							If the current scope contains a variable named <code class="prettyprint lang-xbase">this</code> or <code class="prettyprint lang-xbase">it</code>, the compiler will make all its members available implicitly.
							That is if one of 
							</p>
							<pre class="prettyprint lang-xbase linenums">
it.myProperty
this.myProperty</pre>
							<p>
							
							is a valid expression
							</p>
							<pre class="prettyprint lang-xbase linenums">
myProperty</pre>
							<p>
							
							is valid as well. It resolves to the same feature as long as there is no local variable <code class="prettyprint lang-xbase">myProperty</code> declared,
							which would have higher precedence.
						</p>
						<p>
							As <code class="prettyprint lang-xbase">this</code> is bound to the surrounding object in Java, <code class="prettyprint lang-xbase">it</code> can be used
							in finer-grained constructs such as function parameters. That is why <code class="prettyprint lang-xbase">it.myProperty</code> has 
							higher precedence than <code class="prettyprint lang-xbase">this.myProperty</code>. <code class="prettyprint lang-xbase">it</code> is also the 
							<a href="#Xbase_Expressions_implicit_parameter">default parameter name in lambda expressions</a>.
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_ConstructorCall" style="padding-top: 68px; margin-top: -68px;">
						<h4>Constructor Call</h4>
						<p>
							Construction of objects is done by invoking Java constructors. The syntax is exactly as in Java.
						</p>
						<!-- subsection -->
						<section id="_91" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><pre class="prettyprint lang-xbase linenums">
new String()</pre></li>
								<li><pre class="prettyprint lang-xbase linenums">
new java.util.ArrayList&lt;java.math.BigDecimal&gt;()</pre></li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_Lambda" style="padding-top: 68px; margin-top: -68px;">
						<h4>Lambda Expressions</h4>
						<p>
							A lambda expression is a literal that defines an anonymous function. Xbase' lambda expressions are allowed
							to access variables of the declarator. Any final variables and parameters visible at construction 
							time can be referred to in the lambda expression's body. These expressions are also known as closures.
						</p>
						<p>
							Lambda expressions are surrounded by square brackets (\<code class="prettyprint lang-xtend">[]</code>):
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
myList.findFirst([ e | e.name==null ])</pre>
							<p>
						</p>
						<p>
							When a function object is expected to be the last parameter of a feature call, you may declare the lambda expression after the parentheses:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
myList.findFirst() [ e | e.name==null ]</pre>
							<p>
						</p>
						<p>
							Since in Xbase parentheses are optional for method calls, the same can be written as:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
myList.findFirst[ e | e.name==null ]</pre>
							<p>
						</p>
						<p>
							This example can be further simplified since the lambda's parameter is available as the implicit variable <code class="prettyprint lang-xbase">it</code>, 
							if the parameter is not declared explicitly:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
myList.findFirst[ it.name==null ]</pre>
							<p>
						</p>
						<p>
							Since <code class="prettyprint lang-xbase">it</code> is implicit, this is the same as:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
myList.findFirst[ name==null ]</pre>
							<p>
						</p>
						<p>
							Another use case for lambda expressions is to store function objects in variables:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
val func = [ String s | s.length&gt;3 ]</pre>
							<p>
						</p>
						<!-- subsection -->
						<section id="Xbase_Expressions_LambdaTypeInference" style="padding-top: 68px; margin-top: -68px;">
						<h5>Typing</h5>
						<p>
							Lambda expressions produce function objects. The type is a <a href="#Xbase_Types_FunctionTypes">function type</a>, parameterized
							with the types of the lambda's parameters as well as the return type. The return type is never specified explicitly but is always inferred from the expression. 
							The parameter types can be inferred if the lambda expression is used in a context where this is possible.
						</p>
						<p>
							For instance, given the following Java method signature:
							</p>
							<pre class="prettyprint lang-java linenums">
public T &lt;T&gt;getFirst(List&lt;T&gt; list, Function0&lt;T,Boolean&gt; predicate)</pre>
							<p>
						</p>
						<p>
							the type of the parameter can be inferred. Which allows users to write:
							</p>
							<pre class="prettyprint lang-xbase linenums">
newArrayList( "Foo", "Bar" ).findFirst[ e | e == "Bar" ]</pre>
							<p>
							
							instead of 
							</p>
							<pre class="prettyprint lang-xbase linenums">
newArrayList( "Foo", "Bar" ).findFirst[ String e | e == "Bar" ]</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_FunctionMapping" style="padding-top: 68px; margin-top: -68px;">
						<h5>Function Mapping</h5>
						<p>
							An Xbase lambda expression is a Java object of one of the <strong>Function</strong> interfaces that are part of the runtime library of Xbase. There is an interface 
							for each number of parameters (up to six parameters). The names of the interfaces are 
							</p>
							<ul>
								<li><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/lib/Functions.Function0.html">Function0&lt;ReturnType&gt;</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/Functions.java">(src)</a> for zero parameters,</li>
								<li><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/lib/Functions.Function1.html">Function1&lt;Param1Type, ReturnType&gt;</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/Functions.java">(src)</a> for one parameters,</li>
								<li><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/lib/Functions.Function2.html">Function2&lt;Param1Type, Param2Type, ReturnType&gt;</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/Functions.java">(src)</a> for two parameters,</li>
								<li>...</li>
								<li><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/lib/Functions.Function6.html">Function6&lt;Param1Type, Param2Type, Param3Type, Param4Type, Param5Type, Param6Type, ReturnType&gt;</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/Functions.java">(src)</a> for six parameters,</li>
							</ul>
							<p>
							
							or
							</p>
							<ul>
								<li><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/lib/Procedures.Procedure0.html">Procedure0</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/Procedures.java">(src)</a> for zero parameters,</li>
								<li><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/lib/Procedures.Procedure1.html">Procedure1&lt;Param1Type&gt;</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/Procedures.java">(src)</a> for one parameters,</li>
								<li><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/lib/Procedures.Procedure2.html">Procedure2&lt;Param1Type, Param2Type&gt;</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/Procedures.java">(src)</a> for two parameters,</li>
								<li>...</li>
								<li><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/lib/Procedures.Procedure6.html">Procedure6&lt;Param1Type, Param2Type, Param3Type, Param4Type, Param5Type, Param6Type&gt;</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/Procedures.java">(src)</a> for six parameters,</li>
							</ul>
							<p>
							
							if the return type is <code class="prettyprint lang-java">void</code>.
						</p>
						<p>
							In order to allow seamless integration with existing Java libraries such as the JDK or Google Guava 
							(formerly known as Google Collect) lambda expressions are auto coerced to expected types if those 
							types declare only one abstract method (methods from <code class="prettyprint lang-java">java.lang.Object</code> don't count).
						</p>
						<p>
							As a result given the method <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Collections.html">Collections.sort(List&lt;T&gt;, Comparator&lt;? super T&gt;)</a> is available
							as an extension method, it can be invoked like this
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
newArrayList( 'aaa', 'bb', 'c' ).sort [
  e1, e2 | if ( e1.length &gt; e2.length ) {
        -1 
       } else if ( e1.length &lt; e2.length ) { 
        1
       } else { 
        0
       }
]</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_implicit_parameter" style="padding-top: 68px; margin-top: -68px;">
						<h5>Implicit Parameter <strong>it</strong></h5>
						<p>
							If a lambda expression has a single parameter whose type can be inferred, the declaration of the parameter can
							be omitted. Use <code class="prettyprint lang-xbase">it</code> to refer to the parameter inside the lambda expression's body.
							</p>
							<pre class="prettyprint lang-xbase linenums">
val (String s)=&gt;String function = [ toUpperCase ] 
  // equivalent to [it | it.toUpperCase]</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_92" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xbase">[ | "foo" ]   // lambda expression without parameters</code></li>
								<li><code class="prettyprint lang-xbase">[ String s | s.toUpperCase() ] // explicit argument type</code></li>
								<li><code class="prettyprint lang-xbase">[ a, b, c | a+b+c ] // inferred argument types</code></li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_IfExpression" style="padding-top: 68px; margin-top: -68px;">
						<h4>If Expression</h4>
						<p>
							An if expression is used to choose two different values based on a predicate. While it has the syntax of Java's if statement it behaves  
							like Java's ternary operator (<code class="prettyprint lang-java">predicate ? thenPart : elsePart</code>), i.e. it is an expression that returns a value. Consequently, you can use 
							if expressions deeply nested within other expressions.
						</p>
						<p>
							An expression <code class="prettyprint lang-xbase">if (p) e1 else e2</code> results in either the value <code class="prettyprint lang-xtend">e1</code> or <code class="prettyprint lang-xtend">e2</code> depending on whether the predicate <code class="prettyprint lang-xtend">p</code> 
							evaluates to <code class="prettyprint lang-xbase">true</code> or <code class="prettyprint lang-xbase">false</code>. The else part is optional which is a shorthand for <code class="prettyprint lang-xbase">else null</code>.
							That means
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
if (foo) x</pre>
							<p>
						</p>
						<p>
							is the a short hand for
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
if (foo) x else null</pre>
							<p>
						</p>
						<!-- subsection -->
						<section id="Xbase_Expressions_IfTypeInference" style="padding-top: 68px; margin-top: -68px;">
						<h5>Typing</h5>
						<p>
							The type of an if expression is calculated by the return types <code class="prettyprint lang-xtend">T1</code> and <code class="prettyprint lang-xtend">T2</code> of the two expression <code class="prettyprint lang-xtend">e1</code> and <code class="prettyprint lang-xtend">e2</code>.
							It uses the rules defined in <a href="#Xbase_Types_CommonSuperType"></a>.
						</p>
						</section>
						<!-- subsection -->
						<section id="_93" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xbase">if (isFoo) this else that</code></li>
								<li><code class="prettyprint lang-xbase">if (isFoo) { this } else if (thatFoo) { that } else { other }</code></li>
								<li><code class="prettyprint lang-xbase">if (isFoo) this</code></li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_SwitchExpression" style="padding-top: 68px; margin-top: -68px;">
						<h4>Switch Expression</h4>
						<p>
							The switch expression is a bit different from Java's. First, there is no fall through which means only one case is evaluated at most.
							Second, the use of switch is not limited to certain values but can be used for any object reference instead.
							 
							For a switch expression 
							</p>
							<pre class="prettyprint lang-xbase linenums">
switch e {
  case e1 : er1
  case e2 : er2
  ...
  case en : ern
  default : er
}</pre>
							<p>
						</p>
						<p>
							the main expression <code class="prettyprint lang-xtend">e</code> is evaluated first and then each case sequentially. If the switch expression
							contains a variable declaration using the syntax known from <a href="#Xbase_Expressions_ForLoop">for loops</a>, the value is bound to the given name.
							Expressions of type <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Boolean.html"><abbr title="java.lang.Boolean">Boolean</abbr></a> or <code class="prettyprint lang-xbase">boolean</code> are not allowed in a switch expression.
						</p>
						<p>
							The guard of each case clause is evaluated until the switch value equals the result of the case's guard expression or if the case's guard expression evaluates to <code class="prettyprint lang-xbase">true</code>.
							Then the right hand expression of the case evaluated and the result is returned.
						</p>
						<p>
							If none of the guards matches the default expression is evaluated and returned. If no default expression
							is specified the expression evaluates to <code class="prettyprint lang-xbase">null</code>.
						</p>
						<p>
							Example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
switch myString {
  case myString.length&gt;5 : 'a long string.'
  case 'foo' : "It's a foo."
  default : "It's a short non-foo string."
}</pre>
							<p>
						</p>
						<!-- subsection -->
						<section id="_94" style="padding-top: 68px; margin-top: -68px;">
						<h5>Type guards</h5>
						<p>
							In addition to the case guards one can add a so called <strong>Type Guard</strong> which is syntactically just a <a href="#Xbase_Types_TypeReferences">type reference</a> preceding
							the than optional case keyword. The compiler will use that type for the switch expression in subsequent expressions.
							Example:
							</p>
							<pre class="prettyprint lang-xbase linenums">
var Object x = ...;
switch x {
  String case x.length()&gt;0 : x.length()
  List&lt;?&gt; : x.size()
  default : -1
}</pre>
							<p>
						</p>
						<p>
							Only if the switch value passes a type guard, i.e. an instanceof operation returns <code class="prettyprint lang-xbase">true</code>, the case's guard expression is executed using the same semantics as explained above. 
							If the switch expression contains an explicit declaration of a local variable or the expression references a local variable,
							the type guard works like an automated cast. All subsequent references to the switch value will be of the type specified in the type guard.
						</p>
						</section>
						<!-- subsection -->
						<section id="_95" style="padding-top: 68px; margin-top: -68px;">
						<h5>Typing</h5>
						<p>
							The return type of a switch expression is computed using the rules defined in the
							section on <a href="#Xbase_Types_CommonSuperType">common super types</a>. The set of types from which the common 
							super type is computed corresponds to the types of each case's result expression. If a switch expression's
							type is computed using the expected type from the context, it is sufficient to return the expected type if all 
							case branches types conform to the expected type.
						</p>
						</section>
						<!-- subsection -->
						<section id="_96" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><pre class="prettyprint lang-xbase linenums">
switch foo {
  Entity : foo.superType.name
  Datatype : foo.name
  default : throw new IllegalStateException
}</pre></li>
								<li><pre class="prettyprint lang-xbase linenums">
switch x : foo.bar.complicated('hello',42) {
  case "hello42" : ...
  case x.length&lt;2 : ...
  default : ....
}</pre></li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_VariableDeclaration" style="padding-top: 68px; margin-top: -68px;">
						<h4>Variable Declarations</h4>
						<p>
							Variable declarations are only allowed within <a href="#Xbase_Expressions_Blocks">blocks</a>. They are visible in any
							subsequent expressions in the block. Generally, overriding or shadowing variables from outer scopes is not allowed.
							However, it can be used to overload the <a href="#Xbase_Expressions_ImplicitThis">implicit variable</a> 
							<code class="prettyprint lang-xbase">it</code>, in order to subsequently access an object's features in an unqualified manner.
						</p>
						<p>
							A variable declaration starting with the keyword <code class="prettyprint lang-xbase">val</code> denotes an unchangeable value, which is essentially 
							a final variable. In rare cases, one needs to update the value of a reference. In such situations
							the variable needs to be declared with the keyword <code class="prettyprint lang-xbase">var</code>, which stands for variable.
						</p>
						<p>
							A typical example for using <code class="prettyprint lang-xbase">var</code> is a counter in a loop. 
							</p>
							<pre class="prettyprint lang-xbase linenums">
{
  val max = 100
  var i = 0
  while (i &gt; max) {
    println("Hi there!")
    i = i +1
  }
}</pre>
							<p>
						</p>
						<p>
							Variables declared outside a lambda expression using the <code class="prettyprint lang-xbase">var</code> keyword are not accessible from within a
							the lambda expression.
						</p>
						<!-- subsection -->
						<section id="_97" style="padding-top: 68px; margin-top: -68px;">
						<h5>Typing</h5>
						<p>
							The return type of a variable declaration expression is always <code class="prettyprint lang-xbase">void</code>. 
							The type of the variable itself can either be explicitly declared or be inferred from the right hand side expression.
							Here is an example for an explicitly declared type:
							</p>
							<pre class="prettyprint lang-xbase linenums">
var List&lt;String&gt; msg = new ArrayList&lt;String&gt;();</pre>
							<p>
							
							In such cases, the right hand expression's type must <a href="#Xbase_Types_ConformanceRules">conform</a> to the type on the left hand side.
						</p>
						<p>
							Alternatively the type can be left out and will be inferred from the initialization expression:  
							</p>
							<pre class="prettyprint lang-xbase linenums">
var msg = new ArrayList&lt;String&gt; // -&gt; type ArrayList&lt;String&gt;</pre>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_Blocks" style="padding-top: 68px; margin-top: -68px;">
						<h4>Blocks</h4>
						<p>
							The block expression allows to have imperative code sequences. It consists of a sequence of expressions, and returns the value of the last expression.
							The return type of a block is also the type of the last expression. Empty blocks return <code class="prettyprint lang-xbase">null</code>. 
							<a href="#Xbase_Expressions_VariableDeclaration">Variable declarations</a> are only allowed within blocks and cannot be used as a block's last expression.
						</p>
						<p>
							A block expression is surrounded by curly braces and contains at least one expression.
							It can optionally be terminated by a semicolon.
						</p>
						<!-- subsection -->
						<section id="_98" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
{
  doSideEffect("foo")
  result
}</pre>
							<p>
							
							</p>
							<pre class="prettyprint lang-xbase linenums">
{
  var x = greeting();
  if (x.equals("Hello ")) {
    x+"World!"; 
  } else {
    x;
  }
}</pre>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_ForLoop" style="padding-top: 68px; margin-top: -68px;">
						<h4>For Loop</h4>
						<p>
							The for loop <code class="prettyprint lang-xbase">for (T1 variable : iterableOfT1) expression</code> is used to execute a certain expression for each element of an
							array of an instance of <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Iterable.html"><abbr title="java.lang.Iterable">Iterable</abbr></a>.
							The local <code class="prettyprint lang-xtend">variable</code> is final, hence cannot be updated.
						</p>
						<p>
							The return type of a for loop is <code class="prettyprint lang-xbase">void</code>.
							The type of the local variable can be left out. In that case it is inferred from the type of the array
							or <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Iterable.html"><abbr title="java.lang.Iterable">Iterable</abbr></a> returned by the iterable expression.
						</p>
						<p>
							</p>
							<ul>
								<li><pre class="prettyprint lang-xbase linenums">
for (String s : myStrings) {
  doSideEffect(s);
}</pre></li>
								<li><pre class="prettyprint lang-xbase linenums">
for (s : myStrings)
  doSideEffect(s)</pre></li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_WhileExpression" style="padding-top: 68px; margin-top: -68px;">
						<h4>While Loop</h4>
						<p>
							A while loop <code class="prettyprint lang-xbase">while (predicate) expression</code> is used to execute a certain expression unless the predicate is evaluated to <code class="prettyprint lang-xbase">false</code>.
							The return type of a while loop is <code class="prettyprint lang-xbase">void</code>.
						</p>
						<!-- subsection -->
						<section id="_99" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><pre class="prettyprint lang-xbase linenums">
while (true) {
  doSideEffect("foo");
}</pre></li>
								<li><pre class="prettyprint lang-xbase linenums">
while ( ( i = i + 1 ) &lt; max ) 
  doSideEffect( "foo" )</pre></li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_DoWhileExpression" style="padding-top: 68px; margin-top: -68px;">
						<h4>Do-While Loop</h4>
						<p>
							A do-while loop <code class="prettyprint lang-xbase">do expression while (predicate)</code> is used to execute a certain expression until the predicate is evaluated to <code class="prettyprint lang-xbase">false</code>.
							The difference to the <a href="#Xbase_Expressions_WhileExpression">while loop</a> is that the execution starts by executing the block once before evaluating the predicate for the first time.
							The return type of a do-while loop is <code class="prettyprint lang-xbase">void</code>.
						</p>
						<!-- subsection -->
						<section id="_100" style="padding-top: 68px; margin-top: -68px;">
						<h5>Examples</h5>
						<p>
							</p>
							<ul>
								<li><pre class="prettyprint lang-xbase linenums">
do {
  doSideEffect("foo");
} while (true)</pre></li>
								<li><pre class="prettyprint lang-xbase linenums">
do doSideEffect("foo") while ((i=i+1)&lt;max)</pre></li>
							</ul>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_Return" style="padding-top: 68px; margin-top: -68px;">
						<h4>Return Expression</h4>
						<p>
							Although an explicit return is often not necessary, it is supported.
							In a lambda expression for instance a return expression is always implied if the expression itself is not of type
							<code class="prettyprint lang-xbase">void</code>. Anyway you can make it explicit:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
listOfStrings.map [ e |
  if (e==null) 
    return "NULL"
  e.toUpperCase
]</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_Throw" style="padding-top: 68px; margin-top: -68px;">
						<h4>Throwing Exceptions</h4>
						<p>
							Like in Java it is possible to throw <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Throwable.html"><abbr title="java.lang.Throwable">Throwable</abbr></a>. The syntax is exactly the same as in Java.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
{
  ...
  if (myList.isEmpty)
    throw new IllegalArgumentException("the list must not be empty")
  ...
}</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="Xbase_Expressions_TryCatch" style="padding-top: 68px; margin-top: -68px;">
						<h4>Try, Catch, Finally</h4>
						<p>
							The try-catch-finally expression is used to handle exceptional situations.
							You are not forced to declare checked exceptions. If you don't catch checked exceptions, they are thrown in a way the compiler
							does not complain about a missing throws clause, using the sneaky-throw technique introduced by 
							<a href="http://projectlombok.org/features/SneakyThrows.html">Lombok</a>.
							The syntax again is the same known from Java.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
try {
  throw new RuntimeException()
} catch (NullPointerException e) {
  // handle e
} finally {
  // do stuff
}</pre>
							<p>
						</p>
						</section>
						</section>
						<!-- subsection -->
						<section id="xbaseLanguageRef_LibraryExtension" style="padding-top: 68px; margin-top: -68px;">
						<h3>Extension Methods</h3>
						<p>
							Languages extending Xbase might want to contribute to the feature scope. Besides that, one can of course
							change the whole implementation as it seems fit. There is a special hook, which can be used to add 
							so-called extension methods to existing types.
						</p>
						<p>
							Xbase itself comes with a standard library of such extension methods adding support for various operators
							for the common types, such as <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html"><abbr title="java.lang.String">String</abbr></a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html"><abbr title="java.util.List">List</abbr></a>, etc.
						</p>
						<p>
							These extension methods are declared in separate Java classes. There are various ways how extension methods
							can be added. In the simplest case the language designer predefines which extension methods are available.
							Language users cannot add additional library functions using this mechanism.
						</p>
						<p>
							Another alternative is to have them looked up by a certain naming convention. Also for more general languages
							it is possible to let users add extension methods using imports or similar mechanisms. This approach can be seen in the
							language <a href="http://www.xtend-lang.org">Xtend</a>, where extension methods are lexically imported through static
							imports and/or dependency injection.
						</p>
						<p>
							The precedence of extension methods is always lower than real member methods, i.e. you cannot override
							member features. Also the extension members are not invoked polymorphic. If you have two extension methods
							on the scope (<code class="prettyprint lang-xtend">foo(Object)</code> and <code class="prettyprint lang-xtend">foo(String)</code>) the expression <code class="prettyprint lang-xbase">(foo as Object).foo</code> would
							bind and invoke <code class="prettyprint lang-xtend">foo(Object)</code>.
						</p>
						<!-- subsection -->
						<section id="_101" style="padding-top: 68px; margin-top: -68px;">
						<h4>Examples</h4>
						<p>
							</p>
							<ul>
								<li><code class="prettyprint lang-xtend">foo</code></li>
								<li><code class="prettyprint lang-xtend">my.foo</code></li>
								<li><code class="prettyprint lang-xtend">my.foo(x)</code></li>
								<li><code class="prettyprint lang-xtend">oh.my.foo(bar)</code></li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="XbaseLanguageRef_builderSyntax" style="padding-top: 68px; margin-top: -68px;">
						<h4>Builder Syntax</h4>
						<p>
							If the last argument of a method call is a lambda expression, it can be appended to the method call. Thus,
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
foo(42) [ String s | s.toUpperCase ]</pre>
							<p>
						</p>
						<p>
							will call a Java method with the signature
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
void foo(int, Function1&lt;String, String&gt;)</pre>
							<p>
						</p>
						<p>
							Used in combination with the <a href="#Xbase_Expressions_implicit_parameter">implicit parameter name in lambda
							expressions</a>
							you can write <a href="#xbaseLanguageRef_LibraryExtension">extension libraries</a> to create and initialize graphs of
							objects in a concise builder syntax like in Groovy. Consider you have a set of library methods
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
HtmlNode html(Function1&lt;HtmlNode, Void&gt; initializer)
HeadNode head(HtmlNode parent, Function1&lt;HeadNode, Void&gt; initializer)
...</pre>
							<p>
						</p>
						<p>
							that create DOM elements for HTML pages inside their respective parent elements. You can then create a DOM
							using the following Xbase code:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xbase linenums">
html([ html | 
  head(html, [ 
    // initialize head
  ]) 
] )</pre>
							<p>
						</p>
						<p>
							Appending the lambda expression parameters and prepending the parent parameters using extension syntax yields
							</p>
							<pre class="prettyprint lang-xbase linenums">
html() [ html | 
  html.head() [ 
    // initialize head
  ]  
]</pre>
							<p>
						</p>
						<p>
							Using implicit parameter <code class="prettyprint lang-xbase">it</code> and skipping empty parentheses you can simplify this to 
							</p>
							<pre class="prettyprint lang-xbase linenums">
html [ 
  head [ 
    // initialize head
  ]  
]</pre>
							<p>
						</p>
						</section>
						</section>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="MWE2" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							MWE2
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							The Modeling Workflow Engine 2 (MWE2) is a rewritten backwards 
							compatible implementation of the Modeling Workflow Engine (MWE). It 
							is a declarative, externally configurable generator engine. Users 
							can describe arbitrary object compositions by means of a simple, 
							concise syntax that allows to declare object instances, attribute 
							values and references. One use case - that's where the name had its 
							origins - is the definition of workflows. Such a workflow consists 
							usually of a number of components that interact with each other. 
							There are components to read EMF resources, to perform 
							operations (transformations) on them and to write them back or to generate 
							any number of other artifacts out of the information. Workflows are 
							typically executed in a single JVM. However there are no constraints 
							the prevent implementors to provide components that spawn multiple 
							threads or new processes.
						</p>
						<!--  section -->
						<section id="MWE2Exampe" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Examples</h2>
						<p>
							Let's start with a couple of examples to demonstrate some usage 
							scenarios for MWE2. The first example is a simple <code class="prettyprint lang-mwe2">HelloWorld</code> 
							module that does nothing but print a message to standard out. The 
							second module is assembled of three components that read an Ecore 
							file, transform the contained classifier-names to upper-case and 
							serialize the resource back to a new file. The last example uses 
							the life-cycle methods of the <a href="http://download.eclipse.org/modeling/emft/mwe/javadoc/2.3/org/eclipse/emf/mwe2/runtime/workflow/IWorkflowComponent.html"><abbr title="org.eclipse.emf.mwe2.runtime.workflow.IWorkflowComponent">IWorkflowComponent</abbr></a> <a href="https://github.com/eclipse/mwe/blob/v2.3.0/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/workflow/IWorkflowComponent.java">(src)</a> 
							to print the execution time of the workflow.
						</p>
						<!-- subsection -->
						<section id="MWE2HelloWorld" style="padding-top: 68px; margin-top: -68px;">
						<h3>The Simplest Workflow</h3>
						<p>
							The arguably shortest MWE2 module may look like the following 
							snippet:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module HelloWorld 

SayHello {
  message = "Hello World!"
}</pre>
							<p>
						</p>
						<p>
							It configures a very simple workflow component with a message 
							that should be printed to <code class="prettyprint lang-java">System.out</code> when the workflow is 
							executed. The module begins with a declaration of its name. It must 
							fulfill the Java conventions for fully qualified class-names. That's 
							why the module <code class="prettyprint lang-mwe2">HelloWorld</code> has to be placed into the default 
							package of a Java source folder. The second element in the module is 
							the class-name <code class="prettyprint lang-java">SayHello</code> which introduces the root element of the 
							module. The interpreter will create an instance of the given 
							type and configure it as declared between the curly braces. E.g. the 
							assignment <code class="prettyprint lang-mwe2">message = "Hello World!"</code> in the module will be 
							interpreted as an invocation of the <code class="prettyprint lang-java">setMessage(String)</code> on the 
							instantiated object. As one can easily imagine, the implementation 
							of the class <code class="prettyprint lang-java">SayHello</code> looks straight forward:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
import org.eclipse.emf.mwe2.runtime.workflow.IWorkflowComponent;
import org.eclipse.emf.mwe2.runtime.workflow.IWorkflowContext;

public class SayHello implements IWorkflowComponent {

  private String message = "Hello World!";
  public void setMessage(String message) {
    this.message = message;
  }
  public String getMessage() {
    return message;
  }

  public void invoke(IWorkflowContext ctx) {
    System.out.println(getMessage());
  }

  public void postInvoke() {}
  public void preInvoke() {}
}</pre>
							<p>
						</p>
						<p>
							It looks like a simple POJO and that's the philosophy behind MWE2. 
							It is easily possible to assemble completely independent objects in 
							a declarative manner. To make the workflow executable with the 
							<a href="http://download.eclipse.org/modeling/emft/mwe/javadoc/2.3/org/eclipse/emf/mwe2/launch/runtime/Mwe2Runner.html"><abbr title="org.eclipse.emf.mwe2.launch.runtime.Mwe2Runner">Mwe2Runner</abbr></a> <a href="https://github.com/eclipse/mwe/blob/v2.3.0/plugins/org.eclipse.emf.mwe2.launch/src/org/eclipse/emf/mwe2/launch/runtime/Mwe2Runner.java">(src)</a>, the component 
							<code class="prettyprint lang-mwe2">SayHello</code> must be nested in a root 
							workflow:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module HelloWorld 

Workflow {
  component = SayHello {
    message = "Hello World!"
  }
}</pre>
							<p>
						</p>
						<p>
							The package <code class="prettyprint lang-java">org.eclipse.emf.mwe2.runtime.workflow</code> of the class <a href="http://download.eclipse.org/modeling/emft/mwe/javadoc/2.3/org/eclipse/emf/mwe2/runtime/workflow/Workflow.html"><abbr title="org.eclipse.emf.mwe2.runtime.workflow.Workflow">Workflow</abbr></a> <a href="https://github.com/eclipse/mwe/blob/v2.3.0/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/workflow/Workflow.java">(src)</a> 
							is implicitly imported in MWE2 modules to make the the modules more 
							concise. The execution result of this workflow will be revealed 
							after a quick <strong>Run As .. -&gt; MWE2 Workflow</strong> in the console as
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
Hello World!</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="MWE2SimpleTransformation" style="padding-top: 68px; margin-top: -68px;">
						<h3>A Simple Transformation</h3>
						<p>
							The following workflow solves the exemplary task to rename every 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClassifier.html"><abbr title="org.eclipse.emf.ecore.EClassifier">EClassifier</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClassifier.java">(src)</a> in an <strong>*.ecore</strong> file.
							It consists of three components that read, modify and write the model file:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module Renamer
Workflow {
  component = ResourceReader {
        uri = "model.ecore"
  }
  component = RenamingTransformer {}
  component = ResourceWriter {
        uri = "uppercaseModel.ecore"
  }
}</pre>
							<p>
						</p>
						<p>
							The implementation of these components is surprisingly simple. It is easily possible to create
							own components even for minor operations to automate a process.
						</p>
						<p>
							The <code class="prettyprint lang-java">ResourceReader</code> simply reads the file with the given 
							<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/URI.html"><abbr title="org.eclipse.emf.common.util.URI">URI</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">(src)</a> and stores it in a so called
							<strong>slot</strong> of the workflow context. A slot can be understood as a dictionary or map-entry.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class ResourceReader extends WorkflowComponentWithSlot {
  private String uri;
  public void invoke(IWorkflowContext ctx) {
    ResourceSet resourceSet = new ResourceSetImpl();
    URI fileURI = URI.createFileURI(uri); 
    Resource resource = resourceSet.getResource(fileURI, true);
    ctx.put(getSlot(), resource);
  }
  
  public void setUri(String uri) {
    this.uri = uri;
  }
  public String getUri() {
    return uri;
  }
}</pre>
							<p>
						</p>
						<p>
							The actual transformer takes the model from the slot and modifies it. It simply iterates the content
							of the resource, identifies each <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClassifier.html"><abbr title="org.eclipse.emf.ecore.EClassifier">EClassifier</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClassifier.java">(src)</a> and sets its name.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class RenamingTransformer extends WorkflowComponentWithSlot {
  private boolean toLowerCase = false;
  public void invoke(IWorkflowContext ctx) {
    Resource resource = (Resource) ctx.get(getSlot());
    EcoreUtil.resolveAll(resource);
    Iterator&lt;Object&gt; contents = EcoreUtil.getAllContents(resource, true);
    Iterator&lt;EClassifier&gt; iter = 
        Iterators.filter(contents, EClassifier.class);
    while(iter.hasNext()) {
      EClassifier classifier = (EClassifier) iter.next();
      classifier.setName(isToLowerCase() 
          ? classifier.getName().toLowerCase()
          : classifier.getName().toUpperCase());
    }
  }

  public void setToLowerCase(boolean toLowerCase) {
    this.toLowerCase = toLowerCase;
  }
  public boolean isToLowerCase() {
    return toLowerCase;
  }
}</pre>
							<p>
						</p>
						<p>
							After the model has been modified it should be written to a new file. That's what the 
							<code class="prettyprint lang-mwe2">ResourceWriter</code> does. It actually takes the resource from the given <strong>slot</strong> and saves it with
							the configured <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/URI.html"><abbr title="org.eclipse.emf.common.util.URI">URI</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">(src)</a>:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class ResourceWriter extends WorkflowComponentWithSlot {
  private String uri;
  public void invoke(IWorkflowContext ctx) {
    Resource resource = (Resource) ctx.get(getSlot());
    URI uri = URI.createFileURI(getUri());
    uri = resource.getResourceSet().getURIConverter().normalize(uri);
    resource.setURI(uri);
    try {
      resource.save(null);
    } catch (IOException e) {
      throw new WrappedException(e);
    }
  }

  public void setUri(String uri) {
    this.uri = uri;
  }
  public String getUri() {
    return uri;
  }
}</pre>
							<p>
						</p>
						<p>
							Last but not least, the common super type for those components looks like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public abstract class WorkflowComponentWithSlot 
      implements IWorkflowComponent {
  private String slot = "model";
  public void setSlot(String slot) {
    this.slot = slot;
  }
  public String getSlot() {
    return slot;
  }
  
  public void postInvoke() {}
  public void preInvoke() {}
}</pre>
							<p>
						</p>
						<p>
							Each of the mentioned implementations is rather simple and can be done in a couple of minutes. 
							Many tedious tasks that developers face in their daily work can be addressed by a chain of rather
							simple components. MWE2 can be used to automate these tasks with minimum effort.
						</p>
						</section>
						<!-- subsection -->
						<section id="MWE2Stopwatch" style="padding-top: 68px; margin-top: -68px;">
						<h3>A Stop-Watch</h3>
						<p>
							The last example demonstrates how to combine the MWE2 concepts to create a simple stop-watch that
							allows to measure the execution time of a set of components. The idea is to add the very same stop-watch
							twice as a component to a workflow. It will measure the time from the first pre-invoke to the last
							post-invoke event and print the elapsed milliseconds to the console.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public class StopWatch implements IWorkflowComponent {
  private long start;
  private boolean shouldStop = false;
  public void invoke(IWorkflowContext ctx) {}

  public void postInvoke() {
    if (shouldStop) {
      long elapsed = System.currentTimeMillis() - start;
      System.out.println("Time elapsed: " + elapsed + " ms");
    }
    shouldStop = true;
  }

  public void preInvoke() {
    start = System.currentTimeMillis();
  }
}</pre>
							<p>
						</p>
						<p>
							Clients who want to leverage this kind of stop-watch may use the following pattern. The instance of the
							class <code class="prettyprint lang-java">StopWatch</code> has to be added as the first component and the last component to a workflow. 
							Every component in-between will be measured. In this case, it is another workflow that does not need know 
							about this decoration. The idea is to use a local identifier for the instantiated <code class="prettyprint lang-java">StopWatch</code> 
							and reuse this one at the end to receive the post-invoke life-cycle event twice.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module MeasuredWorkflow

Workflow {
  component = StopWatch: stopWatch {}
  component = @OtherWorkflow {}
  component = stopWatch
}</pre>
							<p>
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="MWE2LanguageReference" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Language Reference</h2>
						<p>
							MWE2 has a few well defined concepts which can be combined to 
							assemble arbitrary object graphs in a compact and declarative 
							manner.
						</p>
						<p>
							</p>
							<ul>
								<li>A MWE2 file defines a <code class="prettyprint lang-mwe2">module</code> which exposes its root <code class="prettyprint lang-mwe2">component</code> as reusable artifact.</li>
								<li><code class="prettyprint lang-mwe2">Properties</code> can be used to extract reusable, configurable parts of the workflow.</li>
								<li>Components are mapped to plain vanilla <strong>Java objects</strong>. Arbitrary <code class="prettyprint lang-java">setABC(..)</code> and <code class="prettyprint lang-java">addXYZ(..)</code> methods 
								    are used to configure them.</li>
							</ul>
							<p>
						</p>
						<p>
							Let's consider the follow short example module and <code class="prettyprint lang-java">SampleClass</code> to 
							explain these concepts.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module com.mycompany.Example

import java.util.*

SampleClass {
  singleValue = 'a string'
  multiValue = ArrayList {}
  child = {}
}</pre>
							<p>
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
package com.mycompany;

import java.util.List;

public class SampleClass {
  public void setSingleValue(String value) {..}
  public void addMultiValue(List&lt;?&gt; value) {..}
  public void addChild(SampleClass value) {..}
}</pre>
							<p>
						</p>
						<!-- subsection -->
						<section id="MWE2JavaReferences" style="padding-top: 68px; margin-top: -68px;">
						<h3>Mapping to Java Classes</h3>
						<p>
							The module <code class="prettyprint lang-mwe2">com.mycompany.Example</code> defines a root component of 
							type <code class="prettyprint lang-java">com.mycompany.SampleClass</code>. It is possible to use the simple 
							class-name because MWE2 uses the very same visibility rules as the 
							Java compiler. Classes that are in the same package as the module 
							can be referenced by their simple name. The same rule applies for 
							classes from the <code class="prettyprint lang-java">java.lang</code> package. For convenience reasons is the 
							package <code class="prettyprint lang-java">org.eclipse.emf.mwe2.runtime.workflow</code> implicitly imported 
							as well as it exposes some library workflow components. However, the
							imports are more flexible then in Java since MWE2-imports can be relative, e.g. 
							the <code class="prettyprint lang-java">import java.*</code> resolves the reference <code class="prettyprint lang-java">util.ArrayList</code> to 
							<code class="prettyprint lang-java">java.util.ArrayList</code>.
						</p>
						<p>
							The root instance of type <code class="prettyprint lang-java">SampleClass</code> has to be configured 
							after it has been created. Therefore the method <code class="prettyprint lang-java">setSingleValue</code> 
							will be called at first. The given parameter is 
							<code class="prettyprint lang-java">'a string'</code>. The method is identified by its name which starts with 
							<code class="prettyprint lang-java">set</code>. To allow to assign multi-value properties, MWE provides 
							access to methods called <code class="prettyprint lang-java">add*</code> as well.
						</p>
						<p>
							If the right side of the assignment in the workflow file does not 
							define a class explicitly, its type is inferred from the method 
							parameter. The line <code class="prettyprint lang-mwe2">child = {}</code> is equivalent to 
							<code class="prettyprint lang-mwe2">child = SampleClass {}</code> and creates a new instance of <code class="prettyprint lang-java">SampleClass</code>.
						</p>
						<p>
							MWE2 ships with nice tool support. The editor will provide 
							content assist for the allowed types and highlight incompatible 
							assignments. The available properties for Java classes will be 
							proposed as well.
						</p>
						</section>
						<!-- subsection -->
						<section id="MWE2Module" style="padding-top: 68px; margin-top: -68px;">
						<h3>Module</h3>
						<p>
							As MWE2 modules have a fully qualified name, it is possible to refer
							to them from other modules. The type of the module is derived from
							the type of its root component. The <code class="prettyprint lang-mwe2">com.mycompany.Example</code> can be
							assigned at any place where a <code class="prettyprint lang-java">com.mycompany.SampleClass</code> is expected.
						</p>
						<p>
							Let's create a second module <code class="prettyprint lang-mwe2">com.mycompany.Second</code> like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module com.mycompany.sub.Second

import com.mycompany.*

SampleClass {
  child = @Example {}
}</pre>
							<p>
						</p>
						<p>
							The <code class="prettyprint lang-mwe2">child</code> value will be assigned to an instance of <code class="prettyprint lang-java">SampleClass</code> 
							that is configured as in the first example workflow. This enables
							nice composition and a very focused, reusable component design.
						</p>
						<p>
							As the same rules apply in MWE2 like in Java, the module 
							<code class="prettyprint lang-mwe2">com.mycompany.sub.Second</code> has to be defined in a file called 
							<strong>Second.mwe2</strong> in the package <code class="prettyprint lang-java">com.mycompany.sub</code>. The import semantic
							for other modules is the same as for classes. The import statement
							allows to refer to <code class="prettyprint lang-mwe2">com.mycompany.Example</code> with a shortened name.
						</p>
						</section>
						<!-- subsection -->
						<section id="MWE2Properties" style="padding-top: 68px; margin-top: -68px;">
						<h3>Properties</h3>
						<p>
							MWE2 allows to extract arbitrary information into properties to 
							ensure that these pieces are not cluttered around the workflow and 
							to allow for easier external customization. The exemplary component 
							definition was only changed slightly by introducing a property 
							<code class="prettyprint lang-mwe2">value</code>.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module com.mycompany.Example

var value = 'a string'

SampleClass {
  singleValue = value
}</pre>
							<p>
						</p>
						<p>
							The type of the property will be derived from the default value 
							similar to the mechanism that is already known from <code class="prettyprint lang-java">set</code>- and 
							<code class="prettyprint lang-java">add</code>-methods. If no default value is given, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html"><abbr title="java.lang.String">String</abbr></a> will
							be assumed. However, properties are not limited to strings. The 
							second built in type is boolean via the familiar literals <code class="prettyprint lang-mwe2">true</code> and
							<code class="prettyprint lang-mwe2">false</code>. More flexibility is available via actual component literals.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module com.mycompany.Example

var childInstance = SampleClass {
                      singleValue = "child"
                    }

SampleClass {
  child = childInstance
}</pre>
							<p>
						</p>
						<p>
							If one wants to define string properties that are actual reusable
							parts for other properties, she may use defined variables inside other
							literals like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
var aString = "part"
var anotherString = "reuse the ${part} here"</pre>
							<p>
						</p>
						<p>
							This is especially useful for file paths in workflows as one would
							usually want to define some common root directories only once in the
							workflow and reuse this fragment across certain other file locations.
						</p>
						</section>
						<!-- subsection -->
						<section id="MWE2Mandatory" style="padding-top: 68px; margin-top: -68px;">
						<h3>Mandatory Properties</h3>
						<p>
							It is not always feasible to define default values for properties. 
							That is where mandatory properties come into play. Modules define their
							interface not only via their fully qualified name and the type of the
							root component but also by means of the defined properties.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module com.mycompany.Example

var optional = 'a string'
var mandatory

SampleClass {
  singleValue = optional
  child = {
    singleValue = mandatory
  }
}</pre>
							<p>
						</p>
						<p>
							This version of the example module exposes two externally assignable
							properties. The second one has no default value assigned and is 
							thereby considered to be mandatory. The mandatory value must be assigned
							if we reuse <code class="prettyprint lang-mwe2">org.mycompany.Example</code> in another module like this:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module com.mycompany.Second

var newMandatory

@Example {
  mandatory = "mandatoryValue"
  optional = newMandatory
}</pre>
							<p>
						</p>
						<p>
							Note that it is even possible to reuse another module as the root
							component of a new module. In this case we set the mandatory 
							property of <code class="prettyprint lang-mwe2">Example</code> to a specific constant value while the previously
							optional value is now redefined as mandatory by means of a new property
							without a default value.
						</p>
						<p>
							It is not only possible to define mandatory properties for MWE2 
							modules but for classes as well. Therefore MWE2 ships with the 
							<a href="http://download.eclipse.org/modeling/emft/mwe/javadoc/2.3/org/eclipse/emf/mwe2/runtime/Mandatory.html"><abbr title="org.eclipse.emf.mwe2.runtime.Mandatory">@Mandatory</abbr></a> <a href="https://github.com/eclipse/mwe/blob/v2.3.0/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/Mandatory.java">(src)</a> annotation. If a <code class="prettyprint lang-java">set</code>- or <code class="prettyprint lang-java">add</code>-method is marked as
							<a href="http://download.eclipse.org/modeling/emft/mwe/javadoc/2.3/org/eclipse/emf/mwe2/runtime/Mandatory.html"><abbr title="org.eclipse.emf.mwe2.runtime.Mandatory">@Mandatory</abbr></a> <a href="https://github.com/eclipse/mwe/blob/v2.3.0/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/Mandatory.java">(src)</a>, the module validation will fail if no value was assigned
							to that feature.
						</p>
						</section>
						<!-- subsection -->
						<section id="MWE2NamedComponents" style="padding-top: 68px; margin-top: -68px;">
						<h3>Named Components</h3>
						<p>
							Properties are not the only way to define something that can be reused.
							It is possible to assign a name to any instantiated component whether it's
							created from a class literal or from another component. This allows
							to refer to previously created and configured instances. Named instances
							can come handy for notification and call-back mechanisms or more general
							in terms of defined life-cycle events.
						</p>
						<p>
							If we wanted to assign the created instance to a property of itself,
							we could use the following syntax:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module com.mycompany.Example

SampleClass : self {
  child = self
}</pre>
							<p>
						</p>
						<p>
							A named component can be referenced immediately after its creation but
							it is not possible to use forward references in a MWE2 file.
						</p>
						</section>
						<!-- subsection -->
						<section id="MWE2AutoInject" style="padding-top: 68px; margin-top: -68px;">
						<h3>Auto Injection</h3>
						<p>
							Existing modules or classes often expose a set of properties that 
							will be assigned to features of its root component or set- and add- 
							methods respectively. In many cases its quite hard to come up with 
							yet another name for the very same concept which leads to the situation
							where the properties itself have the very same name as the component's
							feature. To avoid the overall repetition of assignments, MWE2 offers
							the possibility to use the <code class="prettyprint lang-mwe2">auto-inject</code> modifier on the component 
							literal:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
module com.mycompany.Example

var child = SampleClass {}

SampleClass auto-inject {
}</pre>
							<p>
						</p>
						<p>
							This example will implicitly assign the value of the property
							<code class="prettyprint lang-mwe2">child</code> to the feature <code class="prettyprint lang-mwe2">child</code> of the root component. This is especially
							useful for highly configurable workflows that expose dozens of optional
							parameters each of which can be assigned to one or more components.
						</p>
						<p>
							The <code class="prettyprint lang-mwe2">auto-inject</code> modifier can be used for a subset of the available
							features as well. It will suppressed for the explicitly set values
							of a component.
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="MWE2SyntaxReference" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Syntax Reference</h2>
						<p>
							The following chapter serves as a reference for the concrete syntax of 
							MWE2. The building blocks of a module will be described in a few words.
						</p>
						<p>
							MWE2 is not sensitive to white space and allows to define line-comments
							and block comments everywhere. The syntax is the same as one is used 
							to from the Java language:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
// This is a comment
/* 
  This is another one.
*/</pre>
							<p>
						</p>
						<p>
							Every name in MWE2 can be a fully qualified identifier and must follow 
							the Java conventions. However, in contrast to Java identifiers it is 
							not allowed to use German umlauts or Unicode escape sequences in 
							identifiers. A valid ID-segment in MWE2 starts with a letter or an 
							underscore and is followed by any number of letters, numbers or underscores.
							An identifier is composed from one or more segments which are delimited
							by a '.' dot.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
Name: ID ('.' ID)*;
ID: ('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*;</pre>
							<p>
						</p>
						<p>
							MWE2 does not use a semicolon as a statement delimiter at any place.
						</p>
						<!-- subsection -->
						<section id="MWE2ModuleSyntax" style="padding-top: 68px; margin-top: -68px;">
						<h3>Module</h3>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/mwe2/module.png" alt="" width="693" height="70">
							</div>
							<p>
						</p>
						<p>
							A <code class="prettyprint lang-mwe2">module</code> consists of four parts. The very first statement in a 
							<strong>*.mwe2</strong> file is the module declaration. The name of the module must 
							follow the naming convention for Java classes. That MWE2 file's name 
							must therefore be the same as the last segment of the module-name 
							and it has to be placed in the appropriate package of a Java source 
							path.
						</p>
						<p>
							It is allowed to define any number of import statements in a module.
							Imports are either suffixed by a wildcard or they import a concrete class 
							or module. MWE2 can handle relative imports in case one uses the 
							wildcard notation:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
'import' name '.*'?</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="MWE2PropertySyntax" style="padding-top: 68px; margin-top: -68px;">
						<h3>Property</h3>
						<p>
							The list of declared properties follows the optional import section.
							It is allowed to define modules without any properties.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/mwe2/property.png" alt="" width="524" height="144">
							</div>
							<p>
						</p>
						<p>
							Each declared property is locally visible in the module. It 
							furthermore defines an assignable feature of the module in case one 
							refers to it from another module. Properties may either have a 
							default value or they are considered to be <strong>mandatory</strong>. If the type
							of property is omitted it will be inferred from the default value. The
							default type of a property is <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html"><abbr title="java.lang.String">String</abbr></a>. That is, if no
							 default value is available, the property is <strong>mandatory</strong> and of type <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html"><abbr title="java.lang.String">String</abbr></a>.
						</p>
						<p>
							There are four types of values available in MWE2. One may either
							define a string, boolean or component literal or a reference to a
							previously defined property.
						</p>
						</section>
						<!-- subsection -->
						<section id="MWE2ComponentSyntax" style="padding-top: 68px; margin-top: -68px;">
						<h3>Component</h3>
						<p>
							The building block of a module is the root component. It defines the externally
							visible type of the module and may either be created from a Java 
							type or from another module.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/mwe2/component.png" alt="" width="877" height="98">
							</div>
							<p>
						</p>
						<p>
							The type of the component can be derived in many cases except for 
							the root component. That's why it's optional in the component literal.
							If no type is given, it will be inferred from the left side of the
							assignment. The assigned feature can either be a declared property
							of the module or a <code class="prettyprint lang-java">set</code>- or <code class="prettyprint lang-java">add</code>-method of a Java class.
						</p>
						<p>
							Components can be named to make them referable in subsequent assignments.
							Following the <code class="prettyprint lang-xtext">':'</code> keyword, one can define an identifier for the 
							instantiated component. The identifier is locally visible in the module
							and any assignment that is defined after the named component can refer
							to this identifier and thereby exactly point to the instantiated object.
						</p>
						<p>
							The next option for a component is <code class="prettyprint lang-mwe2">auto-inject</code>. If this modifier
							is set on a component, any available feature of the component that has
							the same name as a property or previously created named component will
							be automatically assigned.
						</p>
						<p>
							The core of a component is the list of assignments between the curly 
							braces. An arbitrary number of values can be set on the component by
							means of feature-to-value pairs.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/mwe2/assignment.png" alt="" width="320" height="132">
							</div>
							<p>
						</p>
						<p>
							The available constructs on the right hand side of the assignment
							are the same as for default values for properties.
						</p>
						</section>
						<!-- subsection -->
						<section id="MWE2StringLiteralsSyntax" style="padding-top: 68px; margin-top: -68px;">
						<h3>String Literals</h3>
						<p>
							String values are likely to be the most used literals in MWE2. There 
							is a convenient syntax for string concatenation available due to
							the high relevance in a descriptive object composition and configuration 
							language. MWE2 strings are multi-line strings and can be composed of
							several parts.
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
var aString = 'a value'
var anotherString = 'It is possible to embed ${aString} into
 a multi-line string'</pre>
							<p>
						</p>
						<p>
							This is especially convenient for path-substitution if one defines
							e.g. a common root directory and wants to specify other paths relative
							to the base.
						</p>
						<p>
							There are two different delimiters available for strings. Users 
							are free to either use single- or double-quotes to start and end strings. 
							If a certain string contains a lot of single-quotes one would better
							choose double-quotes as delimiter and vice versa. There is no semantic 
							difference between both notations.
						</p>
						<p>
							The escape character in MWE2 is the back-slash <code class="prettyprint lang-mwe2">"\\"</code>. It can be used
							to write line-breaks or tabular characters explicitly and to escape
							the beginning of substitution variables <code class="prettyprint lang-mwe2">${</code> and the quotes itself. Allowed
							escape sequences are:
						</p>
						<p>
							</p>
							<table class="table table-bordered table-condensed">
							<tr><td>\n</td>
							<td>..</td>
							<td>line break</td>
							</tr>
							<tr><td>\r</td>
							<td>..</td>
							<td>carriage return</td>
							</tr>
							<tr><td>\t</td>
							<td>..</td>
							<td>tabular character</td>
							</tr>
							<tr><td>\'</td>
							<td>..</td>
							<td>single-quote (can be omitted in double-quoted strings)</td>
							</tr>
							<tr><td>\"</td>
							<td>..</td>
							<td>double-quote (can be omitted in single-quoted strings)</td>
							</tr>
							<tr><td>\${</td>
							<td>..</td>
							<td>escape the substitution variable start ${</td>
							</tr>
							<tr><td>\\</td>
							<td>..</td>
							<td>the back-slash itself</td>
							</tr>
							</table>
							<p>
						</p>
						<p>
							Other escape sequence are illegal in MWE2 strings.
						</p>
						</section>
						<!-- subsection -->
						<section id="MWE2BooleanLiterals" style="padding-top: 68px; margin-top: -68px;">
						<h3>Boolean Literals</h3>
						<p>
							MWE2 has native support for the boolean type. The literals are <code class="prettyprint lang-mwe2">true</code> and <code class="prettyprint lang-mwe2">false</code>.
						</p>
						</section>
						<!-- subsection -->
						<section id="MWE2References" style="padding-top: 68px; margin-top: -68px;">
						<h3>References</h3>
						<p>
							Each assigned value in MWE2 either as default for properties or in a
							component assignment can be a reference to a previously declared property
							or named component. The can be referenced intuitively by their name.
						</p>
						</section>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="emf_integration" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							Integration with EMF and Other EMF Editors
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							Xtext relies heavily on EMF internally, but it can also be used as the serialization back-end of 
							other EMF-based tools. In this section we introduce the basic concepts of the 
							<a href="http://www.eclipse.org/modeling/emf/">Eclipse Modeling Framework (EMF)</a> in the context of Xtext.  
							If you want to learn more about EMF, we recommend reading the <a href="http://www.eclipse.org/modeling/emf/">EMF book</a>.
						</p>
						<!--  section -->
						<section id="model_metamodel" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Model, Ecore Model, and Ecore</h2>
						<p>
							Xtext uses EMF models as the in-memory representation of any parsed text files. This in-memory 
							object graph is called the <strong>Abstract Syntax Tree</strong> (AST). Depending on the community this concepts is 
							also called <strong>document object graph (DOM)</strong>, <strong>semantic model</strong>, or simply <strong>model</strong>. We use <strong>model</strong> and <strong>AST</strong> 
							interchangeably. Given the example model from the <a href="#DomainModelWalkThrough">tutorial</a>, the AST 
							looks similar to this
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/ast.png" alt="Sample AST" width="1053" height="489">
							</div>
							<p>
						</p>
						<p>
							The <strong>AST</strong> should contain the essence of your textual models. It abstracts over syntactical information. 
							It is used by later processing steps, such as validation, compilation or interpretation. In EMF a model 
							is made up of instances of <strong>EObjects</strong> which are connected and an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> is an instance of an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClass.html"><abbr title="org.eclipse.emf.ecore.EClass">EClass</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClass.java">(src)</a>. 
							A set of <strong>EClasses</strong> if contained in a so called <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a>, which are both concepts of <strong>Ecore</strong> 
							In Xtext, meta models are either inferred from the grammar or predefined by the user 
							(see the section on <a href="#package_declarations">package declarations</a> for details). The next diagram shows 
							the meta model of our example:
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/metamodel.png" alt="Sample meta model" width="604" height="517">
							</div>
							<p>
						</p>
						<p>
							The language in which the meta model is defined is called <strong>Ecore</strong>. In other words, the meta model is 
							the Ecore model of your language. Ecore an essential part of EMF. Your models instantiate the meta model, 
							and your meta model instantiates Ecore. To put an end to this recursion, Ecore is defined in itself 
							(an instance of itself).
						</p>
						<p>
							The meta model defines the types of the semantic nodes as Ecore <strong>EClasses</strong>. EClasses are shown as boxes 
							in the meta mode diagram, so in our example, <strong>Model</strong>, <strong>Type</strong>, <strong>SimpleType</strong>, <strong>Entity</strong>, and <strong>Property</strong> 
							are EClasses. An EClass can inherit from other EClasses. Multiple inheritance is allowed in Ecore, but of 
							course cycles are forbidden.
						</p>
						<p>
							EClasses can have <strong>EAttributes</strong> for their simple properties. These are shown inside the EClasses nodes. 
							The example contains two EAttributes <strong>name</strong> and one EAttribute <strong>isMulti</strong>. The domain of values for an 
							EAttribute is defined by its <strong>EDataType</strong>. Ecore ships with some predefined <strong>EDataTypes</strong>, which essentially 
							refer to Java primitive types and other immutable classes like <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html"><abbr title="java.lang.String">String</abbr></a>. To make a 
							distinction from the Java types, the <strong>EDataTypes</strong> are prefixed with an <strong>E</strong>. In our example, that is 
							<strong>EString</strong> and <strong>EBoolean</strong>.
						</p>
						<p>
							In contrast to EAttributes, <strong>EReferences</strong> point to other EClasses. The <strong>containment</strong> flag indicates whether 
							an EReference is a <strong>containment reference</strong> or a <strong>cross-reference</strong>. In the diagram, references are edges 
							and containment references are marked with a diamond. At the model level, each element can have at most one 
							container, i.e. another element referring to it with a containment reference. This infers a tree structure 
							to the models, as can be seen in the sample model diagram. On the other hand, <strong>cross-references</strong> refer to 
							elements that can be contained anywhere else. In the example, <strong>elements</strong> and <strong>properties</strong> are containment 
							references, while <strong>type</strong> and <strong>extends</strong> are cross-references. For reasons of readability, we skipped the 
							cross-references in the sample model diagram. Note that in contrast to other parser generators, Xtext creates 
							ASTs with linked cross-references.
						</p>
						<p>
							Other than associations in UML, EReferences in Ecore are always owned by one EClass and only navigable in the 
							direction form the owner to the type. Bi-directional associations must be modeled as two references, being 
							<strong>eOpposite</strong> of each other and owned by either end of the associations.
						</p>
						<p>
							The superclass of EAttributes and EReferences is <strong>EStructuralFeature</strong> and allows to define a name and a 
							cardinality by setting <strong>lowerBound</strong> and <strong>upperBound</strong>. Setting the latter to -1 means 'unbounded'.
						</p>
						<p>
							The common super type of EDataType and EClass is <strong>EClassifier</strong>. An <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> acts as a namespace and 
							container of EClassifiers.
						</p>
						<p>
							We have summarized these most relevant concepts of Ecore in the following diagram:
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/ecore.png" alt="Ecore concepts" width="561" height="486">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="emf_codegen" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">EMF Code Generation</h2>
						<p>
							EMF also ships with a code generator that generates Java classes from your Ecore model. The code 
							generators input is the so called <strong>EMF generator model</strong>. It decorates (references) the Ecore model 
							and adds additional information for the Ecore -&gt; Java transformation. Xtext will automatically generate
							a generator model with reasonable defaults for all generated metamodels, and run the EMF code generator 
							on them.
						</p>
						<p>
							The generated classes are based on the EMF runtime library, which offers a lot of infrastructure and 
							tools to work with your models, such as persistence, reflection, referential integrity, lazy loading etc.
						</p>
						<p>
							Among other things, the code generator will generate
							</p>
							<ul>
								<li>A Java interface and a Java class for each EClassifier in your Ecore model. By default, 
								    all classes will implement the interface <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a>, linking a lot
								    of runtime functionality.</li>
								<li>A Java bean property for each EStructuralFeature (member variable, accessor methods)</li>
								<li>A package interface and class, holding singleton objects for all elements of your Ecore 
								    model, allowing reflection. EPackages are also registered to the 
								<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.Registry.html"><abbr title="org.eclipse.emf.ecore.EPackage$Registry">Registry</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> to be usable at runtime.</li>
								<li>A factory interface and class for creating instances</li>
								<li>An abstract switch class implementing a visitor pattern to avoid if-instanceof-cascades
								    in your code.</li>
							</ul>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="xtext_resource" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">XtextResource Implementation</h2>
						<p>
							Xtext provides an implementation of EMF's resource, the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/XtextResource.html"><abbr title="org.eclipse.xtext.resource.XtextResource">XtextResource</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">(src)</a>. 
							This does not only encapsulate the parser that converts text to an EMF model but also the 
							<a href="#serialization">serializer</a> working the opposite direction. That way, an Xtext model just looks like any 
							other Ecore-based model from the outside, making it amenable for the use by other EMF based tools. In fact,
							the Xpand templates in the generator plug-in created by the Xtext wizard do not make any assumption on the 
							fact that the model is described in Xtext, and they would work fine with any model based on the same Ecore 
							model of the language. So in the ideal case, you can switch the serialization format of your models to your 
							self-defined DSL by just replacing the resource implementation used by your other modeling tools.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/emf-integration.png" alt="" width="656" height="443">
							</div>
							<p>
						</p>
						<p>
							The generator fragment <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/resourceFactory/ResourceFactoryFragment.html"><abbr title="org.eclipse.xtext.generator.resourceFactory.ResourceFactoryFragment">ResourceFactoryFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/resourceFactory/ResourceFactoryFragment.java">(src)</a> 
							registers a factory for the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/XtextResource.html"><abbr title="org.eclipse.xtext.resource.XtextResource">XtextResource</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">(src)</a> to EMF's resource factory 
							registry, such that all tools using the default mechanism to resolve a resource implementation will 
							automatically get that resource implementation.
						</p>
						<p>
							Using a self-defined textual syntax as the primary storage format has a number of advantages over the 
							default XMI serialization, e.g.
							</p>
							<ul>
								<li>You can use well-known and easy-to-use tools and techniques for manipulation, such as text
								    editors, regular expressions, or stream editors.</li>
								<li>You can use the same tools for version control as you use for source code. Comparing and 
								    merging is performed in a syntax the developer is familiar with.</li>
								<li>It is impossible to break the model such that it cannot be reopened in the editor again.</li>
								<li>Models can be fixed using the same tools, even if they have become incompatible with a 
								    new version of the Ecore model.</li>
							</ul>
							<p>
						</p>
						<p>
							Xtext targets easy to use and naturally feeling languages. It focuses on the lexical aspects of a language
							a bit more than on the semantic ones. As a consequence, a referenced Ecore model can contain more concepts 
							than are actually covered by the Xtext grammar. As a result, not everything that is possibly expressed in 
							the EMF model can be serialized back into a textual representation with regards to the grammar. So if you 
							want to use Xtext to serialize your models as described above, it is good to have a couple of things in mind:
						</p>
						<p>
							</p>
							<ul>
								<li>Prefer optional rule calls (cardinality <strong>?</strong> or <strong>*</strong>) to mandatory ones 
								    (cardinality <strong>+</strong> or default), such that missing references will not obstruct 
								    serialization.</li>
								<li>You should not use an Xtext-Editor on the same model instance as a self-synchronizing 
								    other editor, e.g. a canonical GMF editor (see <a href="#gmf_integration_stage_1"></a> for details). 
								    The Xtext parser replaces re-parsed subtrees of the AST rather than modifying it, so 
								    elements will become stale. As the Xtext editor continuously re-parses the model on changes, 
								    this will happen rather often. It is safer to synchronize editors more loosely, e.g. on 
								    file changes.</li>
								<li>Implement an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IFragmentProvider.html"><abbr title="org.eclipse.xtext.resource.IFragmentProvider">IFragmentProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IFragmentProvider.java">(src)</a> (<a href="#fragmentProvider">how-to</a>) to make 
								    the XtextResource return stable fragments for its contained
								    elements, e.g. based on composite names rather than order of 
								    appearance.</li>
								<li>Implement an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/IQualifiedNameProvider.html"><abbr title="org.eclipse.xtext.naming.IQualifiedNameProvider">IQualifiedNameProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/IQualifiedNameProvider.java">(src)</a> and an 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IScopeProvider">IScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">(src)</a> (<a href="#scoping">how-to</a>) to make the 
								    names of all linkable elements in cross-references unique.</li>
								<li>Provide an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/formatting/IFormatter.html"><abbr title="org.eclipse.xtext.formatting.IFormatter">IFormatter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/formatting/IFormatter.java">(src)</a> (<a href="#formatting">how-to</a>) to improve the readability 
								    of the generated textual models.</li>
								<li>Register an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parser/antlr/IReferableElementsUnloader.html"><abbr title="org.eclipse.xtext.parser.antlr.IReferableElementsUnloader">IReferableElementsUnloader</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parser/antlr/IReferableElementsUnloader.java">(src)</a> to turn 
								    deleted/replaced model elements into EMF proxies. Design the rest 
								    of your application such that it does never keep references to 
								<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html">EObjects</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> or to cope with proxies. That will improve the 
								    stability of your application drastically.</li>
								<li>Xtext will register an EMF <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/resource/Resource.Factory.html"><abbr title="org.eclipse.emf.ecore.resource.Resource$Factory">Factory</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/Resource.java">(src)</a>, so resources with 
								    the file extension you entered when generating the Xtext plug-ins 
								    will be automatically loaded in an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/XtextResource.html"><abbr title="org.eclipse.xtext.resource.XtextResource">XtextResource</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">(src)</a> when you use 
								    EMF's <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/resource/ResourceSet.html"><abbr title="org.eclipse.emf.ecore.resource.ResourceSet">ResourceSet</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/ResourceSet.java">(src)</a> API to load it.</li>
							</ul>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="gmf_integration" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Integration with GMF Editors</h2>
						<p>
							We do no longer maintain the GMF example code and have removed it from our installation. You can still 
							access the last version of the source code form our  
							<a href="http://git.eclipse.org/c/tmf/org.eclipse.xtext.git/tree/examples/org.eclipse.xtext.xtext.ui.examples/contents">source
							code repository</a>.
						</p>
						<p>
							The <a href="http://www.eclipse.org/modeling/gmp/?project=gmf">Graphical Modeling Framework (GMF)</a> allows 
							to create graphical diagram editors for Ecore models. To illustrate how to build a GMF on top of an
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/XtextResource.html"><abbr title="org.eclipse.xtext.resource.XtextResource">XtextResource</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">(src)</a> we have provided an example. You must have the Helios version 2.3 of GMF Notation, 
							Runtime and Tooling and their dependencies installed in your workbench to run the example. With other 
							versions of GMF it might work to regenerate the diagram code.
						</p>
						<p>
							The example consists of a number of plug-ins
						</p>
						<p>
							</p>
							<table class="table table-bordered table-condensed">
							<tr><td>Plug-in</td>
							<td>Framework</td>
							<td>Purpose</td>
							<td>Contents</td>
							</tr>
							<tr><td>o.e.x.example.gmf</td>
							<td>Xtext</td>
							<td>Xtext runtime plug-in</td>
							<td>Grammar, derived metamodel and language 
							  infrastructure</td>
							</tr>
							<tr><td>o.e.x.e.g.ui</td>
							<td>Xtext</td>
							<td>Xtext UI plug-in</td>
							<td>Xtext editor and services</td>
							</tr>
							<tr><td>o.e.x.e.g.edit</td>
							<td>EMF</td>
							<td>EMF.edit plug-in</td>
							<td>UI services generated from the metamodel</td>
							</tr>
							<tr><td>o.e.x.e.g.models</td>
							<td>GMF</td>
							<td>GMF design models</td>
							<td>Input for the GMF code generator</td>
							</tr>
							<tr><td>o.e.x.e.g.diagram</td>
							<td>GMF</td>
							<td>GMF diagram editor</td>
							<td>Purely generated from the GMF design models</td>
							</tr>
							<tr><td>o.e.x.e.g.d.extensions</td>
							<td>GMF and Xtext</td>
							<td>GMF diagram editor extensions</td>
							<td>Manual extensions 
							  to the generated GMF editor for integration with Xtext</td>
							</tr>
							<tr><td>o.e.x.gmf.glue</td>
							<td>Xtext and GMF</td>
							<td>Glue code</td>
							<td>Generic code to integrate Xtext and GMF</td>
							</tr>
							</table>
							<p>
						</p>
						<p>
							We will elaborate the example in three stages.
						</p>
						<!-- subsection -->
						<section id="gmf_integration_stage_1" style="padding-top: 68px; margin-top: -68px;">
						<h3>Stage 1: Make GMF Read and Write the Semantic Model As Text</h3>
						<p>
							A diagram editor in GMF by default manages two resources: One for the semantic model, that is the 
							model we're actually interested in for further processing. In our example it is a model representing 
							entities and data types. The second resource holds the notation model. It represents the shapes you 
							see in the diagram and their graphical properties. Notation elements reference their semantic 
							counterparts. An entity's name would be in the semantic model, while the font to draw it in the 
							diagram would be stored the notation model. Note that in the integration example we're only trying 
							to represent the semantic resource as text.
						</p>
						<p>
							To keep the semantic model and the diagram model in sync, GMF uses a so called <strong>CanonicalEditPolicy</strong>. 
							This component registers as a listener to the semantic model and automatically updates diagram 
							elements when their semantic counterparts change, are added or are removed. Some notational information 
							can be derived from the semantic model by some default mapping, but usually there is a lot of graphical 
							stuff that the user wants to change to make the diagram look better.
						</p>
						<p>
							In an Xtext editor, changes in the text are transferred to the underlying 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/XtextResource.html"><abbr title="org.eclipse.xtext.resource.XtextResource">XtextResource</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">(src)</a> by a call to the method 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/XtextResource.html">XtextResource.update(int, int, String)</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">(src)</a>, which will trigger a
							partial parsing of the dirty text region and a replacement of the corresponding subtree in the AST model 
							(semantic model).
						</p>
						<p>
							Having an Xtext editor and a canonical GMF editor on the same resource can therefore lead to loss of 
							notational information, as a change in the Xtext editor will remove a subtree in the AST, causing the 
							<strong>CanonicalEditPolicy</strong> to remove all notational elements, even though it was customized by the user. 
							The Xtext rebuilds the AST and the notation model is restored using the default mapping. It is therefore 
							not recommended to let an Xtext editor and a canonical GMF editor work on the same resource.
						</p>
						<p>
							In this example, we let each editor use its own memory instance of the model and synchronize on file 
							changes only. Both frameworks already synchronize with external changes to the edited files 
							out-of-the-box. In the glue code, a <strong>org.eclipse.xtext.gmf.glue.concurrency.ConcurrentModificationObserver</strong>
							warns the user if she tries to edit the same file with two different model editors concurrently.
						</p>
						<p>
							In the example, we started with writing an Xtext grammar for an entity language. As explained above, we 
							preferred optional assignments and rather covered mandatory attributes in a validator. Into the bargain, 
							we added some services to improve the EMF integration, namely a formatter, a fragment provider and an 
							unloader. Then we let Xtext generate the language infrastructure. From the derived Ecore model and its 
							generator model, we generated the edit plug-in (needed by GMF) and added some fancier icons.
						</p>
						<p>
							From the GMF side, we followed the default procedure and created a gmfgraph model, a gmftool model and 
							a gmfmap model referring to the Ecore model derived form the Xtext grammar. We changed some settings in 
							the gmfgen model derived by GMF from the gmfmap model, namely to enable printing and to enable validation 
							and validation decorators. Then we generated the diagram editor.
						</p>
						<p>
							Voilà, we now have a diagram editor that reads/writes its semantic model as text. Also note that the 
							validator from Xtext is already integrated in the diagram editor via the menu bar.
						</p>
						</section>
						<!-- subsection -->
						<section id="_102" style="padding-top: 68px; margin-top: -68px;">
						<h3>Stage 2: Calling the Xtext Parser to Parse GMF Labels</h3>
						<p>
							GMF's generated parser for the labels is a bit poor: It will work on attributes only, and will fail for 
							cross-references, e.g. an attribute's type. So why not use the Xtext parser to process the user's input?
						</p>
						<p>
							An <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/XtextResource.html"><abbr title="org.eclipse.xtext.resource.XtextResource">XtextResource</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/XtextResource.java">(src)</a> keeps track of it's concrete syntax representation by 
							means of a so called node model (see <a href="#parser_rules"></a> for a more detailed description). The node model 
							represents the parse tree and provides information on the offset, length and text that has been parsed to 
							create a semantic model element. The nodes are attached to their semantic elements by means of a node adapter.
						</p>
						<p>
							We can use the node adapter to access the text block that represents an attribute, and call the Xtext 
							parser to parse the user input. The example code is contained in
							<strong>org.eclipse.xtext.gmf.glue.edit.part.AntlrParserWrapper</strong>. <strong>SimplePropertyWrapperEditPartOverride</strong> shows 
							how this is integrated into the generated GMF editor. Use the <strong>EntitiesEditPartFactoryOverride</strong> to instantiate 
							it and the <strong>EntitiesEditPartProviderOverride</strong> to create the overridden factory, and register the latter to 
							the extension point. Note that this is a non-invasive way to extend generated GMF editors.
						</p>
						<p>
							When you test the editor, you will note that the node model will be corrupt after editing a few labels. This 
							is because the node model is only updated by the Xtext parser and not by the serializer. So we need a way 
							to automatically call the (partial) parser every time the semantic model is changed. You will find the required 
							classes in the package <strong>org.eclipse.xtext.gmf.glue.editingdomain</strong>. To activate node model reconciling, you 
							have to add a line
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
XtextNodeModelReconciler.adapt(editingDomain);</pre>
							<p>
						</p>
						<p>
							in the method <code class="prettyprint lang-java">createEditingDomain()</code> of the generated <strong>EntitiesDocumentProvider</strong>. To avoid changing the 
							generated code, you can modify the code generation template for that class by setting
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
Dynamic Templates -&gt; true
  Template Directory = "org.eclipse.xtext.example.gmf.models/templates"</pre>
							<p>
						</p>
						<p>
							in the <strong>GenEditorGenerator</strong> and
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
Required Plugins -&gt; "org.eclipse.xtext.gmf.glue"</pre>
							<p>
						</p>
						<p>
							in the <strong>GenPlugin</strong> element of the gmfgen before generating the diagram editor anew.
						</p>
						</section>
						<!-- subsection -->
						<section id="_103" style="padding-top: 68px; margin-top: -68px;">
						<h3>Stage 3: A Popup Xtext Editor (experimental)</h3>
						<p>
							<strong>SimplePropertyPopupXtextEditorEditPartOverride</strong> demonstrates how to spawn an Xtext editor to edit a model 
							element. The editor pops up in its control and shows only the section of the selected element. It is a fully 
							fledged Xtext editor, with support of validation, code assist and syntax highlighting. The edited text is only
							transferred back to the model if it does not have any errors.
						</p>
						<p>
							Note that there still are synchronization issues, that's why we keep this one marked as experimental.
						</p>
						</section>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="migrating_from_1_0_x" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							Migrating from Xtext 1.0.x to 2.0
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							Most of the tasks when migrating to Xtext 2.0 can be automated. Some changes will be necessary in 
							the manually written code where you have to carefully verify that your implementation is still working 
							with Xtext 2.0. A reliable test-suite helps a lot.
						</p>
						<p>
							The grammar language is fully backward compatible. You should not have to apply any changes in the 
							primary artifact. However, we introduced some additional validation rules that mark inconsistencies in your 
							grammar. If you get any warnings in the grammar editor, it should be straight forward to fix them.
						</p>
						<p>
							<strong>Tip: You'll learn something about the new features if you compare a freshly created Xtext project based
							on 1.0.x with a new Xtext project based on 2.0. Especially the new fragments in the workflow are a good 
							indicator for useful new features.</strong>
						</p>
						<!--  section -->
						<section id="_18" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Take the Shortcut</h2>
						<p>
							If you haven't made too many customizations to the generated defaults and if you're not referencing many 
							classes of your Xtext language from the outside, you might consider starting with a new Xtext project, 
							copying your grammar and then manually restoring your changes step by step. If that does not work for you, 
							go on reading!
						</p>
						</section>
						<!--  section -->
						<section id="_19" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Migrating Step By Step</h2>
						<p>
							Before you start the migration to Xtext 2.0, you should make sure that no old plug-ins are in your target platform.
						</p>
						<p>
							<strong>Tip: The following steps try to use the Eclipse compiler to spot any source-incompatible changes while 
							fixing them with only a few well described user actions. Doing these steps in another order causes most 
							likely a higher effort.</strong>
						</p>
						<!-- subsection -->
						<section id="_104" style="padding-top: 68px; margin-top: -68px;">
						<h3>Update the Plug-in Dependencies and Import Statements</h3>
						<p>
							You should update the version constraints of the plug-in dependencies in your manifest files from version 
							<strong>1.0.x</strong> to <strong>2.0</strong> if you specified any concrete versions.
							Also the constraint of <strong>org.antlr.runtime</strong> must be updated from <strong>[3.0.0,3.0.2)</strong> to <strong>3.2.0</strong>.
						</p>
						<p>
							The next step is to fix the import statements in your classes to match the refactored naming scheme in Xtext. 
							This fixes most of the problems in the manually written code.
						</p>
						</section>
						<!-- subsection -->
						<section id="_105" style="padding-top: 68px; margin-top: -68px;">
						<h3>Introduction of the Qualified Name</h3>
						<p>
							With Xtext 2.0 an object for dealing with qualified names has been introduced: <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/QualifiedName.html"><abbr title="org.eclipse.xtext.naming.QualifiedName">QualifiedName</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/QualifiedName.java">(src)</a>. 
							The qualified name is now split into segments which can be queried. The lower-case version of the qualified name is cached
							so that the performance of case insensitive languages is improved.
							The signature of the methods used by the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/DefaultDeclarativeQualifiedNameProvider.html"><abbr title="org.eclipse.xtext.naming.DefaultDeclarativeQualifiedNameProvider">DefaultDeclarativeQualifiedNameProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/DefaultDeclarativeQualifiedNameProvider.java">(src)</a> 
							changed to <code class="prettyprint lang-java">QualifiedName qualifiedName(Object)</code>.
						</p>
						<p>
							The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/IQualifiedNameConverter.html"><abbr title="org.eclipse.xtext.naming.IQualifiedNameConverter">IQualifiedNameConverter</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/IQualifiedNameConverter.java">(src)</a> converts qualified names from/to their <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html"><abbr title="java.lang.String">String</abbr></a> 
							representation. This is also where you specify the separator and wildcard strings. If you already know the segments of a 
							qualified name, you can also create it using <code class="prettyprint lang-java">QualifiedName.create(String ...)</code>.
						</p>
						<p>
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/QualifiedName.html"><abbr title="org.eclipse.xtext.naming.QualifiedName">QualifiedName</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/QualifiedName.java">(src)</a> is the new type of the <strong>name</strong> properties in the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html"><abbr title="org.eclipse.xtext.resource.IEObjectDescription">IEObjectDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a>. 
							So if you have customized indexing, e.g. implemented your own <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.Manager.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription$Manager">Manager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a>,
							you will have to create <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/QualifiedName.html">qualified names</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/QualifiedName.java">(src)</a> instead of <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html">strings</a>.
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IEObjectDescription.html">IEObjectDescriptions</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IEObjectDescription.java">(src)</a> are also used in other places such as <a href="#scoping">scoping</a>, 
							<a href="#linking">linking</a>, <a href="#serialization">serialization</a>, <a href="#contentAssist">content assist</a>...
						</p>
						<p>
							Furthermore, the method <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/IQualifiedNameProvider.html">IQualifiedNameProvider.getQualifiedName(EObject)</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/IQualifiedNameProvider.java">(src)</a> has been renamed 
							to <code class="prettyprint lang-java">getFullyQualifiedName(EObject)</code>.
						</p>
						</section>
						<!-- subsection -->
						<section id="_106" style="padding-top: 68px; margin-top: -68px;">
						<h3>Changes in the index and in find references</h3>
						<p>
							In Xtext 1.0.x the interfaces <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescriptions.html"><abbr title="org.eclipse.xtext.resource.IResourceDescriptions">IResourceDescriptions</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescriptions.java">(src)</a>, 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IResourceDescription.html"><abbr title="org.eclipse.xtext.resource.IResourceDescription">IResourceDescription</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IResourceDescription.java">(src)</a> and <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/resources/IContainer.html"><abbr title="org.eclipse.core.resources.IContainer">IContainer</abbr></a> have 
							several methods to query them for contained elements. In Xtext 2.0 there is a common interface 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/ISelectable.html"><abbr title="org.eclipse.xtext.resource.ISelectable">ISelectable</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/ISelectable.java">(src)</a> for this use case which is extended by the interfaces mentioned 
							above. For further details have a look at the interface <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/ISelectable.html"><abbr title="org.eclipse.xtext.resource.ISelectable">ISelectable</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/ISelectable.java">(src)</a>.
						</p>
						<p>
							The default indexing for Xtext resources as it is defined in <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/impl/DefaultResourceDescriptionManager.html"><abbr title="org.eclipse.xtext.resource.impl.DefaultResourceDescriptionManager">DefaultResourceDescriptionManager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/impl/DefaultResourceDescriptionManager.java">(src)</a>
							has changed. Only cross-references pointing to elements outside the current resource are indexed. Furthermore,
							the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/impl/DefaultResourceDescriptionManager.html"><abbr title="org.eclipse.xtext.resource.impl.DefaultResourceDescriptionManager">DefaultResourceDescriptionManager</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/impl/DefaultResourceDescriptionManager.java">(src)</a> can now be easier customized
							with an <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IDefaultResourceDescriptionStrategy.html"><abbr title="org.eclipse.xtext.resource.IDefaultResourceDescriptionStrategy">IDefaultResourceDescriptionStrategy</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IDefaultResourceDescriptionStrategy.java">(src)</a>.
						</p>
						<p>
							For Ecore files only <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html">EPackages</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a>, <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClassifier.html">EClassifiers</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EClassifier.java">(src)</a>
							and <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EStructuralFeature.html">EStructuralFeatures</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EStructuralFeature.java">(src)</a> are indexed, each with both, the <strong>nsURI</strong> and
							the <strong>name</strong> of the containing <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html"><abbr title="org.eclipse.emf.ecore.EPackage">EPackage</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> in their qualified name.
						</p>
						<p>
							There is a new interface to find references to Xtext elements: <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/findrefs/IReferenceFinder.html"><abbr title="org.eclipse.xtext.ui.editor.findrefs.IReferenceFinder">IReferenceFinder</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/findrefs/IReferenceFinder.java">(src)</a>.
							It allows to distinguish searches in the local <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/resource/Resource.html"><abbr title="org.eclipse.emf.ecore.resource.Resource">Resource</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/Resource.java">(src)</a> from
							global index searches. Local searches will yield <strong>all</strong> local cross references independent of the indexing
							strategy.
						</p>
						</section>
						<!-- subsection -->
						<section id="_107" style="padding-top: 68px; margin-top: -68px;">
						<h3>Rewritten Node Model</h3>
						<p>
							To reduce memory consumption, the node model has been redesigned in Xtext 2.0. We no longer
							use EMF, but a chained list of compressed nodes instead.
						</p>
						<p>
							The package <strong>org.eclipse.xtext.nodemodel</strong> now contains the relevant interfaces to program against. The 
							new interfaces follow the naming convention of other types in the framework. They are called 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/nodemodel/INode.html"><abbr title="org.eclipse.xtext.nodemodel.INode">INode</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/nodemodel/INode.java">(src)</a>, <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/nodemodel/ICompositeNode.html"><abbr title="org.eclipse.xtext.nodemodel.ICompositeNode">ICompositeNode</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/nodemodel/ICompositeNode.java">(src)</a> and 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/nodemodel/ILeafNode.html"><abbr title="org.eclipse.xtext.nodemodel.ILeafNode">ILeafNode</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/nodemodel/ILeafNode.java">(src)</a>.
							 That way, most of the migration will be done by prefixing the old names with an <strong>I</strong> 
							and use the organize imports tool. Please make sure not 
							to program against concrete or abstract classes.
						</p>
						<p>
							If you used the node model a lot, you should have a closer look at the new APIs. The <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> 
							API is no longer available on the nodes. Instead, you we offer a couple of <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Iterable.html">Iterables</a>
							for traversing the tree. Where appropriate, helper methods of the former <strong>ParseTreeUtil</strong> and <strong>NodeUtil</strong>
							have become members of the nodes, e.g. <code class="prettyprint lang-java">NodeUtil.getAllContents(AbstractNode)</code> has become 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/nodemodel/INode.html">INode.getAsTreeIterable()</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/nodemodel/INode.java">(src)</a> The remaining methods have been converted 
							and moved to the new <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/nodemodel/util/NodeModelUtils.html"><abbr title="org.eclipse.xtext.nodemodel.util.NodeModelUtils">NodeModelUtils</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/nodemodel/util/NodeModelUtils.java">(src)</a>.
						</p>
						</section>
						<!-- subsection -->
						<section id="_108" style="padding-top: 68px; margin-top: -68px;">
						<h3>New Outline</h3>
						<p>
							The outline view has been completely re-implemented. To use the new one remove the following fragments from
							your workflow
							 
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
fragment = outline.TransformerFragment{}
fragment = outline.OutlineNodeAdapterFactoryFragment{}</pre>
							<p>
							
							and add 
							</p>
							<pre class="prettyprint lang-mwe2 linenums">
fragment = outline.OutlineTreeProviderFragment {}</pre>
							<p>
						</p>
						<p>
							After generating a new class named <strong>MyDslOutlineTreeProvider</strong> is generated. The API changed completely.
							For that reason you should take a closer look at the <a href="#outline">chapter on the outline</a>. 
							The old classes named <strong>MyDslTransformer</strong> and <strong>MyDslOutlineNodeAdapterFactory</strong> have become obsolete
							and should be removed after having migrated your code to the new API.
						</p>
						</section>
						<!-- subsection -->
						<section id="_109" style="padding-top: 68px; margin-top: -68px;">
						<h3>AutoEditStrategy</h3>
						<p>
							In Xtext 1.0.x your AutoEditStrategy extends the class <strong>DefaultAutoEditStrategy</strong> which implements the
							interface <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/text/IAutoEditStrategy.html"><abbr title="org.eclipse.jface.text.IAutoEditStrategy">IAutoEditStrategy</abbr></a>. In Xtext 2.0 the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/autoedit/DefaultAutoEditStrategyProvider.html"><abbr title="org.eclipse.xtext.ui.editor.autoedit.DefaultAutoEditStrategyProvider">DefaultAutoEditStrategyProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/autoedit/DefaultAutoEditStrategyProvider.java">(src)</a> 
							should be extended instead. The only thing you have to do is to change the superclass from <strong>DefaultAutoEditStrategy</strong>
							to <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/autoedit/DefaultAutoEditStrategyProvider.html"><abbr title="org.eclipse.xtext.ui.editor.autoedit.DefaultAutoEditStrategyProvider">DefaultAutoEditStrategyProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/autoedit/DefaultAutoEditStrategyProvider.java">(src)</a>.
							The interface <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/autoedit/AbstractEditStrategyProvider.IEditStrategyAcceptor.html"><abbr title="org.eclipse.xtext.ui.editor.autoedit.AbstractEditStrategyProvider$IEditStrategyAcceptor">IEditStrategyAcceptor</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/autoedit/AbstractEditStrategyProvider.java">(src)</a> changed from 
							<code class="prettyprint lang-java">accept(IAutoEditStrategy)</code> 
							to <code class="prettyprint lang-java">accept(IAutoEditStrategy, String)</code>. The last parameter represents the <strong>contentType</strong> of the document. Constants
							could be found in the <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/text/IDocument.html"><abbr title="org.eclipse.jface.text.IDocument">IDocument</abbr></a> and in the
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/model/TerminalsTokenTypeToPartitionMapper.html"><abbr title="org.eclipse.xtext.ui.editor.model.TerminalsTokenTypeToPartitionMapper">TerminalsTokenTypeToPartitionMapper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/model/TerminalsTokenTypeToPartitionMapper.java">(src)</a>.
						</p>
						<p>
							As a example the configure method could look like this one:
							</p>
							<pre class="prettyprint lang-java linenums">
@Override
protected void configure(IEditStrategyAcceptor acceptor) {
  super.configure(acceptor);
  acceptor.accept(new YourAutoEditStrategy(),
          IDocument.DEFAULT_CONTENT_TYPE);
}</pre>
							<p>
							
							The last thing you have to do is to change the binding of the <strong>IAutoEditStrategy</strong> 
							in the <strong>MyDslUIModule</strong> from
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-java linenums">
public Class&lt;? extends IAutoEditStrategy&gt; bindIAutoEditStrategy()</pre>
							<p>
							 
							to 
							</p>
							<pre class="prettyprint lang-java linenums">
public Class&lt;? extends AbstractEditStrategyProvider&gt; 
  bindAbstractEditStrategyProvider() { .. }</pre>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_110" style="padding-top: 68px; margin-top: -68px;">
						<h3>Other Noteworthy API Changes</h3>
						<p>
							The <strong>src</strong> folders are generated once, so existing code will not be overwritten but has to be updated manually.
						</p>
						<p>
							You will face a couple of compilation problems due to changes in the API. Here's a list of the most prominent 
							changes. It is usually only necessary to change your code, if you face any compilation problems.
							</p>
							<ul>
								<li>In the interface <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IGlobalScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.IGlobalScopeProvider">IGlobalScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IGlobalScopeProvider.java">(src)</a> the method <code class="prettyprint lang-java">getScope(EObject,EReference)</code> 
								    has been removed. Use <code class="prettyprint lang-java">getScope(Resource, EReference, Predicate&lt;IEObjectDescription&gt;)</code> instead.</li>
								<li>The interface <strong>IAntlrParser</strong> has been removed. Use the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parser/IParser.html"><abbr title="org.eclipse.xtext.parser.IParser">IParser</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parser/IParser.java">(src)</a> instead.</li>
								<li>The methods <code class="prettyprint lang-java">error(..)</code> and <code class="prettyprint lang-java">warning(..)</code> in the 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/AbstractDeclarativeValidator.html"><abbr title="org.eclipse.xtext.validation.AbstractDeclarativeValidator">AbstractDeclarativeValidator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/AbstractDeclarativeValidator.java">(src)</a> used to accept 
								    integer constants representing the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EStructuralFeature.html"><abbr title="org.eclipse.emf.ecore.EStructuralFeature">EStructuralFeature</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EStructuralFeature.java">(src)</a> which caused
								    the issues. These integer parameters were replaced
								    by the feature itself, e.g. from <code class="prettyprint lang-java">error(String, Integer)</code> to <code class="prettyprint lang-java">error(String, EStructuralFeature)</code>. 
								    Use the generated <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EPackage.html">EPackage.Literals</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">(src)</a> to access 
								    the <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EStructuralFeature.html">EStructuralFeatures</a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EStructuralFeature.java">(src)</a>.</li>
								<li>The enum <strong>DiagnosticSeverity</strong> has been renamed to <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/diagnostics/Severity.html"><abbr title="org.eclipse.xtext.diagnostics.Severity">Severity</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/diagnostics/Severity.java">(src)</a>.</li>
								<li>The class <strong>TextLocation</strong> has been replaced by the interface <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/util/ITextRegion.html"><abbr title="org.eclipse.xtext.util.ITextRegion">ITextRegion</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.util/src/org/eclipse/xtext/util/ITextRegion.java">(src)</a>
								    with an immutable implementation <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/util/TextRegion.html"><abbr title="org.eclipse.xtext.util.TextRegion">TextRegion</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.util/src/org/eclipse/xtext/util/TextRegion.java">(src)</a>.</li>
								<li>In Xtext 1.0.x the class <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/EObjectAtOffsetHelper.html"><abbr title="org.eclipse.xtext.resource.EObjectAtOffsetHelper">EObjectAtOffsetHelper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/EObjectAtOffsetHelper.java">(src)</a> provided several static
								      methods to resolve elements. In
								    Xtext 2.0 these methods aren't static anymore. For that reason you could create an instance of this class or let 
								    Guice do the job for you: 
								<pre class="prettyprint lang-java linenums">
@Inject private EObjectAtOffsetHelper eObjectAtOffsetHelper;</pre></li>
								<li>The method <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/EObjectAtOffsetHelper.html">EObjectAtOffsetHelper.resolveElementAt(XtextResource, int, TextLocation)</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/EObjectAtOffsetHelper.java">(src)</a> 
								    changed to <code class="prettyprint lang-java">resolveElementAt(XtextResource, int)</code>.
								    You have to use the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/ILocationInFileProvider.html"><abbr title="org.eclipse.xtext.resource.ILocationInFileProvider">ILocationInFileProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/ILocationInFileProvider.java">(src)</a> to compute the 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/util/TextRegion.html"><abbr title="org.eclipse.xtext.util.TextRegion">TextRegion</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.util/src/org/eclipse/xtext/util/TextRegion.java">(src)</a>.</li>
								<li>The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/ILocationInFileProvider.html"><abbr title="org.eclipse.xtext.resource.ILocationInFileProvider">ILocationInFileProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/ILocationInFileProvider.java">(src)</a> now offers methods <code class="prettyprint lang-java">getSignificantTextRegion()</code>
								    and <code class="prettyprint lang-java">getFullTextRegion()</code> to make the distinction between the name and the full region of an element.
								    The old <code class="prettyprint lang-java">getLocation()</code> method was removed.</li>
							</ul>
							<p>
						</p>
						<p>
							If you experience further problems, please refer to the <a href="http://www.eclipse.org/forums/index.php?t=thread&frm_id=27">newsgroup</a>.
						</p>
						</section>
						</section>
						<!--  section -->
						<section id="_20" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Now go for then new features</h2>
						<p>
							After migrating, some of the new features in Xtext 2.0 will be automatically available. Others require further configuration.
							We recommend exploring
							</p>
							<ul>
								<li>Xbase,</li>
								<li>the new Xtend,</li>
								<li>rename refactorings</li>
								<li>the compare view,</li>
								<li>rich hovers,</li>
								<li>the Xtext syntax graph,</li>
								<li><a href="#antlr_errors">support for syntactic predicates</a>,</li>
								<li>the generated debug grammar,</li>
								<li><a href="#terminal_fragment">terminal fragments</a>,</li>
								<li>document partitions and auto edit</li>
								<li>the redesigned <a href="#outline">outline view</a>,</li>
								<li>and the <a href="#quickfixes">quick fixes for the Xtext grammar language</a>.</li>
							</ul>
							<p>
						</p>
						</section>
					</div>
				</div>
			</section>
			<!-- chapter -->
			<section id="migrating_from_0_7" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							Migrating from Xtext 0.7.x to 1.0
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							For the sake of completeness, here is how you migrate from Xtext 0.7.x to Xtext 1.0, so you might do
							a migration to 2.0 in two steps. Nevertheless, there have been so many new features and changes that 
							it probably makes more sense to just copy the grammar and start with a new Xtext 2.0 project. The grammar 
							language is fully backward compatible.
						</p>
						<!--  section -->
						<section id="_21" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Migrating Step By Step</h2>
						<p>
							Once again, you should make sure that no old plug-ins are in your target platform. Some plug-ins from 
							Xtext 0.7.x have been merged and do no longer exist.
						</p>
						<p>
							<strong>Tip: The following steps try to use the Eclipse compiler to spot any source-incompatible changes 
							while fixing them with only a few well described user actions. Doing these steps in another order 
							causes most likely a higher effort.</strong>
						</p>
						<!-- subsection -->
						<section id="_111" style="padding-top: 68px; margin-top: -68px;">
						<h3>Update the Plug-in Dependencies and Import Statements</h3>
						<p>
							You should update the constraints from version <strong>0.7.x</strong> to <strong>[1.0.0,2.0.0)</strong> in your manifest files 
							if you specified any concrete versions. Make sure that your <strong>dsl.ui</strong>-projects do not refer to the 
							plug-in <strong>org.eclipse.xtext.ui.common</strong> or <strong>org.eclipse.xtext.ui.core</strong> but to <strong>org.eclipse.xtext.ui</strong> 
							instead. The arguably easiest way is a global text-based search and replace across the manifest files. 
							The bundle <strong>org.eclipse.xtext.log4j</strong> is obsolete as well. The generator will create <strong>import-package</strong> 
							entries in the manifests later on.
						</p>
						<p>
							The next step is to fix the import statements in your classes to match the refactored naming scheme 
							in Xtext. Perform a global search for <code class="prettyprint lang-java">import org.eclipse.xtext.ui.common.</code> and 
							<code class="prettyprint lang-java">org.eclipse.xtext.ui.core.</code> and replace the matches with <code class="prettyprint lang-java">import org.eclipse.xtext.ui.</code>. 
							This fixes most of the problems in the manually written code.
						</p>
						</section>
						<!-- subsection -->
						<section id="_112" style="padding-top: 68px; margin-top: -68px;">
						<h3>Rename the Packages in the dsl.ui-Plug-in</h3>
						<p>
							We changed the naming pattern for artifacts in the <strong>dsl.ui</strong>-plug-in to match the OSGi conventions. 
							The easiest way to update your existing projects is to apply a "Rename Package" refactoring on the 
							packages in the <strong>src</strong>- and <strong>src-gen</strong> folder <strong>before</strong> you re-run the workflow that regenerates your 
							language. Make sure you ticked "Rename subpackages" in the rename dialog. It is error-prone to enable the 
							search in non-Java files as this will perform incompatible changes in the manifest files. Furthermore, 
							it is important to perform the rename operation in the <strong>src-gen</strong> folder, too. This ensures that the 
							references in your manually written code are properly updated.
						</p>
						</section>
						<!-- subsection -->
						<section id="_113" style="padding-top: 68px; margin-top: -68px;">
						<h3>Update the Workflow</h3>
						<p>
							The <strong>JavaScopingFragment</strong> does no longer exist. It has been superseded by the 
							<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/scoping/ImportURIScopingFragment.html"><abbr title="org.eclipse.xtext.generator.scoping.ImportURIScopingFragment">ImportURIScopingFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/scoping/ImportURIScopingFragment.java">(src)</a> 
							in combination with the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/exporting/SimpleNamesFragment.html"><abbr title="org.eclipse.xtext.generator.exporting.SimpleNamesFragment">SimpleNamesFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/exporting/SimpleNamesFragment.java">(src)</a>.
							Please replace
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xml linenums">
&lt;fragment class=
  "org.eclipse.xtext.generator.scoping.JavaScopingFragment"/&gt;</pre>
							<p>
						</p>
						<p>
							with
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xml linenums">
&lt;fragment class=
  "org.eclipse.xtext.generator.scoping.ImportURIScopingFragment"/&gt;
&lt;fragment class=
  "org.eclipse.xtext.generator.exporting.SimpleNamesFragment"/&gt;</pre>
							<p>
						</p>
						<p>
							The <strong>PackratParserFragment</strong> has been abandoned as well. It is save to remove the reference to that one if it is activated 
							in your workflow. After you've changed your workflow, it should be possible to regenerate your language without any 
							errors in the console. It is ok to have compilation errors prior to executing the workflow.
						</p>
						</section>
						<!-- subsection -->
						<section id="_114" style="padding-top: 68px; margin-top: -68px;">
						<h3>MANIFEST.MF and plugin.xml</h3>
						<p>
							The previous rename package refactoring updated most of the entries in the <strong>MANIFEST.MF</strong> and and some entries in 
							the <strong>plugin.xml</strong>. Others have to be fixed manually. The Eclipse compiler will point to many of the remaining problems 
							in the manifest files but it is unlikely that it will spot the erroneous references in the <strong>plugin.xml</strong>.
						</p>
						<p>
							</p>
							<ul>
								<li>In the generated UI plug-in's <strong>MANIFEST.MF</strong>, remove the package exports of no longer 
								    existing packages and make sure the bundle activator points to the newly generated 
								    one (with <strong>.ui.</strong> in its package name).</li>
								<li>It was already mentioned that the plug-ins <strong>org.eclipse.xtext.ui.core</strong> and <strong>org.eclipse.xtext.ui.common</strong> 
								    have been merged into a new single plug-in <strong>org.eclipse.xtext.ui</strong>. The same happened to the respective 
								    Java packages. Change eventually remaining bundle-dependencies in all manifests.</li>
								<li>The plug-in <strong>org.eclipse.xtext.log4j</strong> no longer exists. We use a package import of <strong>org.apache.log4j</strong> instead. 
								    Also remove the buddy registration.</li>
								<li>Due to renamed packages, you have to fix all references to classes therein in the <strong>plugin.xml</strong>. 
								    A comparison with the <strong>plugin.xml_gen</strong> will be a great help. If you haven't added a lot manually, 
								    consider merging these into the generated version instead of going the other way around. Note that 
								    warnings in the <strong>plugin.xml</strong> can be considered to be real errors most of the time.
								    Make sure the <strong>MyDslExecutableExtensionFactory</strong> has the <strong>.ui.</strong> package prefix.
								    Classes from <strong>org.eclipse.xtext.ui.common</strong> and <strong>org.eclipse.xtext.ui.core</strong> are now usually 
								    somewhere in <strong>org.eclipse.xtext.ui</strong>. They are also referenced by the 
								<strong>MyDslExecutableExtensionFactory</strong> and thus not covered by the validation of the <strong>plugin.xml</strong>.</li>
								<li>A number of new features are being registered in the <strong>plugin.xml</strong>, e.g. <strong>Find references</strong>, <strong>Quick Outline</strong>, 
								    and <strong>Quick Fixes</strong>. You can enable them by manually copying the respective entries from <strong>plugin.xml_gen</strong> to <strong>plugin.xml</strong>.</li>
								<li>To run MWE2 workflows later on, you must change the plug-in dependencies from 
								<strong>org.eclipse.emf.mwe.core</strong> to <strong>org.eclipse.emf.mwe2.launch</strong> in your manifest. Optional resolution is fine.</li>
							</ul>
							<p>
						</p>
						</section>
						<!-- subsection -->
						<section id="_115" style="padding-top: 68px; margin-top: -68px;">
						<h3>Noteworthy API Changes</h3>
						<p>
							The <strong>src</strong> folders are generated once, so existing code will not be overwritten but has to be updated manually. 
							At least one new class has appeared in your <strong>src</strong>-folder of the <strong>ui</strong> plug-in. there will now be a 
							<strong>MyDslStandaloneSetup</strong> inheriting form the generated <strong>MyDslStandaloneSetupGenerated</strong> to allow customization.
						</p>
						<p>
							You will face a couple of compilation problems due to changes in the API. Here's a list of the most prominent changes. 
							It is usually only necessary to change your code, if you face any compilation problems.
						</p>
						<p>
							</p>
							<ul>
								<li>The method <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/IScopeProvider.html">IScopeProvider.getScope(EObject,EClass)</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">(src)</a> has been 
								    removed. Use <code class="prettyprint lang-java">getScope(EObject,EReference)</code> instead.</li>
								<li>Renamed <strong>DefaultScopeProvider</strong> to <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/scoping/impl/SimpleLocalScopeProvider.html"><abbr title="org.eclipse.xtext.scoping.impl.SimpleLocalScopeProvider">SimpleLocalScopeProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/scoping/impl/SimpleLocalScopeProvider.java">(src)</a>. There have been 
								    further significant changes in the scoping API that allow for optimized implementations. Consult the 
								<a href="#scoping">section on scoping</a> for details.</li>
								<li>The return type of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/AbstractInjectableValidator.html">AbstractInjectableValidator.getEPackages()</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/AbstractInjectableValidator.java">(src)</a> was 
								    changed from <code class="prettyprint lang-java">List&lt;? extends EPackage&gt;</code> to <code class="prettyprint lang-java">List&lt;EPackage&gt;</code>.</li>
								<li>The parser interfaces now use <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/Reader.html"><abbr title="java.io.Reader">Reader</abbr></a> instead of <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/InputStream.html"><abbr title="java.io.InputStream">InputStream</abbr></a> to explicitly address 
								    encoding. Have a look at the <a href="#encoding">section on encoding</a> for details.</li>
								<li>The handling of <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/viewers/ILabelProvider.html"><abbr title="org.eclipse.jface.viewers.ILabelProvider">ILabelProvider</abbr></a> in various contexts has been refactored. 
								    The former base class <strong>DefaultLabelProvider</strong> no longer exists. Use the 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/label/DefaultEObjectLabelProvider.html"><abbr title="org.eclipse.xtext.ui.label.DefaultEObjectLabelProvider">DefaultEObjectLabelProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/label/DefaultEObjectLabelProvider.java">(src)</a> instead. 
								    See the <a href="#labelProvider">section on label providers</a> for details.</li>
								<li>We have introduced a couple of new packages to better separate concerns. Most classes should be easy to relocate.</li>
								<li>The runtime and UI modules have separate base classes <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/service/DefaultRuntimeModule.html"><abbr title="org.eclipse.xtext.service.DefaultRuntimeModule">DefaultRuntimeModule</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/service/DefaultRuntimeModule.java">(src)</a> and 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/DefaultUiModule.html"><abbr title="org.eclipse.xtext.ui.DefaultUiModule">DefaultUiModule</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/DefaultUiModule.java">(src)</a> now. We use Guice's module overrides to combine them with the newly 
								    introduced <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/shared/internal/SharedModule.html"><abbr title="org.eclipse.xtext.ui.shared.internal.SharedModule">SharedModule</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui.shared/src/org/eclipse/xtext/ui/shared/internal/SharedModule.java">(src)</a>. You have to add a constructor the your 
								<strong>MyDslUiModule</strong> that takes an <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/ui/plugin/AbstractUIPlugin.html"><abbr title="org.eclipse.ui.plugin.AbstractUIPlugin">AbstractUIPlugin</abbr></a> as argument and pass that one to 
								    the super constructor. <strong>Tip: There is an Eclipse quick fix available for that one.</strong></li>
								<li>The interfaces <strong>ILexicalHighlightigConfiguration</strong> and <strong>ISemanticHighlightingConfiguration</strong> have been merged into 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightingConfiguration.html"><abbr title="org.eclipse.xtext.ui.editor.syntaxcoloring.IHighlightingConfiguration">IHighlightingConfiguration</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/syntaxcoloring/IHighlightingConfiguration.java">(src)</a>.</li>
								<li>The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/templates/DefaultTemplateProposalProvider.html"><abbr title="org.eclipse.xtext.ui.editor.templates.DefaultTemplateProposalProvider">DefaultTemplateProposalProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/templates/DefaultTemplateProposalProvider.java">(src)</a> takes an additional, injectable 
								    constructor parameter of type <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/templates/ContextTypeIdHelper.html"><abbr title="org.eclipse.xtext.ui.editor.templates.ContextTypeIdHelper">ContextTypeIdHelper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/templates/ContextTypeIdHelper.java">(src)</a>.</li>
								<li>The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/hyperlinking/HyperlinkHelper.html"><abbr title="org.eclipse.xtext.ui.editor.hyperlinking.HyperlinkHelper">HyperlinkHelper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/hyperlinking/HyperlinkHelper.java">(src)</a> uses field injection instead of constructor 
								    injection. The method <code class="prettyprint lang-java">createHyperlinksByOffset(..)</code> should be overridden instead of the former 
								<code class="prettyprint lang-java">findCrossLinkedEObject</code>.</li>
								<li>The API to skip a node in the outline has changed. Instead of returning the <strong>HIDDEN_NODE</strong> you'll have to implement 
								<code class="prettyprint lang-java">boolean consumeNode(MyType)</code> and return <strong>false</strong>.
								    
								<strong>Note: The outline has been re-implemented in Xtext 2.0</strong>.</li>
								<li>The <strong>Readonly*Storage</strong> implementations have been removed. There is a new API to open editors for objects with a 
								    given URI. Please use the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/editor/IURIEditorOpener.html"><abbr title="org.eclipse.xtext.ui.editor.IURIEditorOpener">IURIEditorOpener</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/IURIEditorOpener.java">(src)</a> to create an editor or the 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/resource/IStorage2UriMapper.html"><abbr title="org.eclipse.xtext.ui.resource.IStorage2UriMapper">IStorage2UriMapper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/resource/IStorage2UriMapper.java">(src)</a> to obtain an <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/resources/IStorage.html"><abbr title="org.eclipse.core.resources.IStorage">IStorage</abbr></a> 
								    for a given <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/URI.html"><abbr title="org.eclipse.emf.common.util.URI">URI</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">(src)</a>.</li>
								<li>The interfaces <strong>IStateAccess</strong> and <strong>IEObjectHandle</strong> have been moved along with the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/util/concurrent/IUnitOfWork.html"><abbr title="org.eclipse.xtext.util.concurrent.IUnitOfWork">IUnitOfWork</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.util/src/org/eclipse/xtext/util/concurrent/IUnitOfWork.java">(src)</a> 
								    to the package <strong>org.eclipse.xtext.util.concurrent</strong>.
								    
								<strong>Note: IStateAccess was split into IReadAccess and IWriteAccess in Xtext 2.0.</strong></li>
								<li>The <strong>ValidationJobFactory</strong> is gone. Please implement a custom <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/validation/IResourceValidator.html"><abbr title="org.eclipse.xtext.validation.IResourceValidator">IResourceValidator</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/validation/IResourceValidator.java">(src)</a> 
								    instead.</li>
								<li>The grammar elements <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/Alternatives.html"><abbr title="org.eclipse.xtext.Alternatives">Alternatives</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/emf-gen/org/eclipse/xtext/Alternatives.java">(src)</a> and <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/Group.html"><abbr title="org.eclipse.xtext.Group">Group</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/emf-gen/org/eclipse/xtext/Group.java">(src)</a> have a new common 
								    super type <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/CompoundElement.html"><abbr title="org.eclipse.xtext.CompoundElement">CompoundElement</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/emf-gen/org/eclipse/xtext/CompoundElement.java">(src)</a>. The methods <code class="prettyprint lang-java">getGroups()</code> and <code class="prettyprint lang-java">getTokens()</code> have been refactored to <code class="prettyprint lang-java">getElements()</code>.</li>
								<li>Completion proposals take a <a href="http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/viewers/StyledString.html"><abbr title="org.eclipse.jface.viewers.StyledString">StyledString</abbr></a> instead of a plain string as display string.</li>
								<li>The <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/label/AbstractLabelProvider.html"><abbr title="org.eclipse.xtext.ui.label.AbstractLabelProvider">AbstractLabelProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/label/AbstractLabelProvider.java">(src)</a> does no longer expose its 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/IImageHelper.html"><abbr title="org.eclipse.xtext.ui.IImageHelper">IImageHelper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/IImageHelper.java">(src)</a>. Use <code class="prettyprint lang-java">convertToImage</code> instead or inject your own <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/ui/IImageHelper.html"><abbr title="org.eclipse.xtext.ui.IImageHelper">IImageHelper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/IImageHelper.java">(src)</a>.</li>
								<li>The implementation-classes from <strong>org.eclipse.xtext.index</strong> were superseded by the builder infrastructure. Use the 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/exporting/QualifiedNamesFragment.html"><abbr title="org.eclipse.xtext.generator.exporting.QualifiedNamesFragment">QualifiedNamesFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/exporting/QualifiedNamesFragment.java">(src)</a> and the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/generator/scoping/ImportNamespacesScopingFragment.html"><abbr title="org.eclipse.xtext.generator.scoping.ImportNamespacesScopingFragment">ImportNamespacesScopingFragment</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.generator/src/org/eclipse/xtext/generator/scoping/ImportNamespacesScopingFragment.java">(src)</a> 
								    instead of the <strong>ImportedNamespacesScopingFragment</strong>. Please refer to the <a href="#index_based">section about the builder infrastructure</a> for details.</li>
								<li>All the Xtend-based fragments were removed.</li>
								<li><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/linking/ILinkingService.html">ILinkingService.getLinkText</a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/linking/ILinkingService.java">(src)</a> was removed. Have a look at the 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/linking/impl/LinkingHelper.html"><abbr title="org.eclipse.xtext.linking.impl.LinkingHelper">LinkingHelper</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/linking/impl/LinkingHelper.java">(src)</a> and the 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/impl/CrossReferenceSerializer.html"><abbr title="org.eclipse.xtext.parsetree.reconstr.impl.CrossReferenceSerializer">CrossReferenceSerializer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/impl/CrossReferenceSerializer.java">(src)</a> if you relied on this method.</li>
								<li>The <strong>SerializerUtil</strong> was renamed to <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/Serializer.html"><abbr title="org.eclipse.xtext.parsetree.reconstr.Serializer">Serializer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/Serializer.java">(src)</a>. There were other 
								    heavy refactorings that involved the serializer and its components like e.g. the 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/parsetree/reconstr/ITransientValueService.html"><abbr title="org.eclipse.xtext.parsetree.reconstr.ITransientValueService">ITransientValueService</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/parsetree/reconstr/ITransientValueService.java">(src)</a> but it should be pretty straight forward to 
								    migrate existing client code.</li>
								<li>The method-signatures of the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/resource/IFragmentProvider.html"><abbr title="org.eclipse.xtext.resource.IFragmentProvider">IFragmentProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/resource/IFragmentProvider.java">(src)</a> have changed. The <a href="#fragmentProvider">documentation</a> 
								    will give a clue on how to update existing implementations.</li>
								<li>Some static methods were removed from utility classes such as <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/EcoreUtil2.html"><abbr title="org.eclipse.xtext.EcoreUtil2">EcoreUtil2</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/EcoreUtil2.java">(src)</a> and <strong>ParsetreeUtil</strong> 
								    in favor of more sophisticated implementations.</li>
							</ul>
							<p>
						</p>
						</section>
						</section>
					</div>
				</div>
			</section>
		</div>
	</div>
</div>
	<div id="extra">
		<div class="inner">
			<div class="container">
				<div class="row">
					<div class="span6">
						<h3>Quick Links</h3>
						<ul class="footer-links clearfix">
							<li><a href="http://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li>
							<li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
							<li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
							<li><a href="http://www.eclipse.org/legal/">Legal</a></li>
						</ul>
						<ul class="footer-links clearfix">
	      			<li><a href="http://www.eclipse.org">Eclipse Home</a></li>
							<li><a href="http://marketplace.eclipse.org/">Market Place</a></li>
							<li><a href="http://live.eclipse.org/">Eclipse Live</a></li>
							<li><a href="http://www.planeteclipse.org/">Eclipse Planet</a></li>
						</ul>
					</div>
					<div class="span6">
						<h3><a href="https://twitter.com/#!/xtext" style="color: white;">Xtext</a> on Twitter</h3>
						<br />
						<div id="tweet">
							<p>Please wait while my tweets load</p>
							<p>
								<a href="http://twitter.com/rem">If you can't wait - check
									out what I've been twittering</a>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Le javascript
	    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	
	<script src="js/bootstrap-transition.js"></script>
	<script src="js/bootstrap-alert.js"></script>
	<script src="js/bootstrap-modal.js"></script>
	<script src="js/bootstrap-dropdown.js"></script>
	<script src="js/bootstrap-scrollspy.js"></script>
	<script src="js/bootstrap-tab.js"></script>
	<script src="js/bootstrap-tooltip.js"></script>
	<script src="js/bootstrap-popover.js"></script>
	<script src="js/bootstrap-button.js"></script>
	<script src="js/bootstrap-collapse.js"></script>
	<script src="js/bootstrap-carousel.js"></script>
	<script src="js/bootstrap-typeahead.js"></script>
	
	<!-- include pretty-print files -->
	<script type="text/javascript" src="google-code-prettify/prettify.js"></script>
	<script type="text/javascript" src="google-code-prettify/lang-xtend.js"></script>
	
	<!-- Include the plug-in -->
	<script src="js/jquery.easing.1.3.js" type="text/javascript"></script>
	<script src="js/custom.js" type="text/javascript"></script>
	<script type="text/javascript" src="google-code-prettify/lang-common.js"></script><script type="text/javascript">
		registerLanguage('grammar|import|generate|terminal|enum|returns|with|hidden|as|current|fragment|EOF', 'xtext');
		registerLanguage('extends|super|instanceof|as|new|null|false|true|val|var|if|else|switch|case|default|do|while|for|typeof|throw|try|catch|finally|this|it|int|boolean|short|char|double|float|long|byte|void|return', 'xbase');
		registerLanguage('module|var|auto-inject|auto|inject|import|true|false', 'mwe2');
		registerLanguage('IMPORT|EXTENSION|FILE|ENDFILE|DEFINE|ENDDEFINE|FOR|ENDFOR|FOREACH|ENDFOREACH|AS|SEPARATOR|ITERATOR|EXPAND|REM|ENDREM|PROTECT|ENDPROTECT|this|IF|ENDIF|ELSE|null', 'xpand');
		registerLanguage('import|extension|this|create|cached|true|false|let|switch|case|if|then|else|context|WARNING|ERROR', 'check');
		registerLanguage('Hello', 'mydsl');
		registerLanguage('package|entity|datatype|many|import|extends|public|op|return|mapped-to', 'domainexample');
		registerLanguage('datatype|mapped-to', 'javatypesexample');
		registerLanguage('events|commands|state|actions|end|resetEvents', 'fowlerexample');
		registerLanguage('ref', 'linkingexample');
	</script>
</body>
</html>
